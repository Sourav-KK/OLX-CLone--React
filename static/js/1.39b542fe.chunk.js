(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__esDecorate",function(){return c}),n.d(e,"__runInitializers",function(){return h}),n.d(e,"__propKey",function(){return l}),n.d(e,"__setFunctionName",function(){return f}),n.d(e,"__metadata",function(){return d}),n.d(e,"__awaiter",function(){return p}),n.d(e,"__generator",function(){return m}),n.d(e,"__createBinding",function(){return v}),n.d(e,"__exportStar",function(){return g}),n.d(e,"__values",function(){return y}),n.d(e,"__read",function(){return b}),n.d(e,"__spread",function(){return w}),n.d(e,"__spreadArrays",function(){return _}),n.d(e,"__spreadArray",function(){return E}),n.d(e,"__await",function(){return S}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return I}),n.d(e,"__asyncValues",function(){return M}),n.d(e,"__makeTemplateObject",function(){return k}),n.d(e,"__importStar",function(){return A}),n.d(e,"__importDefault",function(){return O}),n.d(e,"__classPrivateFieldGet",function(){return R}),n.d(e,"__classPrivateFieldSet",function(){return N}),n.d(e,"__classPrivateFieldIn",function(){return x});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e,n,r,i,o){function a(t){if(void 0!==t&&"function"!==typeof t)throw new TypeError("Function expected");return t}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",h=!e&&t?r.static?t:t.prototype:null,l=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(t||null))};var v=(0,n[d])("accessor"===u?{get:l.get,set:l.set}:l[c],p);if("accessor"===u){if(void 0===v)continue;if(null===v||"object"!==typeof v)throw new TypeError("Object expected");(s=a(v.get))&&(l.get=s),(s=a(v.set))&&(l.set=s),(s=a(v.init))&&i.push(s)}else(s=a(v))&&("field"===u?i.push(s):l[c]=s)}h&&Object.defineProperty(h,r.name,l),f=!0}function h(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function l(t){return"symbol"===typeof t?t:"".concat(t)}function f(t,e,n){return"symbol"===typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function d(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function m(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var v=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function g(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||v(e,t,n)}function y(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function _(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function E(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof S?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(r){h(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function I(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:S(t[r](e)),done:!1}:i?i(e):e}:i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&v(e,t,n);return C(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function R(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function N(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function x(t,e){if(null===e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof t?e===t:t.has(e)}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"CONSTANTS",function(){return i}),n.d(e,"Deferred",function(){return p}),n.d(e,"ErrorFactory",function(){return x}),n.d(e,"FirebaseError",function(){return N}),n.d(e,"MAX_VALUE_MILLIS",function(){return lt}),n.d(e,"RANDOM_FACTOR",function(){return ft}),n.d(e,"Sha1",function(){return $}),n.d(e,"areCookiesEnabled",function(){return A}),n.d(e,"assert",function(){return o}),n.d(e,"assertionError",function(){return a}),n.d(e,"async",function(){return tt}),n.d(e,"base64",function(){return u}),n.d(e,"base64Decode",function(){return l}),n.d(e,"base64Encode",function(){return c}),n.d(e,"base64urlEncodeWithoutPadding",function(){return h}),n.d(e,"calculateBackoffMillis",function(){return dt}),n.d(e,"contains",function(){return V}),n.d(e,"createMockUserToken",function(){return m}),n.d(e,"createSubscribe",function(){return J}),n.d(e,"decode",function(){return L}),n.d(e,"deepCopy",function(){return f}),n.d(e,"deepEqual",function(){return H}),n.d(e,"deepExtend",function(){return d}),n.d(e,"errorPrefix",function(){return rt}),n.d(e,"extractQuerystring",function(){return X}),n.d(e,"getGlobal",function(){return O}),n.d(e,"getModularInstance",function(){return mt}),n.d(e,"getUA",function(){return v}),n.d(e,"isAdmin",function(){return q}),n.d(e,"isBrowser",function(){return b}),n.d(e,"isBrowserExtension",function(){return w}),n.d(e,"isElectron",function(){return E}),n.d(e,"isEmpty",function(){return z}),n.d(e,"isIE",function(){return S}),n.d(e,"isIndexedDBAvailable",function(){return k}),n.d(e,"isMobileCordova",function(){return g}),n.d(e,"isNode",function(){return y}),n.d(e,"isNodeSdk",function(){return I}),n.d(e,"isReactNative",function(){return _}),n.d(e,"isSafari",function(){return M}),n.d(e,"isUWP",function(){return T}),n.d(e,"isValidFormat",function(){return B}),n.d(e,"isValidTimestamp",function(){return F}),n.d(e,"issuedAtTime",function(){return U}),n.d(e,"jsonEval",function(){return D}),n.d(e,"map",function(){return W}),n.d(e,"ordinal",function(){return pt}),n.d(e,"querystring",function(){return Q}),n.d(e,"querystringDecode",function(){return Y}),n.d(e,"safeGet",function(){return K}),n.d(e,"stringLength",function(){return ut}),n.d(e,"stringToByteArray",function(){return st}),n.d(e,"stringify",function(){return j}),n.d(e,"validateArgCount",function(){return nt}),n.d(e,"validateCallback",function(){return ot}),n.d(e,"validateContextObject",function(){return at}),n.d(e,"validateIndexedDBOpenable",function(){return C}),n.d(e,"validateNamespace",function(){return it});var r=n(0),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return u.encodeByteArray(e,!0)},h=function(t){return c(t).replace(/\./g,"")},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function m(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return v().indexOf("Electron/")>=0}function S(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return v().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function M(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function O(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("Unable to locate global object.")}var R="FirebaseError",N=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=R,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,x.prototype.create),o}return Object(r.__extends)(e,t),e}(Error),x=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(P,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new N(i,s,r)},t}();var P=/\{\$([^}]+)}/g;function D(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var L=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},F=function(t){var e=L(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(t){var e=L(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},B=function(t){var e=L(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},q=function(t){var e=L(t).claims;return"object"===typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function K(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function H(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=t[a],u=e[a];if(G(s)&&G(u)){if(!H(s,u))return!1}else if(s!==u)return!1}for(var c=0,h=r;c<h.length;c++){a=h[c];if(!n.includes(a))return!1}return!0}function G(t){return null!==t&&"object"===typeof t}function Q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function Y(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function X(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var $=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),a=1518500249):(o=u^c^h,a=1859775393):r<60?(o=u&c|h&(u|c),a=2400959708):(o=u^c^h,a=3395469782);i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function J(t,e){var n=new Z(t,e);return n.subscribe.bind(n)}var Z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function tt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function et(){}var nt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function rt(t,e){return t+" failed: "+e+" argument "}function it(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(rt(t,"namespace")+"must be a valid firebase namespace.")}function ot(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(rt(t,e)+"must be a valid function.")}function at(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(rt(t,e)+"must be a valid context object.")}var st=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ut=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ct=1e3,ht=2,lt=144e5,ft=.5;function dt(t,e,n){void 0===e&&(e=ct),void 0===n&&(n=ht);var r=e*Math.pow(n,t),i=Math.round(ft*r*(Math.random()-.5)*2);return Math.min(lt,r+i)}function pt(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(t):""+t}function mt(t){return t&&t._delegate?t._delegate:t}}.call(this,n(11))},function(t,e,n){"use strict";t.exports=n(139)},function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",function(){return E});var r,i,o=n(0),a=n(1),s=n(7),u=n(6),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new a.ErrorFactory("app","Firebase",c),l="@firebase/app",f="0.6.30",d="[DEFAULT]",p=((i={})[l]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),m=new u.Logger("@firebase/app"),v=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){m.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g="8.10.0";var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=d);var u=s.name;if("string"!==typeof u||!u)throw h.create("bad-app-name",{appName:String(u)});if(Object(a.contains)(e,u))throw h.create("duplicate-app",{appName:u});var c=new t(n,s,r);return e[u]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void m.warn(c.join(" "))}o(new s.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw h.create("invalid-log-argument");Object(u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:g,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(a.contains)(e,t))throw h.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return m.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[s])throw h.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.deepExtend)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,l=Object.keys(e);c<l.length;c++){var f=l[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(v);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.deepExtend)(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.isBrowser)()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var w=self.firebase.SDK_VERSION;w&&w.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.isNode)()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var E=y;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(l,f,e),t.registerVersion("fire-js","")}(E),e.default=E},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){var r=n(12),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return l}),n.d(e,"setLogLevel",function(){return f}),n.d(e,"setUserLogHandler",function(){return d});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map(function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return o}),n.d(e,"ComponentContainer",function(){return u}),n.d(e,"Provider",function(){return s});var r=n(0),i=n(1),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),u=s[0],c=s[1],h=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService({instanceIdentifier:h});c.resolve(l)}catch(f){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var h=Object(r.__read)(c.value,2),l=h[0],f=h[1];a===this.normalizeInstanceIdentifier(l)&&f.resolve(s)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=Object(r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return qs}),n.d(e,"b",function(){return Ns}),n.d(e,"c",function(){return ec}),n.d(e,"d",function(){return rc}),n.d(e,"e",function(){return $u}),n.d(e,"f",function(){return Yu}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return xs}),n.d(e,"i",function(){return Xu}),n.d(e,"j",function(){return tc}),n.d(e,"k",function(){return sc}),n.d(e,"l",function(){return gc}),n.d(e,"m",function(){return mc}),n.d(e,"n",function(){return cc}),n.d(e,"o",function(){return fc}),n.d(e,"p",function(){return Zu}),n.d(e,"q",function(){return pc}),n.d(e,"r",function(){return lc}),n.d(e,"s",function(){return uc}),n.d(e,"t",function(){return vc});var r=n(0),i=n(1),o=n(6),a=n(15),s=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.__extends)(e,t),e}(Error),h=new o.Logger("@firebase/firestore");function l(){return h.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.DEBUG){var i=e.map(m);h.debug.apply(h,Object(r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.ERROR){var i=e.map(m);h.error.apply(h,Object(r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.WARN){var i=e.map(m);h.warn.apply(h,Object(r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function m(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function g(t,e){t||v()}function y(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function S(t){return t+"\0"}var T=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),I=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new T(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function M(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var A=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(A),R=/^[_a-zA-Z][_a-zA-Z0-9]*$/,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return R.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var h=t[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=h,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(A),x=function(){function t(t){this.fields=t,t.sort(N.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),P=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return _(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();P.EMPTY_BYTE_STRING=new P("");var D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(t){if(g(!!t),"string"==typeof t){var e=0,n=D.exec(t);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:L(t.seconds),nanos:L(t.nanos)}}function L(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function F(t){return"string"==typeof t?P.fromBase64String(t):P.fromUint8Array(t)}function U(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function B(t){var e=j(t.mapValue.fields.__local_write_time__.timestampValue);return new T(e.seconds,e.nanos)}function q(t){return null==t}function V(t){return 0===t&&1/t==-1/0}function K(t){return"number"==typeof t&&Number.isInteger(t)&&!V(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var z=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(O.fromString(e))},t.fromName=function(e){return new t(O.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===O.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return O.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new O(e.slice()))},t}();function W(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U(t)?4:10:v()}function H(t,e){var n=W(t);if(n!==W(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return B(t).isEqual(B(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=j(t.timestampValue),r=j(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return F(t.bytesValue).isEqual(F(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return L(t.geoPointValue.latitude)===L(e.geoPointValue.latitude)&&L(t.geoPointValue.longitude)===L(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return L(t.integerValue)===L(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=L(t.doubleValue),r=L(e.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],H);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(M(n)!==M(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!H(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function G(t,e){return void 0!==(t.values||[]).find(function(t){return H(t,e)})}function Q(t,e){var n=W(t),r=W(e);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=L(t.integerValue||t.doubleValue),r=L(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Y(t.timestampValue,e.timestampValue);case 4:return Y(B(t),B(e));case 5:return _(t.stringValue,e.stringValue);case 6:return function(t,e){var n=F(t),r=F(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_(n[i],r[i]);if(0!==o)return o}return _(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_(L(t.latitude),L(e.latitude));return 0!==n?n:_(L(t.longitude),L(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Q(n[i],r[i]);if(o)return o}return _(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=_(r[a],o[a]);if(0!==s)return s;var u=Q(n[r[a]],i[o[a]]);if(0!==u)return u}return _(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function Y(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _(t,e);var n=j(t),r=j(e),i=_(n.seconds,r.seconds);return 0!==i?i:_(n.nanos,r.nanos)}function X(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=j(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,z.fromName(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):v();var n,r}(t)}function $(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function J(t){return!!t&&"integerValue"in t}function Z(t){return!!t&&"arrayValue"in t}function tt(t){return!!t&&"nullValue"in t}function et(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nt(t){return!!t&&"mapValue"in t}function rt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return k(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=rt(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rt(t.arrayValue.values[r]);return n}return Object.assign({},t)}var it=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!nt(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rt(e)},t.prototype.setAll=function(t){var e=this,n=N.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=rt(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());nt(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return H(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];nt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){k(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(rt(this.value))},t}();function ot(t){var e=[];return k(t.fields,function(t,n){var r=new N([t]);if(nt(n)){var i=ot(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)}),new x(e)}var at=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,I.min(),it.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,it.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,it.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=it.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=it.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),st=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ut(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new st(t,e,n,r,i,o,a)}function ct(t){var e=y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+X(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),q(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Et(e.startAt)),e.endAt&&(n+="|ub:",n+=Et(e.endAt)),e.h=n}return e.h}function ht(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!H(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mt(t.startAt,e.startAt)&&Mt(t.endAt,e.endAt)}function lt(t){return z.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ft=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new dt(t,n,r):"array-contains"===n?new gt(t,r):"in"===n?new yt(t,r):"not-in"===n?new bt(t,r):"array-contains-any"===n?new wt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new pt(t,n):new mt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Q(e,this.value)):null!==e&&W(this.value)===W(e)&&this.m(Q(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),dt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=z.fromName(r.referenceValue),i}return Object(r.__extends)(e,t),e.prototype.matches=function(t){var e=z.comparator(t.key,this.key);return this.m(e)},e}(ft),pt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=vt("in",n),r}return Object(r.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft),mt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=vt("not-in",n),r}return Object(r.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft);function vt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return z.fromName(t.referenceValue)})}var gt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Z(e)&&G(e.arrayValue,this.value)},e}(ft),yt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&G(this.value.arrayValue,e)},e}(ft),bt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.__extends)(e,t),e.prototype.matches=function(t){if(G(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!G(this.value.arrayValue,e)},e}(ft),wt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return G(e.value.arrayValue,t)})},e}(ft),_t=function(t,e){this.position=t,this.before=e};function Et(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return X(t)}).join(",")}var St=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function It(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?z.comparator(z.fromName(a.referenceValue),n.key):Q(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!H(t.position[n],e.position[n]))return!1;return!0}var kt=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ct(t,e,n,r,i,o,a,s){return new kt(t,e,n,r,i,o,a,s)}function At(t){return new kt(t)}function Ot(t){return!q(t.limit)&&"F"===t.limitType}function Rt(t){return!q(t.limit)&&"L"===t.limitType}function Nt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Pt(t){return null!==t.collectionGroup}function Dt(t){var e=y(t);if(null===e.p){e.p=[];var n=xt(e),r=Nt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new St(n)),e.p.push(new St(N.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new St(N.keyField(),u))}}}return e.p}function jt(t){var e=y(t);if(!e.T)if("F"===e.limitType)e.T=ut(e.path,e.collectionGroup,Dt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Dt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new St(o.field,a))}var s=e.endAt?new _t(e.endAt.position,!e.endAt.before):null,u=e.startAt?new _t(e.startAt.position,!e.startAt.before):null;e.T=ut(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Lt(t,e,n){return new kt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ft(t,e){return ht(jt(t),jt(e))&&t.limitType===e.limitType}function Ut(t){return ct(jt(t))+"|lt:"+t.limitType}function Bt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+X(e.value);var e}).join(", ")+"]"),q(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Et(t.startAt)),t.endAt&&(e+=", endAt: "+Et(t.endAt)),"Target("+e+")"}(jt(t))+"; limitType="+t.limitType+")"}function qt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):z.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!It(t.startAt,Dt(t),e))&&(!t.endAt||!It(t.endAt,Dt(t),e))}(t,e)}function Vt(t){return function(e,n){for(var r=!1,i=0,o=Dt(t);i<o.length;i++){var a=o[i],s=Kt(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Kt(t,e,n){var r=t.field.isKeyField()?z.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Q(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function zt(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(e)?"-0":e}}function Wt(t){return{integerValue:""+t}}function Ht(t,e){return K(e)?Wt(e):zt(t,e)}var Gt=function(){this._=void 0};function Qt(t,e,n){return t instanceof $t?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Jt?Zt(t,e):t instanceof te?ee(t,e):function(t,e){var n=Xt(t,e),r=re(n)+re(t.A);return J(n)&&J(t.A)?Wt(r):zt(t.R,r)}(t,e)}function Yt(t,e,n){return t instanceof Jt?Zt(t,e):t instanceof te?ee(t,e):n}function Xt(t,e){return t instanceof ne?J(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var $t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(Gt),Jt=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.__extends)(e,t),e}(Gt);function Zt(t,e){for(var n=ie(e),r=function(t){n.some(function(e){return H(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var te=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.__extends)(e,t),e}(Gt);function ee(t,e){for(var n=ie(e),r=function(t){n=n.filter(function(e){return!H(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ne=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(r.__extends)(e,t),e}(Gt);function re(t){return L(t.integerValue||t.doubleValue)}function ie(t){return Z(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var oe=function(t,e){this.field=t,this.transform=e},ae=function(t,e){this.version=t,this.transformResults=e},se=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ue(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ce=function(){};function he(t,e,n){t instanceof me?function(t,e,n){var r=t.value.clone(),i=ye(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ve?function(t,e,n){if(ue(t.precondition,e)){var r=ye(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ge(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function le(t,e,n){t instanceof me?function(t,e,n){if(ue(t.precondition,e)){var r=t.value.clone(),i=be(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(pe(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ve?function(t,e,n){if(ue(t.precondition,e)){var r=be(t.fieldTransforms,n,e),i=e.data;i.setAll(ge(t)),i.setAll(r),e.convertToFoundDocument(pe(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ue(t.precondition,e)&&e.convertToNoDocument(I.min())}(t,e)}function fe(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Xt(o.transform,a||null);null!=s&&(null==n&&(n=it.empty()),n.set(o.field,s))}return n||null}function de(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&E(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Jt&&e instanceof Jt||t instanceof te&&e instanceof te?E(t.elements,e.elements,H):t instanceof ne&&e instanceof ne?H(t.A,e.A):t instanceof $t&&e instanceof $t}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function pe(t){return t.isFoundDocument()?t.version:I.min()}var me=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.__extends)(e,t),e}(ce),ve=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(r.__extends)(e,t),e}(ce);function ge(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ye(t,e,n){var r=new Map;g(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Yt(a,s,n[i]))}return r}function be(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Qt(s,u,e))}return r}var we,_e,Ee=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.__extends)(e,t),e}(ce),Se=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.__extends)(e,t),e}(ce),Te=function(t){this.count=t};function Ie(t){switch(t){case u.OK:return v();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return v()}}function Me(t){if(void 0===t)return d("GRPC error has no .code"),u.UNKNOWN;switch(t){case we.OK:return u.OK;case we.CANCELLED:return u.CANCELLED;case we.UNKNOWN:return u.UNKNOWN;case we.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case we.INTERNAL:return u.INTERNAL;case we.UNAVAILABLE:return u.UNAVAILABLE;case we.UNAUTHENTICATED:return u.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case we.NOT_FOUND:return u.NOT_FOUND;case we.ALREADY_EXISTS:return u.ALREADY_EXISTS;case we.PERMISSION_DENIED:return u.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case we.ABORTED:return u.ABORTED;case we.OUT_OF_RANGE:return u.OUT_OF_RANGE;case we.UNIMPLEMENTED:return u.UNIMPLEMENTED;case we.DATA_LOSS:return u.DATA_LOSS;default:return v()}}(_e=we||(we={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var ke=function(){function t(t,e){this.comparator=t,this.root=e||Ae.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ae.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ae.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ce(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ce(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ce(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ce(this.root,t,this.comparator,!0)},t}(),Ce=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ae=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();var t=this.left.check();if(t!==this.right.check())throw v();return t+(this.isRed()?0:1)},t}();Ae.EMPTY=null,Ae.RED=!0,Ae.BLACK=!1,Ae.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ae(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Oe=function(){function t(t){this.comparator=t,this.data=new ke(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ne=new ke(z.comparator);function xe(){return Ne}var Pe=new ke(z.comparator);function De(){return Pe}var je=new ke(z.comparator);function Le(){return je}var Fe=new Oe(z.comparator);function Ue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Fe,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Be=new Oe(_);function qe(){return Be}var Ve=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Ke.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(I.min(),r,qe(),xe(),Ue())},t}(),Ke=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(P.EMPTY_BYTE_STRING,n,Ue(),Ue(),Ue())},t}(),ze=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},We=function(t,e){this.targetId=t,this.V=e},He=function(t,e,n,r){void 0===n&&(n=P.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ge=function(){function t(){this.S=0,this.D=Xe(),this.C=P.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ue(),e=Ue(),n=Ue();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}}),new Ke(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Xe()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Qe=function(){function t(t){this.W=t,this.G=new Map,this.H=xe(),this.J=Ye(),this.Y=new Oe(_)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:v()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(lt(i))if(0===n){var o=new z(i.path);this.tt(e,o,at.newNoDocument(o,I.min()))}else g(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&lt(o.target)){var a=new z(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,at.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ue();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ve(t,n,this.Y,this.H,r);return this.H=xe(),this.J=Ye(),this.Y=new Oe(_),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ge,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Oe(_),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ge),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ye(){return new ke(z.comparator)}function Xe(){return new ke(z.comparator)}var $e={asc:"ASCENDING",desc:"DESCENDING"},Je={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ze=function(t,e){this.databaseId=t,this.I=e};function tn(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function en(t,e){return t.I?e.toBase64():e.toUint8Array()}function nn(t,e){return tn(t,e.toTimestamp())}function rn(t){return g(!!t),I.fromTimestamp(function(t){var e=j(t);return new T(e.seconds,e.nanos)}(t))}function on(t,e){return function(t){return new O(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function an(t){var e=O.fromString(t);return g(An(e)),e}function sn(t,e){return on(t.databaseId,e.path)}function un(t,e){var n=an(e);if(n.get(1)!==t.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(fn(n))}function cn(t,e){return on(t.databaseId,e)}function hn(t){var e=an(t);return 4===e.length?O.emptyPath():fn(e)}function ln(t){return new O(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fn(t){return g(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function dn(t,e,n){return{name:sn(t,e),fields:n.value.mapValue.fields}}function pn(t,e,n){var r=un(t,e.name),i=rn(e.updateTime),o=new it({mapValue:{fields:e.fields}}),a=at.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function mn(t,e){var n;if(e instanceof me)n={update:dn(t,e.key,e.value)};else if(e instanceof Ee)n={delete:sn(t,e.key)};else if(e instanceof ve)n={update:dn(t,e.key,e.data),updateMask:Cn(e.fieldMask)};else{if(!(e instanceof Se))return v();n={verify:sn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $t)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof te)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ne)return{fieldPath:e.field.canonicalString(),increment:n.A};throw v()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nn(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.precondition)),n}function vn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?se.updateTime(rn(t.updateTime)):void 0!==t.exists?se.exists(t.exists):se.none()}(e.currentDocument):se.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)g("REQUEST_TIME"===e.setToServerValue),n=new $t;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Jt(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new te(i)}else"increment"in e?n=new ne(t,e.increment):v();var o=N.fromServerFormat(e.fieldPath);return new oe(o,n)}(t,e)}):[];if(e.update){e.update.name;var i=un(t,e.update.name),o=new it({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new x(e.map(function(t){return N.fromServerFormat(t)}))}(e.updateMask);return new ve(i,o,a,n,r)}return new me(i,o,n,r)}if(e.delete){var s=un(t,e.delete);return new Ee(s,n)}if(e.verify){var u=un(t,e.verify);return new Se(u,n)}return v()}function gn(t,e){return{documents:[cn(t,e.path)]}}function yn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=cn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(et(t.value))return{unaryFilter:{field:Tn(t.field),op:"IS_NAN"}};if(tt(t.value))return{unaryFilter:{field:Tn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(et(t.value))return{unaryFilter:{field:Tn(t.field),op:"IS_NOT_NAN"}};if(tt(t.value))return{unaryFilter:{field:Tn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tn(t.field),op:Sn(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Tn(t.field),direction:En(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||q(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=wn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wn(e.endAt)),n}function bn(t){var e=hn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[kn(e)]:void 0!==e.fieldFilter?[Mn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):v():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new St(In(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return q(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=_n(n.startAt));var h=null;return n.endAt&&(h=_n(n.endAt)),Ct(e,i,s,a,u,"F",c,h)}function wn(t){return{before:t.before,values:t.position}}function _n(t){var e=!!t.before,n=t.values||[];return new _t(n,e)}function En(t){return $e[t]}function Sn(t){return Je[t]}function Tn(t){return{fieldPath:t.canonicalString()}}function In(t){return N.fromServerFormat(t.fieldPath)}function Mn(t){return ft.create(In(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function kn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=In(t.unaryFilter.field);return ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=In(t.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=In(t.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=In(t.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Cn(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function An(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function On(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Nn(e)),e=Rn(t.get(n),e);return Nn(e)}function Rn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Nn(t){return t+"\x01\x01"}function xn(t){var e=t.length;if(g(e>=2),2===e)return g("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),O.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&v(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:v()}o=a+2}return new O(r)}var Pn=function(t,e){this.seconds=t,this.nanoseconds=e},Dn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dn.store="owner",Dn.key="owner";var jn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};jn.store="mutationQueues",jn.keyPath="userId";var Ln=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ln.store="mutations",Ln.keyPath="batchId",Ln.userMutationsIndex="userMutationsIndex",Ln.userMutationsKeyPath=["userId","batchId"];var Fn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,On(e)]},t.key=function(t,e,n){return[t,On(e),n]},t}();Fn.store="documentMutations",Fn.PLACEHOLDER=new Fn;var Un=function(t,e){this.path=t,this.readTime=e},Bn=function(t,e){this.path=t,this.version=e},qn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(t){this.byteSize=t};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var Kn=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Kn.store="targets",Kn.keyPath="targetId",Kn.queryTargetsIndexName="queryTargetsIndex",Kn.queryTargetsKeyPath=["canonicalId","targetId"];var zn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};zn.store="targetDocuments",zn.keyPath=["targetId","path"],zn.documentTargetsIndex="documentTargetsIndex",zn.documentTargetsKeyPath=["path","targetId"];var Wn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Hn=function(t,e){this.collectionId=t,this.parent=e};Hn.store="collectionParents",Hn.keyPath=["collectionId","parent"];var Gn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Gn.store="clientMetadata",Gn.keyPath="clientId";var Qn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Qn.store="bundles",Qn.keyPath="bundleId";var Yn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yn.store="namedQueries",Yn.keyPath="name";var Xn=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],[jn.store,Ln.store,Fn.store,qn.store,Kn.store,Dn.store,Wn.store,zn.store]),[Gn.store])),[Vn.store])),[Hn.store])),[Qn.store,Yn.store]),$n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Zn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},tr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),er=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ir(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=cr(e.target.error);n.ft.reject(new ir(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ir(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ar(e)},t}(),nr=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return f("SimpleDb","Removing database:",t),sr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(i.getUA)(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}))||void 0===e?void 0:e.Tt)},e.It=function(t,e){return t.store(e)},e._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ir(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ir(t,n))},i.onupgradeneeded=function(t){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c;return Object(r.__generator)(this,function(h){switch(h.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,h,l;return Object(r.__generator)(this,function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=r.sent(),e=er.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch(function(t){return e.abort(t),tr.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return h=r.sent(),l="FirebaseError"!==h.name&&a<3,f("SimpleDb","Transaction failed with error:",h.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}})},u=this,h.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=h.sent()))return[2,c.value];h.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),rr=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return sr(this.Pt.delete())},t}(),ir=function(t){function e(e,n){var r=this;return(r=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.__extends)(e,t),e}(c);function or(t){return"IndexedDbTransactionError"===t.name}var ar=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sr(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),sr(this.store.add(t))},t.prototype.get=function(t){var e=this;return sr(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),sr(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),sr(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new tr(function(n,r){e.onerror=function(t){var e=cr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new tr(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rr(i),a=e(i.primaryKey,i.value,o);if(a instanceof tr){var s=a.catch(function(t){return o.done(),tr.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return tr.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sr(t){return new tr(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=cr(t.target.error);n(e)}})}var ur=!1;function cr(t){var e=nr._t(Object(i.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ur||(ur=!0,setTimeout(function(){throw r},0)),r}}return t}var hr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(r.__extends)(e,t),e}(Jn);function lr(t,e){var n=y(t);return nr.It(n.Mt,e)}var fr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&he(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&le(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&le(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(I.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ue())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,function(t,e){return de(t,e)})&&E(this.baseMutations,t.baseMutations,function(t,e){return de(t,e)})},t}(),dr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){g(e.mutations.length===r.length);for(var i=Le(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),pr=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=I.min()),void 0===o&&(o=I.min()),void 0===a&&(a=P.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),mr=function(t){this.Lt=t};function vr(t,e){if(e.document)return pn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=z.fromSegments(e.noDocument.path),r=_r(e.noDocument.readTime),i=at.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=z.fromSegments(e.unknownDocument.path);return r=_r(e.unknownDocument.version),at.newUnknownDocument(o,r)}return v()}function gr(t,e,n){var r=yr(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:sn(t,e.key),fields:e.data.value.mapValue.fields,updateTime:tn(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new qn(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=wr(e.version);return a=e.hasCommittedMutations,new qn(null,new Un(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=wr(e.version);return new qn(new Bn(c,h),null,null,!0,r,i)}return v()}function yr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function br(t){var e=new T(t[0],t[1]);return I.fromTimestamp(e)}function wr(t){var e=t.toTimestamp();return new Pn(e.seconds,e.nanoseconds)}function _r(t){var e=new T(t.seconds,t.nanoseconds);return I.fromTimestamp(e)}function Er(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vn(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(e){return vn(t.Lt,e)}),s=T.fromMillis(e.localWriteTimeMs);return new fr(e.batchId,s,n,a)}function Sr(t){var e,n,r=_r(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_r(t.lastLimboFreeSnapshotVersion):I.min();return void 0!==t.query.documents?(g(1===(n=t.query).documents.length),e=jt(At(hn(n.documents[0])))):e=function(t){return jt(bn(t))}(t.query),new pr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,P.fromBase64String(t.resumeToken))}function Tr(t,e){var n,r=wr(e.snapshotVersion),i=wr(e.lastLimboFreeSnapshotVersion);n=lt(e.target)?gn(t.Lt,e.target):yn(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Kn(e.targetId,ct(e.target),r,o,e.sequenceNumber,i,n)}function Ir(t){var e=bn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Lt(e,e.limit,"L"):e}var Mr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return kr(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:_r(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return kr(t).put({bundleId:(n=e).id,createTime:wr(rn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cr(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ir(e.bundledQuery),readTime:_r(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Cr(t).put(function(t){return{name:t.name,readTime:wr(rn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function kr(t){return lr(t,Qn.store)}function Cr(t){return lr(t,Yn.store)}var Ar=function(){function t(){this.Bt=new Or}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tr.resolve()},t.prototype.getCollectionParents=function(t,e){return tr.resolve(this.Bt.getEntries(e))},t}(),Or=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Oe(O.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Oe(O.comparator)).toArray()},t}(),Rr=function(){function t(){this.qt=new Or}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:On(i)};return Nr(t).put(o)}return tr.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[S(e),""],!1,!0);return Nr(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(xn(o.parent))}return n})},t}();function Nr(t){return lr(t,Hn.store)}var xr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Dr(t,e,n){var r=t.store(Ln.store),i=t.store(Fn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s)}));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=Fn.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tr.waitFor(o).next(function(){return c})}function jr(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var Lr=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return g(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ur(t).$t({index:Ln.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Br(t),a=Ur(t);return a.add({}).next(function(s){g("number"==typeof s);for(var u=new fr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return mn(t.Lt,e)}),i=n.mutations.map(function(e){return mn(t.Lt,e)});return new Ln(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Oe(function(t,e){return _(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Fn.key(i.userId,p.key.path,s);l=l.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(m,Fn.PLACEHOLDER))}return l.forEach(function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),tr.waitFor(h).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ur(t).get(e).next(function(t){return t?(g(t.userId===n.userId),Er(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?tr.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ur(t).$t({index:Ln.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r),o=Er(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ur(t).$t({index:Ln.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ur(t).Nt(Ln.userMutationsIndex,n).next(function(t){return t.map(function(t){return Er(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Fn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Br(t).$t({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],h=xn(u);if(s===n.userId&&e.path.isEqual(h))return Ur(t).get(c).next(function(t){if(!t)throw v();g(t.userId===n.userId),o.push(Er(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oe(_),i=[];return e.forEach(function(e){var o=Fn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Br(t).$t({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=xn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),tr.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Fn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Oe(_);return Br(t).$t({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],h=xn(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ur(t).get(e).next(function(t){if(null===t)throw v();g(t.userId===n.userId),r.push(Er(n.R,t))}))}),tr.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Dr(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),tr.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return tr.resolve();var r=IDBKeyRange.lowerBound(Fn.prefixForUser(e.userId)),i=[];return Br(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=xn(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length)})})},t.prototype.containsKey=function(t,e){return Fr(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return qr(t).get(this.userId).next(function(t){return t||new jn(e.userId,-1,"")})},t}();function Fr(t,e,n){var r=Fn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Br(t).$t({range:o,Ft:!0},function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Ur(t){return lr(t,Ln.store)}function Br(t){return lr(t,Fn.store)}function qr(t){return lr(t,jn.store)}var Vr=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Kr=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Vr(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return I.fromTimestamp(new T(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return zr(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return g(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return zr(t).$t(function(a,s){var u=Sr(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return tr.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return zr(t).$t(function(t,n){var r=Sr(n);e(r)})},t.prototype.Xt=function(t){return Wr(t).get(Wn.key).next(function(t){return g(null!==t),t})},t.prototype.Zt=function(t,e){return Wr(t).put(Wn.key,e)},t.prototype.te=function(t,e){return zr(t).put(Tr(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ct(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return zr(t).$t({range:r,index:Kn.queryTargetsIndexName},function(t,n,r){var o=Sr(n);ht(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hr(t);return e.forEach(function(e){var a=On(e.path);i.push(o.put(new zn(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),tr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hr(t);return tr.forEach(e,function(e){var o=On(e.path);return tr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hr(t),i=Ue();return r.$t({range:n,Ft:!0},function(t,e,n){var r=xn(t[1]),o=new z(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=On(e.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),i=0;return Hr(t).$t({index:zn.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return zr(t).get(e).next(function(t){return t?Sr(t):null})},t}();function zr(t){return lr(t,Kn.store)}function Wr(t){return lr(t,Wn.store)}function Hr(t){return lr(t,zn.store)}function Gr(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==$n)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Qr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=_(n,i);return 0===a?_(r,o):a}var Yr=function(){function t(t){this.ne=t,this.buffer=new Oe(Qr),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xr=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return or(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Gr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),$r=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tr.resolve(s.o);var r=new Yr(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),tr.resolve(xr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xr):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,a,s,u,c,h=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>h.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+e),r=h.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),h.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),h.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),h.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),l()<=o.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),tr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Jr=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $r(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Zr(t,n)},t.prototype.removeReference=function(t,e,n){return Zr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Zr(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return qr(t).Ot(function(r){return Fr(t,r,e).next(function(t){return t&&(n=!0),tr.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Hr(t).delete([0,On(a.path)])})});i.push(u)}}).next(function(){return tr.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Zr(t,e)},t.prototype.we=function(t,e){var n,r=Hr(t),i=s.o;return r.$t({index:zn.documentTargetsIndex},function(t,r){var o=t[0];t[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==s.o&&e(new z(xn(n)),i),i=u,n=a):i=s.o}).next(function(){i!==s.o&&e(new z(xn(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Zr(t,e){return Hr(t).put(function(t,e){return new zn(0,On(t.path),e)}(e,t.currentSequenceNumber))}var ti=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return C(this.inner)},t}(),ei=function(){function t(){this.changes=new ti(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:I.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:at.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tr.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ni=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return oi(t).put(ai(e),n)},t.prototype.removeEntry=function(t,e){var n=oi(t),r=ai(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return oi(t).get(ai(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return oi(t).get(ai(e)).next(function(t){return{document:n.ye(e,t),size:jr(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=xe();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=xe(),i=new ke(z.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,jr(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return tr.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return oi(t).$t({range:r},function(t,e,r){for(var a=z.fromSegments(t);o&&z.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=xe(),o=e.path.length+1,a={};if(n.isEqual(I.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=yr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=qn.collectionReadTimeIndex}return oi(t).$t(a,function(t,n,a){if(t.length===o){var s=vr(r.R,n);e.path.isPrefixOf(s.key.path)?qt(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ri(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ii(t).get(Vn.key).next(function(t){return g(!!t),t})},t.prototype.me=function(t,e){return ii(t).put(Vn.key,e)},t.prototype.ye=function(t,e){if(e){var n=vr(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(I.min()))return n}return at.newInvalidDocument(t)},t}(),ri=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ti(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Oe(function(t,e){return _(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=gr(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=jr(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=gr(e.Ie.R,at.newNoDocument(o,I.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),tr.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ei);function ii(t){return lr(t,Vn.store)}function oi(t){return lr(t,qn.store)}function ai(t){return t.path.toArray()}var si=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=11);var o=new er("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dn.store)}(t),function(t){t.createObjectStore(jn.store,{keyPath:jn.keyPath}),t.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fn.store)}(t),ui(t),function(t){t.createObjectStore(qn.store)}(t));var a=tr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(zn.store),t.deleteObjectStore(Kn.store),t.deleteObjectStore(Wn.store)}(t),ui(t)),a=a.next(function(){return function(t){var e=o.store(Wn.store),n=new Wn(0,0,I.min().toTimestamp(),0);return e.put(Wn.key,n)}()})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Ln.store).Nt().next(function(n){t.deleteObjectStore(Ln.store),t.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0});var r=e.store(Ln.store),i=n.map(function(t){return r.put(t)});return tr.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Gn.store,{keyPath:Gn.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Vn.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(qn.store);e.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),e.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(t),function(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(qn.store).$t(function(t,n){e+=jr(n)}).next(function(){var n=new Vn(e);return t.store(Vn.store).put(Vn.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(jn.store),r=t.store(Ln.store);return n.Nt().next(function(n){return tr.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ln.userMutationsIndex,i).next(function(r){return tr.forEach(r,function(r){g(r.userId===n.userId);var i=Er(e.R,r);return Dr(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(zn.store),n=t.store(qn.store);return t.store(Wn.store).get(Wn.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new O(n),a=[0,On(o)];r.push(e.get(a).next(function(n){return n?tr.resolve():function(n){return e.put(new zn(0,On(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return tr.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Hn.store,{keyPath:Hn.keyPath});var n=e.store(Hn.store),r=new Or,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:On(i)})}};return e.store(qn.store).$t({Ft:!0},function(t,e){var n=new O(t);return i(n.popLast())}).next(function(){return e.store(Fn.store).$t({Ft:!0},function(t,e){t[0];var n=t[1];t[2];var r=xn(n);return i(r.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Kn.store);return n.$t(function(t,r){var i=Sr(r),o=Tr(e.R,i);return n.put(o)})},t}();function ui(t){t.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.documentTargetsIndex,zn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.queryTargetsIndexName,Kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wn.store)}var ci="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hi=function(){function t(e,n,r,i,o,a,s,h,l,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jr(this,i),this.Le=n+"main",this.R=new mr(h),this.Be=new nr(this.Le,11,new si(this.R)),this.qe=new Kr(this.referenceDelegate,this.R),this.Ut=new Rr,this.Ue=function(t,e){return new ni(t,e)}(this.R,this.Ut),this.Ke=new Mr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ci);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new s(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fi(e).put(new Gn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(or(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return li(t).get(Dn.key).next(function(t){return tr.resolve(e.tn(t))})},t.prototype.en=function(t){return fi(t).delete(this.clientId)},t.prototype.nn=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=lr(t,Gn.store);return e.Nt().next(function(t){var n=o.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return tr.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?tr.resolve(!0):li(t).get(Dn.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ci);return!1}}return!(!e.networkEnabled||!e.inForeground)||fi(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t=this;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dn.store,Gn.store],function(e){var n=new hr(e,s.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fi(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Lr.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;f("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Xn,function(o){return i=new hr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new c(u.FAILED_PRECONDITION,$n);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return li(t).get(Dn.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,ci)})},t.prototype.Ze=function(t){var e=new Dn(this.clientId,this.allowTabSynchronization,Date.now());return li(t).put(Dn.key,e)},t.yt=function(){return nr.yt()},t.prototype.Xe=function(t){var e=this,n=li(t);return n.get(Dn.key).next(function(t){return e.tn(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Dn.key)):tr.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(i.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function li(t){return lr(t,Dn.store)}function fi(t){return lr(t,Gn.store)}function di(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var pi=function(t,e){this.progress=t,this.wn=e},mi=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return z.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Pt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new z(e)).next(function(t){var e=De();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=De();return this.Ut.getCollectionParents(t,i).next(function(a){return tr.forEach(a,function(a){var s=function(t,e){return new kt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=at.newInvalidDocument(c),r=r.insert(c,h)),le(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){qt(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ue(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ve&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),vi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ue(),i=Ue(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gi=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(I.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(a){var s=i.Cn(e,a);return(Ot(e)||Rt(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(l()<=o.LogLevel.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bt(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Oe(Vt(t));return e.forEach(function(e,r){qt(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return l()<=o.LogLevel.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Bt(e)),this.Sn.getDocumentsMatchingQuery(t,e,I.min())},t}(),yi=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new ke(_),this.Fn=new ti(function(t){return ct(t)},ht),this.$n=I.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new mi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function bi(t,e,n,r){return new yi(t,e,n,r)}function wi(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var r;return n._n.getAllMutationBatches(t).next(function(a){return r=a,i=n.persistence.getMutationQueue(e),o=new mi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],a=Ue(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];i.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return o.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function _i(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=tr.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);g(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Ei(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Si(t,e){var n=y(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return g(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=xe();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Ti(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(I.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return tr.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.kn=i,t})}function Ti(t,e,n,r,i){var o=Ue();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=xe();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(I.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Ii(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Mi(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,tr.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new pr(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function ki(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=y(t),o=i.kn.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,function(t){return i.persistence.referenceDelegate.removeTarget(t,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!or(s=r.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function Ci(t,e,n){var r=y(t),i=I.min(),o=Ue();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=y(t),i=r.Fn.get(n);return void 0!==i?tr.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,jt(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:I.min(),n?o:Ue())}).next(function(t){return{documents:t,Bn:o}})})}function Ai(t,e){var n=y(t),r=y(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Oi(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=y(t),i=xe(),o=yr(n),a=oi(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:qn.readTimeIndex,range:s},function(t,e){var n=vr(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:br(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn,r=t.readTime;return e.$n=r,n})}function Ri(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=oi(t),n=I.min();return e.$t({index:qn.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=br(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Ni(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,h,l,f,d,p;return Object(r.__generator)(this,function(r){switch(r.label){case 0:for(o=y(t),a=Ue(),s=xe(),u=Le(),c=0,h=n;c<h.length;c++)l=h[c],f=e.qn(l.metadata.name),l.document&&(a=a.add(f)),s=s.insert(f,e.Un(l)),u=u.insert(f,e.Kn(l.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Mi(o,function(t){return jt(At(O.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Ti(t,d,s,I.min(),u).next(function(e){return d.apply(t),e}).next(function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return o.qe.addMatchingKeys(t,a,p.targetId)}).next(function(){return o.Mn.En(t,e)}).next(function(){return e})})})]}})})}function xi(t,e,n){return void 0===n&&(n=Ue()),Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Mi(t,jt(Ir(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=y(t)).persistence.runTransaction("Save named query","readwrite",function(t){var r=rn(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var a=i.withResumeToken(P.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(t,a).next(function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return o.qe.addMatchingKeys(t,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(t,e)})})]}})})}var Pi=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return tr.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:rn(n.createTime)}),tr.resolve()},t.prototype.getNamedQuery=function(t,e){return tr.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ir(t.bundledQuery),readTime:rn(t.readTime)}}(e)),tr.resolve()},t}(),Di=function(){function t(){this.Wn=new Oe(ji.Gn),this.zn=new Oe(ji.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ji(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new ji(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new z(new O([])),r=new ji(n,t),i=new ji(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new z(new O([])),n=new ji(e,t),r=new ji(e,t+1),i=Ue();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new ji(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ji=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return z.comparator(t.key,e.key)||_(t.ns,e.ns)},t.Hn=function(t,e){return _(t.ns,e.ns)||z.comparator(t.key,e.key)},t}(),Li=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Oe(ji.Gn)}return t.prototype.checkEmpty=function(t){return tr.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new fr(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new ji(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return tr.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return tr.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return tr.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return tr.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return tr.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ji(e,0),i=new ji(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),tr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oe(_);return e.forEach(function(t){var e=new ji(t,0),i=new ji(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),tr.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;z.isDocumentKey(i)||(i=i.child(""));var o=new ji(new z(i),0),a=new Oe(_);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),tr.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return tr.forEach(e.mutations,function(i){var o=new ji(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ji(e,0),r=this.rs.firstAfterOrEqual(n);return tr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,tr.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Fi=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ke(z.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tr.resolve(n?n.document.clone():at.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=xe();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():at.newInvalidDocument(t))}),tr.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=xe(),i=new z(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||qt(e,c)&&(r=r.insert(c.key,c.clone()))}return tr.resolve(r)},t.prototype.fs=function(t,e){return tr.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ui(this)},t.prototype.getSize=function(t){return tr.resolve(this.size)},t}(),Ui=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),tr.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ei),Bi=function(){function t(t){this.persistence=t,this.ds=new ti(function(t){return ct(t)},ht),this.lastRemoteSnapshotVersion=I.min(),this.highestTargetId=0,this.ws=0,this._s=new Di,this.targetCount=0,this.ys=Vr.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),tr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return tr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return tr.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tr.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tr.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Vr(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tr.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),tr.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,tr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),tr.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return tr.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return tr.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tr.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),tr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return tr.resolve(n)},t.prototype.containsKey=function(t,e){return tr.resolve(this._s.containsKey(e))},t}(),qi=function(){function t(t,e){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Bi(this),this.Ut=new Ar,this.Ue=function(t,e){return new Fi(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new mr(e),this.Ke=new Pi(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Li(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Vi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return tr.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Vi=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(r.__extends)(e,t),e}(Jn),Ki=function(){function t(t){this.persistence=t,this.As=new Di,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw v()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tr.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tr.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tr.forEach(this.vs,function(r){var i=z.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return tr.or([function(){return tr.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),zi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Wi(t,e){return"firestore_clients_"+t+"_"+e}function Hi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Gi(t,e){return"firestore_targets_"+t+"_"+e}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");var Qi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new t(e,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qe(),a=0;i&&a<r.activeTargetIds.length;++a)i=K(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$i=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ji=function(){function t(){this.activeTargetIds=qe()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Zi=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ke(_),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Wi(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ji),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o,a,s,u,c,h,l,f=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem(Wi(this.persistenceKey,i)))&&(a=Xi.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,h=this.$s;c<h.length;c++)l=h[c],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Gi(this.persistenceKey,t));if(n){var r=Yi.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Gi(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var t,e,i,o,a,u;return Object(r.__generator)(this,function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(u=function(t){var e=s.o;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Qi(this.currentUser,t,e,n),i=Hi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Hi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Gi(this.persistenceKey,t),i=new Yi(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Xi.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qi.Vs(new zi(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Yi.Vs(r,e)},t.prototype.js=function(t){return $i.Vs(t)},t.prototype.ii=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=qe();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),to=function(){function t(){this.li=new Ji,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ji,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),eo=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),no=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},io=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),oo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(r.__extends)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new a.g;s.listenOnce(a.c.COMPLETE,function(){try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.a.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var h=function(t){var e=r.status.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}();o(new c(h,r.message))}else o(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new c(u.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{f("Connection",'RPC "'+t+'" completed.')}});var h=JSON.stringify(r);s.send(e,"POST",h,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(a.h)(),o=Object(a.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.d({})),this.ki(s.initMessageHeaders,e),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var h=n.join("");f("Connection","Creating WebChannel: "+h,s);var l=r.createWebChannel(h,s),d=!1,m=!1,v=new io({Ei:function(t){m?f("Connection","Not sending because WebChannel is closed:",t):(d||(f("Connection","Opening WebChannel transport."),l.open(),d=!0),f("Connection","WebChannel sending:",t),l.send(t))},Ti:function(){return l.close()}}),y=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return y(l,a.f.EventType.OPEN,function(){m||f("Connection","WebChannel transport opened.")}),y(l,a.f.EventType.CLOSE,function(){m||(m=!0,f("Connection","WebChannel transport closed"),v.Vi())}),y(l,a.f.EventType.ERROR,function(t){m||(m=!0,p("Connection","WebChannel transport errored:",t),v.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))}),y(l,a.f.EventType.MESSAGE,function(t){var e;if(!m){var n=t.data[0];g(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=we[o];if(void 0!==e)return Me(e)}(),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),m=!0,v.Vi(new c(a,s)),l.close()}else f("Connection","WebChannel received:",n),v.Si(n)}}),y(o,a.b.STAT_EVENT,function(t){t.stat===a.e.PROXY?f("Connection","Detected buffering proxy"):t.stat===a.e.NOPROXY&&f("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return f("RestConnection","Received: ",t),t},function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=ro[t];return this.Di+"/v1/"+e+":"+n},t}());function ao(){return"undefined"!=typeof window?window:null}function so(){return"undefined"!=typeof document?document:null}function uo(t){return new Ze(t,!0)}var co=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ho=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new co(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(r.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(g(void 0===e||"string"==typeof e),P.fromBase64String(e||"")):(g(void 0===e||e instanceof Uint8Array),P.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?u.UNKNOWN:Me(t.code);return new c(e,t.message||"")}(s);n=new He(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=un(t,r.document.name),o=rn(r.document.updateTime);var s=new it({mapValue:{fields:r.document.fields}}),h=(a=at.newFoundDocument(i,o,s),r.targetIds||[]),l=r.removedTargetIds||[];n=new ze(h,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=un(t,r.document),o=r.readTime?rn(r.readTime):I.min(),s=at.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ze([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=un(t,r.document),o=r.removedTargetIds||[],n=new ze([],o,i,null);else{if(!("filter"in e))return v();e.filter;var f=e.filter;f.targetId,r=f.count||0,i=new Te(r),o=f.targetId,n=new We(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return I.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?I.min():e.readTime?rn(e.readTime):I.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ln(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=lt(r)?{documents:gn(t,r)}:{query:yn(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=en(t,e.resumeToken):e.snapshotVersion.compareTo(I.min())>0&&(n.readTime=tn(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ln(this.R),e.removeTarget=t,this.cr(e)},e}(ho),fo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(g(void 0!==e),t.map(function(t){return function(t,e){var n=t.updateTime?rn(t.updateTime):rn(e);return n.isEqual(I.min())&&(n=rn(e)),new ae(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=rn(t.commitTime);return this.listener.Tr(n,e)}return g(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ln(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return mn(e.R,t)})};this.cr(n)},e}(ho),po=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),mo=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(e),this.Vr=!1):f("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vo=function(t,e,n,i,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(r.__awaiter)(a,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return Io(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(e=y(t)).Or.add(4),[4,yo(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,go(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new mo(n,i)};function go(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(!Io(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function yo(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bo(t,e){var n=y(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),To(n)?So(n):Bo(n).er()&&_o(n,e))}function wo(t,e){var n=y(t),r=Bo(n);n.$r.delete(e),r.er()&&Eo(n,e),0===n.$r.size&&(r.er()?r.ir():Io(n)&&n.Br.set("Unknown"))}function _o(t,e){t.qr.U(e.targetId),Bo(t).mr(e)}function Eo(t,e){t.qr.U(e),Bo(t).yr(e)}function So(t){t.qr=new Qe({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Bo(t).start(),t.Br.Sr()}function To(t){return Io(t)&&!Bo(t).tr()&&t.$r.size>0}function Io(t){return 0===y(t).Or.size}function Mo(t){t.qr=void 0}function ko(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return t.$r.forEach(function(e,n){_o(t,e)}),[2]})})}function Co(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){return Mo(t),To(t)?(t.Br.Nr(e),So(t)):t.Br.set("Unknown"),[2]})})}function Ao(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(r.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof He&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),t.$r.delete(a),t.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Oo(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ze?t.qr.X(e):e instanceof We?t.qr.rt(e):t.qr.et(e),n.isEqual(I.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ei(t.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(P.EMPTY_BYTE_STRING,n.snapshotVersion)),Eo(t,e);var r=new pr(n.target,e,1,n.sequenceNumber);_o(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Oo(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Oo(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:if(!or(e))throw e;return t.Or.add(1),[4,yo(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Ei(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,go(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ro(t,e){return e().catch(function(n){return Oo(t,n,e)})}function No(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:e=y(t),n=qo(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Io(t)&&t.Fr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ii(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.Fr.push(e);var n=qo(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,Oo(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return xo(e)&&Po(e),[2]}})})}function xo(t){return Io(t)&&!qo(t).tr()&&t.Fr.length>0}function Po(t){qo(t).start()}function Do(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return qo(t).Ar(),[2]})})}function jo(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o;return Object(r.__generator)(this,function(r){for(e=qo(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function Lo(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=t.Fr.shift(),o=dr.from(i,e,n),[4,Ro(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return r.sent(),[4,No(t)];case 2:return r.sent(),[2]}})})}function Fo(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e&&qo(t).pr?[4,function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return Ie(i=e.code)&&i!==u.ABORTED?(n=t.Fr.shift(),qo(t).sr(),[4,Ro(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,No(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xo(t)&&Po(t),[2]}})})}function Uo(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),e?(n.Or.delete(2),[4,go(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,yo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bo(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=y(t);return r.br(),new lo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ko.bind(null,t),Ri:Co.bind(null,t),_r:Ao.bind(null,t)}),t.Mr.push(function(n){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),To(t)?So(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Mo(t),e.label=3;case 3:return[2]}})})})),t.Ur}function qo(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=y(t);return r.br(),new fo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Do.bind(null,t),Ri:Fo.bind(null,t),Ir:jo.bind(null,t),Tr:Lo.bind(null,t)}),t.Mr.push(function(n){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,No(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(f("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Vo=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ko(t,e){if(d("AsyncQueue",e+": "+t),or(t))return new c(u.UNAVAILABLE,e+": "+t);throw t}var zo=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||z.comparator(e.key,n.key)}:function(t,e){return z.comparator(t.key,e.key)},this.keyedMap=De(),this.sortedSet=new ke(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Wo=function(){function t(){this.Qr=new ke(z.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):v():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ho=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,zo.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ft(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Go=function(){this.Wr=void 0,this.listeners=[]},Qo=function(){this.queries=new ti(function(t){return Ut(t)},Ft),this.onlineState="Unknown",this.Gr=new Set};function Yo(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(n=y(t),i=e.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new Go),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=Ko(u,"Initialization of query '"+Bt(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&$o(n),[2]}})})}function Xo(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(r.__generator)(this,function(r){return n=y(t),i=e.query,o=!1,(a=n.queries.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function $o(t){t.Gr.forEach(function(t){t.next()})}var Jo=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ho(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Zo=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ta=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return un(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?pn(this.R,t.document,!1):at.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return rn(t)},t}(),ea=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=na(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ta(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],h=(e.get(c)||Ue()).add(a);e.set(c,h)}}return e},t.prototype.complete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ni(this.localStore,new ta(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,xi(this.localStore,o,e.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pi(Object.assign({},this.progress),t))]}})})},t}();function na(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ra=function(t){this.key=t},ia=function(t){this.key=t},oa=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ue(),this.mutatedKeys=Ue(),this.lo=Vt(t),this.fo=new zo(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Wo,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ot(this.query)&&i.size===this.query.limit?i.last():null,c=Rt(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var h=i.get(t),l=qt(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Ot(this.query)||Rt(this.query))for(;a.size>this.query.limit;){var h=Ot(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Ho(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ue(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ia(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ra(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ue();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ho.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),aa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},sa=function(t){this.key=t,this.bo=!1},ua=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ti(function(t){return Ut(t)},Ft),this.Vo=new Map,this.So=new Set,this.Do=new ke(z.comparator),this.Co=new Map,this.No=new Di,this.xo={},this.ko=new Map,this.Fo=Vr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function ca(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=xa(t),(a=n.Po.get(e))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Mi(n.localStore,jt(e))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,ha(n,e,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&bo(n.remoteStore,s),r.label=4;case 4:return[2,o]}})})}function ha(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,h;return Object(r.__generator)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=e.view._o(n)).Nn?[4,Ci(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view._o(n,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,a),[2,(wa(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,i)},[4,Ci(t.localStore,e,!0)];case 1:return o=l.sent(),a=new oa(e,o.Bn),s=a._o(o.documents),u=Ke.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),wa(t,n,c.To),h=new aa(e,n,a),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function la(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(t){return!Ft(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,ki(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),wo(n.remoteStore,i.targetId),ya(n,i.targetId)}).catch(Gr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return ya(n,i.targetId),[4,ki(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function fa(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=Pa(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=T.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ue());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=fe(c,n.get(c.key));null!=h&&a.push(new ve(c.key,h,ot(h.value.mapValue),se.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ke(_)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(i,o.batchId,n),[4,Sa(i,o.changes)];case 3:return r.sent(),[4,No(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Ko(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function da(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(g(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?g(r.bo):t.removedDocuments.size>0&&(g(r.bo),r.bo=!1))}),[4,Sa(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Gr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function pa(t,e,n){var r=y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&$o(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ma(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:Io((n=y(t)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=y(n.localStore);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}()];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return a=r.sent(),s=Ko(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function va(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function ga(t,e,n){var r=y(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ya(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ba(t,e)})}function ba(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(wo(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ea(t))}function wa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ra?(t.No.addReference(o.key,e),_a(t,o)):o instanceof ia?(f("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ba(t,o.key)):v()}}function _a(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(f("SyncEngine","New document in limbo: "+n),t.So.add(r),Ea(t))}function Ea(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new z(O.fromString(e)),r=t.Fo.next();t.Co.set(r,new sa(n)),t.Do=t.Do.insert(n,r),bo(t.remoteStore,new pr(jt(At(n.path)),r,2,s.o))}}function Sa(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(u){switch(u.label){case 0:return i=y(t),o=[],a=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(t,r){s.push(i.Oo(r,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=vi.Pn(r.targetId,t);a.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(o),[4,function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,h,l;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return tr.forEach(e,function(e){return tr.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return tr.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!or(i=r.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),h=c.snapshotVersion,l=c.withLastLimboFreeSnapshotVersion(h),n.kn=n.kn.insert(u,l));return[2]}})})}(i.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Ta(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ci((n=y(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&wa(n,e.targetId,o.To),o)]}})})}function Ia(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){return[2,Oi((e=y(t)).localStore).then(function(t){return Sa(e,t)})]})})}function Ma(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(t,e){var n=y(t),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):tr.resolve(null)})})}((o=y(t)).localStore,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,No(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ga(o,e,i||null),va(o,e),function(t,e){y(y(t)._n).Gt(e)}(o.localStore,e)):v(),r.label=4;case 4:return[4,Sa(o,a)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}})})}function ka(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,h;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return xa(n=y(t)),Pa(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Ca(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Uo(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],bo(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):h=h.then(function(){return ya(n,e),ki(n.localStore,e,!0)}),wo(n.remoteStore,e)}),[4,h]);case 4:return r.sent(),[4,Ca(n,c)];case 5:return r.sent(),function(t){var e=y(n);e.Co.forEach(function(t,n){wo(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ke(z.comparator)}(),n.$o=!1,[4,Uo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function Ca(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,h,l,f,d,p,m,v;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=y(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(h=n.Vo.get(u))&&0!==h.length?[4,Mi(n.localStore,jt(h[0]))]:[3,7]):[3,13];case 2:c=r.sent(),l=0,f=h,r.label=3;case 3:return l<f.length?(d=f[l],p=n.Po.get(d),[4,Ta(n,p)]):[3,6];case 4:(m=r.sent()).snapshot&&o.push(m.snapshot),r.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.localStore,u)];case 8:return v=r.sent(),[4,Mi(n.localStore,v)];case 9:return c=r.sent(),[4,ha(n,Aa(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}})})}function Aa(t){return Ct(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Oa(t){var e=y(t);return y(y(e.localStore).persistence).fn()}function Ra(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=y(t)).$o?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Oi(o.localStore)];case 3:return a=r.sent(),s=Ve.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Sa(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,ki(o.localStore,e,!0)];case 6:return r.sent(),ya(o,e,i),[3,8];case 7:v(),r.label=8;case 8:return[2]}})})}function Na(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,h,l,d,p;return Object(r.__generator)(this,function(m){switch(m.label){case 0:if(!(i=xa(t)).$o)return[3,10];o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],i.Vo.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ai(i.localStore,s)]):[3,6];case 2:return u=m.sent(),[4,Mi(i.localStore,u)];case 3:return c=m.sent(),[4,ha(i,Aa(u),c.targetId,!1)];case 4:m.sent(),bo(i.remoteStore,c),m.label=5;case 5:return o++,[3,1];case 6:h=function(t){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,ki(i.localStore,t,!1).then(function(){wo(i.remoteStore,t),ya(i,t)}).catch(Gr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,d=n,m.label=7;case 7:return l<d.length?(p=d[l],[5,h(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function xa(t){var e=y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=da.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=y(t),r=n.Co.get(e);if(r&&r.bo)return Ue().add(r.key);var i=Ue(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(i=y(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(a=o&&o.key)?(s=(s=new ke(z.comparator)).insert(a,at.newNoDocument(a,I.min())),u=Ue().add(a),c=new Ve(I.min(),new Map,new Oe(_),s,u),[4,da(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(e),Ea(i),[3,4];case 2:return[4,ki(i.localStore,e,!1).then(function(){return ya(i,e,n)}).catch(Gr)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}.bind(null,e),e.vo._r=function(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&$o(n)}.bind(null,e.eventManager),e.vo.Mo=function(t,e,n){var r=y(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}.bind(null,e.eventManager),e}function Pa(t){var e=y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=y(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_i(n.localStore,e)];case 2:return o=r.sent(),ga(n,i,null),va(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Sa(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Gr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return g(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(i.localStore,e)];case 2:return o=r.sent(),ga(i,e,n),va(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Sa(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Gr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}.bind(null,e),e}function Da(t,e,n){var i=y(t);(function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=r.sent(),[4,function(t,e){var n=y(t),r=rn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,i)];case 2:return r.sent()?[4,e.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(na(i)),o=new ea(i,t.localStore,e.R),[4,e.Lo()];case 5:a=r.sent(),r.label=6;case 6:return a?[4,o.oo(a)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:a=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Sa(t,u.wn,void 0)];case 12:return r.sent(),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,e,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var ja=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.R=uo(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return bi(this.persistence,new gi,t.initialUser,this.R)},t.prototype.qo=function(t){return new qi(Ki.bs,this.R)},t.prototype.Bo=function(t){return new to},t.prototype.terminate=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),La=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.__extends)(e,t),e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Ri(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Pa(this.Qo.syncEngine)];case 4:return r.sent(),[4,No(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return bi(this.persistence,new gi,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Xr(e,t.asyncQueue)},e.prototype.qo=function(t){var e=di(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new hi(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ao(),so(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new to},e}(ja),Fa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.__extends)(e,t),e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zi?(this.sharedClientState.syncEngine={ui:Ma.bind(null,n),ai:Ra.bind(null,n),hi:Na.bind(null,n),fn:Oa.bind(null,n),ci:Ia.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(t){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,ka(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ao();if(!Zi.yt(e))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=di(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Zi(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(La),Ua=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return pa(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=y(t)).currentUser.isEqual(e)?[3,3]:(f("SyncEngine","User change. New user:",e.toKey()),[4,wi(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Sa(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}.bind(null,this.syncEngine),[4,Uo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Qo},t.prototype.createDatastore=function(t){var e,n=uo(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new oo(e));return function(t,e,n){return new po(t,r,n)}(t.credentials,0,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return pa(a.syncEngine,t,0)},o=no.yt()?new no:new eo,new vo(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new ua(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=y(t),f("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,yo(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Ba(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]})})},cancel:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Va=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new Zo(JSON.parse(i),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),Ka=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),i=ln(n.R)+"/documents",o={documents:e.map(function(t){return sn(n.R,t)})},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){g(!!e.found),e.found.name,e.found.updateTime;var n=un(t,e.found.name),r=rn(e.found.updateTime),i=new it({mapValue:{fields:e.found.fields}});return at.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){g(!!e.missing),g(!!e.readTime);var n=un(t,e.missing),r=rn(e.readTime);return at.newNoDocument(n,r)}(t,e):v()}(n.R,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());g(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ee(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=z.fromPath(n);e.mutations.push(new Se(r,e.precondition(r)))}),[4,function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),i=ln(n.R)+"/documents",o={writes:e.map(function(t){return mn(n.R,t)})},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw v();e=I.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?se.updateTime(e):se.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(I.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return se.updateTime(e)}return se.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),za=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new co(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return Object(r.__generator)(this,function(r){return t=new Ka(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!q(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ie(e)}return!1},t}(),Wa=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=zi.UNAUTHENTICATED,this.clientId=w.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return f("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ko(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ha(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return Object(r.__generator)(this,function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),i=n.initialUser,t.setCredentialChangeListener(function(t){return Object(r.__awaiter)(o,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,wi(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ga(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Qa(t)];case 1:return n=o.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=y(t)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),i=Io(n),n.Or.add(3),[4,yo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,go(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Qa(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,Ha(t,new ja)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ya(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,Ga(t,new Ua)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Xa(t){return Qa(t).then(function(t){return t.persistence})}function $a(t){return Qa(t).then(function(t){return t.localStore})}function Ja(t){return Ya(t).then(function(t){return t.remoteStore})}function Za(t){return Ya(t).then(function(t){return t.syncEngine})}function ts(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ya(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=ca.bind(null,e.syncEngine),n.onUnlisten=la.bind(null,e.syncEngine),n)]}})})}function es(t,e,n){var i=this;void 0===n&&(n={});var o=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new qa({next:function(o){e.enqueueAndForget(function(){return Xo(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Jo(At(n.path),o,{includeMetadataChanges:!0,so:!0});return Yo(t,a)},[4,ts(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function ns(t,e,n){var i=this;void 0===n&&(n={});var o=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new qa({next:function(n){e.enqueueAndForget(function(){return Xo(t,a)}),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Jo(n,o,{includeMetadataChanges:!0,so:!0});return Yo(t,a)},[4,ts(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var rs=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},is=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),os=new Map,as=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ss=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(zi.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),us=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cs=function(){function t(t){var e=this;this.currentUser=zi.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){f("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(f("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(g("string"==typeof n.accessToken),new as(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return g(null===t||"string"==typeof t),new zi(t)},t}(),hs=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=zi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ls=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new hs(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(zi.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function fs(t,e,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ds(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ps(t,e,n,r){if(!0===e&&!0===r)throw new c(u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ms(t){if(!z.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function vs(t){if(z.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gs(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gs(t);throw new c(u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bs(t,e){if(e<=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ws=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ps("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),_s=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ws({}),this._settingsFrozen=!1,t instanceof is?(this._databaseId=t,this._credentials=new ss):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(t.options.projectId)}(t),this._credentials=new cs(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ws(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ss;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ls(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=os.get(this))&&(f("ComponentProvider","Removing Datastore"),os.delete(this),t.terminate()),Promise.resolve();var t},t}(),Es=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ts(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ss=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,At(r))||this)._path=r,i.type="collection",i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Es(this.firestore,null,new z(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ss);function Is(t,e){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(t=Object(i.getModularInstance)(t),fs("collection","path",e),t instanceof _s)return vs(n=O.fromString.apply(O,Object(r.__spreadArray)([e],o))),new Ts(t,null,n);if(!(t instanceof Es||t instanceof Ts))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vs(n=O.fromString.apply(O,Object(r.__spreadArray)([t.path],o)).child(O.fromString(e))),new Ts(t.firestore,null,n)}function Ms(t,e){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(t=Object(i.getModularInstance)(t),1===arguments.length&&(e=w.u()),fs("doc","path",e),t instanceof _s)return ms(n=O.fromString.apply(O,Object(r.__spreadArray)([e],o))),new Es(t,null,new z(n));if(!(t instanceof Es||t instanceof Ts))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ms(n=t._path.child(O.fromString.apply(O,Object(r.__spreadArray)([e],o)))),new Es(t.firestore,t instanceof Ts?t.converter:null,new z(n))}function ks(t,e){return t=Object(i.getModularInstance)(t),e=Object(i.getModularInstance)(e),(t instanceof Es||t instanceof Ts)&&(e instanceof Es||e instanceof Ts)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cs(t,e){return t=Object(i.getModularInstance)(t),e=Object(i.getModularInstance)(e),t instanceof Ss&&e instanceof Ss&&t.firestore===e.firestore&&Ft(t._query,e._query)&&t.converter===e.converter}var As=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new co(this,"async_queue_retry"),this.Ic=function(){var e=so();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=so();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=so();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Zn;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!or(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Vo.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&v()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Os(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Rs=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Ns=-1,xs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new As,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(r.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ds(this),this._firestoreClient.terminate()},e}(_s);function Ps(t){return t._firestoreClient||Ds(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ds(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new rs(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Wa(t._credentials,t._queue,r)}function js(t,e,n){var i=this,o=new Zn;return t.asyncQueue.enqueue(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Ha(t,n)];case 1:return r.sent(),[4,Ga(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Ls(t){if(t._initialized||t._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fs=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new N(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Us=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(P.fromBase64String(e))}catch(e){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(P.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Bs=function(t){this._methodName=t},qs=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return _(this._lat,t._lat)||_(this._long,t._long)},t}(),Vs=/^__.*__$/,Ks=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ve(t,this.data,this.fieldMask,e,this.fieldTransforms):new me(t,this.data,e,this.fieldTransforms)},t}(),zs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ve(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ws(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Hs=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return fu(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Ws(this.Nc)&&Vs.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Gs=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||uo(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Hs({Nc:t,methodName:e,qc:n,path:N.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Qs(t){var e=t._freezeSettings(),n=uo(t._databaseId);return new Gs(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ys(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);uu("Data must be an object, but it was:",a,r);var s,h,l=au(r,a);if(o.merge)s=new x(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var m=cu(e,p[d],n);if(!a.contains(m))throw new c(u.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");du(f,m)||f.push(m)}s=new x(f),h=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,h=a.fieldTransforms;return new Ks(new it(l),s,h)}var Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Bs);function $s(t,e,n){return new Hs({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new oe(t.path,new $t)},e.prototype.isEqual=function(t){return t instanceof e},e}(Bs),Zs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=$s(this,t,!0),n=this.Kc.map(function(t){return ou(t,e)}),r=new Jt(n);return new oe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bs),tu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=$s(this,t,!0),n=this.Kc.map(function(t){return ou(t,e)}),r=new te(n);return new oe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bs),eu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new ne(t.R,Ht(t.R,this.Qc));return new oe(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Bs);function nu(t,e,n,r){var o=t.Uc(1,e,n);uu("Data must be an object, but it was:",o,r);var a=[],s=it.empty();k(r,function(t,r){var u=lu(e,t,n);r=Object(i.getModularInstance)(r);var c=o.Oc(u);if(r instanceof Xs)a.push(u);else{var h=ou(r,c);null!=h&&(a.push(u),s.set(u,h))}});var u=new x(a);return new zs(s,u,o.fieldTransforms)}function ru(t,e,n,r,o,a){var s=t.Uc(1,e,n),h=[cu(e,r,n)],l=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<a.length;f+=2)h.push(cu(e,a[f])),l.push(a[f+1]);for(var d=[],p=it.empty(),m=h.length-1;m>=0;--m)if(!du(d,h[m])){var v=h[m],g=l[m];g=Object(i.getModularInstance)(g);var y=s.Oc(v);if(g instanceof Xs)d.push(v);else{var b=ou(g,y);null!=b&&(d.push(v),p.set(v,b))}}var w=new x(d);return new zs(p,w,s.fieldTransforms)}function iu(t,e,n,r){return void 0===r&&(r=!1),ou(n,t.Uc(r?4:3,e))}function ou(t,e){if(su(t=Object(i.getModularInstance)(t)))return uu("Unsupported field value:",e,t),au(t,e);if(t instanceof Bs)return function(t,e){if(!Ws(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=ou(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(i.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ht(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=T.fromDate(t);return{timestampValue:tn(e.R,n)}}if(t instanceof T)return n=new T(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:tn(e.R,n)};if(t instanceof qs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Us)return{bytesValue:en(e.R,t._byteString)};if(t instanceof Es){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+gs(t))}(t,e)}function au(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,r){var i=ou(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function su(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof T||t instanceof qs||t instanceof Us||t instanceof Es||t instanceof Bs)}function uu(t,e,n){if(!su(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gs(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function cu(t,e,n){if((e=Object(i.getModularInstance)(e))instanceof Fs)return e._internalPath;if("string"==typeof e)return lu(t,e);throw fu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var hu=new RegExp("[~\\*/\\[\\]]");function lu(t,e,n){if(e.search(hu)>=0)throw fu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Fs.bind.apply(Fs,Object(r.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(i){throw fu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function fu(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var h="";return(o||a)&&(h+=" (found",o&&(h+=" in field "+r),a&&(h+=" in document "+i),h+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+t+h)}function du(t,e){return t.some(function(t){return t.isEqual(e)})}var pu=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Es(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new mu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(vu("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(pu);function vu(t,e){return"string"==typeof e?lu(t,e):e instanceof Fs?e._internalPath:e._delegate._internalPath}var gu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),yu=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(r.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(vu("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(pu),bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(yu),wu=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new gu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new bu(n._firestore,n._userDataWriter,r.key,r,new gu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new bu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new bu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:_u(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function _u(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function Eu(t,e){return t instanceof yu&&e instanceof yu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof wu&&e instanceof wu&&t._firestore===e._firestore&&Cs(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Su(t){if(Rt(t)&&0===t.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tu=function(){};function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var Mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(r.__extends)(e,t),e.prototype._apply=function(t){var e=Qs(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xu(a,o);for(var h=[],l=0,f=a;l<f.length;l++){var d=f[l];h.push(Nu(r,t,d))}s={arrayValue:{values:h}}}else s=Nu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xu(a,o),s=iu(n,"where",a,"in"===o||"not-in"===o);var p=ft.create(i,o,s);return function(t,e){if(e.g()){var n=xt(t);if(null!==n&&!n.isEqual(e.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Nt(t);null!==r&&Pu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===e.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,p),p}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ss(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new kt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Tu),ku=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(r.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new St(e,n);return function(t,e){if(null===Nt(t)){var n=xt(t);null!==n&&Pu(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Ss(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new kt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Tu),Cu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(r.__extends)(e,t),e.prototype._apply=function(t){return new Ss(t.firestore,t.converter,Lt(t._query,this.Hc,this.Jc))},e}(Tu),Au=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(e,t),e.prototype._apply=function(t){var e=Ru(t,this.type,this.Yc,this.Xc);return new Ss(t.firestore,t.converter,function(t,e){return new kt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Tu),Ou=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(e,t),e.prototype._apply=function(t){var e=Ru(t,this.type,this.Yc,this.Xc);return new Ss(t.firestore,t.converter,function(t,e){return new kt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Tu);function Ru(t,e,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof pu)return function(t,e,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Dt(t);a<s.length;a++){var h=s[a];if(h.field.isKeyField())o.push($(e,r.key));else{var l=r.data.field(h.field);if(U(l))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=h.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(l)}}return new _t(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=Qs(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],h=0;h<i.length;h++){var l=i[h];if(a[h].field.isKeyField()){if("string"!=typeof l)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Pt(t)&&-1!==l.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var f=t.path.child(O.fromString(l));if(!z.isDocumentKey(f))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new z(f);s.push($(e,d))}else{var p=iu(n,r,l);s.push(p)}}return new _t(s,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function Nu(t,e,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pt(e)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(O.fromString(n));if(!z.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $(t,new z(r))}if(n instanceof Es)return $(t,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gs(n)+".")}function xu(t,e){if(!Array.isArray(t)||0===t.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Pu(t,e,n){if(!n.isEqual(e))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Du=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),W(t)){case 0:return null;case 1:return t.booleanValue;case 2:return L(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(F(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw v()}},t.prototype.convertObject=function(t,e){var n=this,r={};return k(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new qs(L(t.latitude),L(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return U(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(B(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=j(t);return new T(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=O.fromString(t);g(An(n));var r=new is(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(e)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ju(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Lu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.__extends)(e,t),e.prototype.convertBytes=function(t){return new Us(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Es(this.firestore,null,e)},e}(Du),Fu=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Qs(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Uu(t,this._firestore),i=ju(r.converter,e,n),o=Ys(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,se.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Uu(t,this._firestore);return a="string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof Fs?ru(this._dataReader,"WriteBatch.update",s._key,e,n,r):nu(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,se.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Uu(t,this._firestore);return this._mutations=this._mutations.concat(new Ee(e._key,se.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Uu(t,e){if((t=Object(i.getModularInstance)(t)).firestore!==e)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Bu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.__extends)(e,t),e.prototype.convertBytes=function(t){return new Us(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Es(this.firestore,null,e)},e}(Du);function qu(t,e,n){t=ys(t,Es);var r=ys(t.firestore,xs),i=ju(t.converter,e,n);return zu(r,[Ys(Qs(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,se.none())])}function Vu(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=ys(t,Es);var a=ys(t.firestore,xs),s=Qs(a);return zu(a,[("string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof Fs?ru(s,"updateDoc",t._key,e,n,r):nu(s,"updateDoc",t._key,e)).toMutation(t._key,se.exists(!0))])}function Ku(t){for(var e,n,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];t=Object(i.getModularInstance)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Os(a[c])||(u=a[c],c++);var h,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Os(a[c])){var p=a[c];a[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(t instanceof Es)l=ys(t.firestore,xs),f=At(t._key.path),h={next:function(e){a[c]&&a[c](Wu(l,t,e))},error:a[c+1],complete:a[c+2]};else{var m=ys(t,Ss);l=ys(m.firestore,xs),f=m._query;var v=new Bu(l);h={next:function(t){a[c]&&a[c](new wu(l,v,m,t))},error:a[c+1],complete:a[c+2]},Su(t._query)}return function(t,e,n,i){var o=this,a=new qa(h),s=new Jo(e,a,n);return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=Yo,[4,ts(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){a.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=Xo,[4,ts(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Ps(l),f,d)}function zu(t,e){return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=fa,[4,Za(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(Ps(t),e)}function Wu(t,e,n){var r=n.docs.get(e._key),i=new Bu(t);return new yu(t,i,e._key,r,new gu(n.hasPendingWrites,n.fromCache),e.converter)}var Hu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(r.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Uu(e,this._firestore),i=new Bu(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new yu(n._firestore,i,r._key,t._document,new gu(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Qs(t)}return t.prototype.get=function(t){var e=this,n=Uu(t,this._firestore),r=new Lu(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v();var i=t[0];if(i.isFoundDocument())return new pu(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pu(e._firestore,r,n._key,null,n.converter);throw v()})},t.prototype.set=function(t,e,n){var r=Uu(t,this._firestore),i=ju(r.converter,e,n),o=Ys(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=Uu(t,this._firestore);return a="string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof Fs?ru(this._dataReader,"Transaction.update",s._key,e,n,r):nu(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=Uu(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Gu(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qu(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yu=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Qu(),new t(Us.fromBase64String(e))},t.fromUint8Array=function(e){return Gu(),new t(Us.fromUint8Array(e))},t.prototype.toBase64=function(){return Qu(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Gu(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Xu=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ls(t=ys(t,xs));var n=Ps(t),r=t._freezeSettings(),i=new Ua;return js(n,i,new La(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ls(t=ys(t,xs));var e=Ps(t),n=t._freezeSettings(),r=new Ua;return js(e,r,new Fa(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zn;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return nr.yt()?(e=t+"main",[4,nr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(di(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),$u=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof is||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var o;void 0===r&&(r={});var a=(t=ys(t,_s))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,h;if("string"==typeof r.mockUserToken)s=r.mockUserToken,h=zi.MOCK_USER;else{s=Object(i.createMockUserToken)(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);var l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zi(l)}t._credentials=new us(new as(s,h))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Xa(t)];case 1:return e=r.sent(),[4,Ja(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=y(n);return e.Or.delete(0),go(e)}())]}})})})}(Ps(ys(this._delegate,xs)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return[4,Xa(t)];case 1:return e=i.sent(),[4,Ja(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(e=y(t)).Or.add(0),[4,yo(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ps(ys(this._delegate,xs)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ps("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return e=ma,[4,Za(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ps(ys(this._delegate,xs)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new qa(e);return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.add(e),e.next()},[4,ts(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.delete(e)},[4,ts(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(Ps(t=ys(t,xs)),Os(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new fc(this,Is(this._delegate,t))}catch(t){throw ic(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new rc(this,Ms(this._delegate,t))}catch(t){throw ic(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new cc(this,function(t,e){if(t=ys(t,_s),fs("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ss(t,null,function(t){return new kt(O.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw ic(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(t){return Ya(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new za(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}(Ps(t),function(n){return e(new Hu(t,n))})}(this._delegate,function(n){return t(new tc(e,n))})},t.prototype.batch=function(){var t=this;return Ps(this._delegate),new ec(new Fu(this._delegate,function(e){return zu(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.__extends)(e,t),e.prototype.convertBytes=function(t){return new Yu(new Us(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return rc.eu(e,this.firestore,null)},e}(Du);function Zu(t){var e;e=t,h.setLogLevel(e)}var tc=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ju(t)}return t.prototype.get=function(t){var e=this,n=dc(t);return this._delegate.get(n).then(function(t){return new sc(e._firestore,new yu(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=dc(t);return n?(ds("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=dc(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,e,n],o)),this},t.prototype.delete=function(t){var e=dc(t);return this._delegate.delete(e),this},t}(),ec=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=dc(t);return n?(ds("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=dc(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,e,n],o)),this},t.prototype.delete=function(t){var e=dc(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),nc=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new bu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new uc(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Ju(e),n),i.set(n,o)),o},t}();nc.su=new WeakMap;var rc=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ju(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Es(n._delegate,r,new z(e)))},t.eu=function(e,n,r){return new t(n,new Es(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new fc(this.firestore,Is(this._delegate,t))}catch(t){throw ic(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(i.getModularInstance)(t))instanceof Es&&ks(this._delegate,t)},t.prototype.set=function(t,e){e=ds("DocumentReference.set",e);try{return e?qu(this._delegate,t,e):qu(this._delegate,t)}catch(t){throw ic(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Vu(this._delegate,t):Vu.apply(void 0,Object(r.__spreadArray)([this._delegate,t,e],n))}catch(t){throw ic(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return zu(ys((t=this._delegate).firestore,xs),[new Ee(t._key,se.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=oc(e),i=ac(e,function(e){return new sc(t.firestore,new yu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Ku(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ys(t,Es);var e=ys(t.firestore,xs),n=Ps(e),i=new Bu(e);return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=Ko(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,$a(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new yu(e,i,t._key,n,new gu(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ys(t,Es);var e=ys(t.firestore,xs);return es(Ps(e),t._key,{source:"server"}).then(function(n){return Wu(e,t,n)})}(this._delegate):function(t){t=ys(t,Es);var e=ys(t.firestore,xs);return es(Ps(e),t._key).then(function(n){return Wu(e,t,n)})}(this._delegate)).then(function(t){return new sc(e.firestore,new yu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ic(t,e,n){return t.message=t.message.replace(e,n),t}function oc(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Os(r))return r}return{}}function ac(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Os(t[0])?t[0]:Os(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new rc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Eu(this._delegate,t._delegate)},t}(),uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(sc),cc=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ju(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Iu(this._delegate,function(t,e,n){var r=e,i=vu("where",t);return new Mu(i,r,n)}(e,n,r)))}catch(e){throw ic(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Iu(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=vu("orderBy",t);return new ku(r,n)}(e,n)))}catch(e){throw ic(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Iu(this._delegate,function(t){return bs("limit",t),new Cu("limit",t,"F")}(e)))}catch(e){throw ic(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Iu(this._delegate,function(t){return bs("limitToLast",t),new Cu("limitToLast",t,"L")}(e)))}catch(e){throw ic(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Au("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw ic(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Au("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw ic(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ou("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw ic(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ou("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw ic(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Cs(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ys(t,Ss);var e=ys(t.firestore,xs),n=Ps(e),i=new Bu(e);return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ci(t,e,!0)];case 1:return u=r.sent(),i=new oa(e,u.Bn),o=i._o(u.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=Ko(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,$a(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new wu(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ys(t,Ss);var e=ys(t.firestore,xs),n=Ps(e),r=new Bu(e);return ns(n,t._query,{source:"server"}).then(function(n){return new wu(e,r,t,n)})}(this._delegate):function(t){t=ys(t,Ss);var e=ys(t.firestore,xs),n=Ps(e),r=new Bu(e);return Su(t._query),ns(n,t._query).then(function(n){return new wu(e,r,t,n)})}(this._delegate)).then(function(t){return new lc(e.firestore,new wu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=oc(e),i=ac(e,function(e){return new lc(t.firestore,new wu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ku(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),hc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new uc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),lc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new cc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new uc(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new hc(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new uc(n._firestore,r))})},t.prototype.isEqual=function(t){return Eu(this._delegate,t._delegate)},t}(),fc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new rc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new rc(this.firestore,void 0===t?Ms(this._delegate):Ms(this._delegate,t))}catch(t){throw ic(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ys(t.firestore,xs),r=Ms(t),i=ju(t.converter,e);return zu(n,[Ys(Qs(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,se.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new rc(e.firestore,t)})},e.prototype.isEqual=function(t){return ks(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(cc);function dc(t){return ys(t,Es)}var pc=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Fs.bind.apply(Fs,Object(r.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(N.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(i.getModularInstance)(t))instanceof Fs&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),mc=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Js("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Xs("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zs("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tu("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new eu("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();function vc(t){return function(t,e){var n=Ps(t=ys(t,xs)),i=new Rs;return function(t,e,n,i){var o=this,a=function(t,e){return function(t,e){return new Va(t,e)}(function(t,e){if(t instanceof Uint8Array)return Ba(t,e);if(t instanceof ArrayBuffer)return Ba(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,uo(e));t.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return e=Da,[4,Za(t)];case 1:return e.apply(void 0,[n.sent(),a,i]),[2]}})})})}(n,t._databaseId,e,i),i}(this._delegate,t)}function gc(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=y(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,$a(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(Ps(e=ys(e,xs)),n).then(function(t){return t?new Ss(e,null,t.query):null})).then(function(t){return t?new cc(i,t):null})}}).call(this,n(9))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){var r=n(171),i=n(172),o=n(79);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return B(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var h=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return V(B(e,t.length-n),t,n,r)}function w(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return V(q(e),t,n,r)}function S(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=M));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),h=t.slice(e,n),l=0;l<s;++l)if(c[l]!==h[l]){o=c[l],a=h[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function x(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(11))},function(t,e,n){"use strict";n.r(e),n.d(e,"MemoryRouter",function(){return y}),n.d(e,"Prompt",function(){return w}),n.d(e,"Redirect",function(){return I}),n.d(e,"Route",function(){return O}),n.d(e,"Router",function(){return g}),n.d(e,"StaticRouter",function(){return j}),n.d(e,"Switch",function(){return L}),n.d(e,"__HistoryContext",function(){return m}),n.d(e,"__RouterContext",function(){return v}),n.d(e,"generatePath",function(){return T}),n.d(e,"matchPath",function(){return A}),n.d(e,"useHistory",function(){return B}),n.d(e,"useLocation",function(){return q}),n.d(e,"useParams",function(){return V}),n.d(e,"useRouteMatch",function(){return K}),n.d(e,"withRouter",function(){return F});var r=n(18),i=n(2),o=n.n(i),a=n(17),s=n(73),u=n(16),c=n(14),h=n(74),l=n.n(h),f=(n(76),n(30)),d=n(133),p=n.n(d),m=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History"),v=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),g=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);var y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(a.createMemoryHistory)(e.props),e}return Object(r.a)(e,t),e.prototype.render=function(){return o.a.createElement(g,{history:this.history,children:this.props.children})},e}(o.a.Component);var b=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);function w(t){var e=t.message,n=t.when,r=void 0===n||n;return o.a.createElement(v.Consumer,null,function(t){if(t||Object(u.default)(!1),!r||t.staticContext)return null;var n=t.history.block;return o.a.createElement(b,{onMount:function(t){t.release=n(e)},onUpdate:function(t,r){r.message!==e&&(t.release(),t.release=n(e))},onUnmount:function(t){t.release()},message:e})})}var _={},E=1e4,S=0;function T(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(_[t])return _[t];var e=l.a.compile(t);return S<E&&(_[t]=e,S++),e}(t)(e,{pretty:!0})}function I(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(v.Consumer,null,function(t){t||Object(u.default)(!1);var r=t.history,s=t.staticContext,h=i?r.push:r.replace,l=Object(a.createLocation)(e?"string"===typeof n?T(n,e.params):Object(c.a)({},n,{pathname:T(n.pathname,e.params)}):n);return s?(h(l),null):o.a.createElement(b,{onMount:function(){h(l)},onUpdate:function(t,e){var n=Object(a.createLocation)(e.to);Object(a.locationsAreEqual)(n,Object(c.a)({},l,{key:n.key}))||h(l)},to:n})})}var M={},k=1e4,C=0;function A(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=M[n]||(M[n]={});if(r[t])return r[t];var i=[],o={regexp:l()(t,i,e),keys:i};return C<k&&(r[t]=o,C++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var h=u[0],f=u.slice(1),d=t===h;return o&&!d?null:{path:n,url:"/"===n&&""===h?"/":h,isExact:d,params:a.reduce(function(t,e,n){return t[e.name]=f[n],t},{})}},null)}var O=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(v.Consumer,null,function(e){e||Object(u.default)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?A(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,h=a.component,l=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(v.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:h?o.a.createElement(h,i):l?l(i):null:"function"===typeof s?s(i):null)})},e}(o.a.Component);function R(t){return"/"===t.charAt(0)?t:"/"+t}function N(t,e){if(!t)return e;var n=R(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function x(t){return"string"===typeof t?t:Object(a.createPath)(t)}function P(t){return function(){Object(u.default)(!1)}}function D(){}var j=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return D},e.handleBlock=function(){return D},e}Object(r.a)(e,t);var n=e.prototype;return n.navigateTo=function(t,e){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=e,s.location=function(t,e){return t?Object(c.a)({},e,{pathname:R(t)+e.pathname}):e}(i,Object(a.createLocation)(t)),s.url=x(s.location)},n.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,r=t.context,i=void 0===r?{}:r,s=t.location,u=void 0===s?"/":s,h=Object(f.a)(t,["basename","context","location"]),l={createHref:function(t){return R(n+x(t))},action:"POP",location:N(n,Object(a.createLocation)(u)),push:this.handlePush,replace:this.handleReplace,go:P(),goBack:P(),goForward:P(),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(g,Object(c.a)({},h,{history:l,staticContext:i}))},e}(o.a.Component);var L=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(v.Consumer,null,function(e){e||Object(u.default)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?A(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},e}(o.a.Component);function F(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,r=Object(f.a)(e,["wrappedComponentRef"]);return o.a.createElement(v.Consumer,null,function(e){return e||Object(u.default)(!1),o.a.createElement(t,Object(c.a)({},r,e,{ref:n}))})};return n.displayName=e,n.WrappedComponent=t,p()(n,t)}var U=o.a.useContext;function B(){return U(m)}function q(){return U(v).location}function V(){var t=U(v).match;return t?t.params:{}}function K(t){var e=q(),n=U(v).match;return t?A(e.pathname,t):n}},function(t,e,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return ur}),n.d(e,"b",function(){return hr}),n.d(e,"c",function(){return cr}),n.d(e,"d",function(){return fr}),n.d(e,"e",function(){return lr}),n.d(e,"f",function(){return dr}),n.d(e,"g",function(){return pr}),n.d(e,"h",function(){return ar}),n.d(e,"i",function(){return sr});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function h(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m).apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function y(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function b(){this.s=this.s,this.o=this.o}var w={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++d)}(this);delete w[t]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var M,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function C(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var O=u.navigator;if(O){var R=O.userAgent;if(R){M=R;break t}}M=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function x(t){var e={};for(var n in t)e[n]=t[n];return e}var P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<P.length;o++)n=P[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var L,F=C(M,"Opera"),U=C(M,"Trident")||C(M,"MSIE"),B=C(M,"Edge"),q=B||U,V=C(M,"Gecko")&&!(C(M.toLowerCase(),"webkit")&&!C(M,"Edge"))&&!(C(M,"Trident")||C(M,"MSIE"))&&!C(M,"Edge"),K=C(M.toLowerCase(),"webkit")&&!C(M,"Edge");function z(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",H=function(){var t=M;return V?/rv:([^\);]+)(\)|;)/.exec(t):B?/Edge\/([\d\.]+)/.exec(t):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):K?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(H&&(W=H?H[1]:""),U){var G=z();if(null!=G&&G>parseFloat(W)){L=String(G);break t}}L=W}var Q,Y={};function X(){return function(t){var e=Y;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){for(var t=0,e=k(String(L)).split("."),n=k("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=A(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==o[2].length,0==a[2].length)||A(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t})}if(u.document&&U){var $=z();Q=$||(parseInt(L,10)||void 0)}else Q=void 0;var J=Q,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function et(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:nt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&et.Z.h.call(this)}}tt.prototype.h=function(){this.defaultPrevented=!0},y(et,tt);var nt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++it,this.ca=this.fa=!1}function at(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function st(t){this.src=t,this.g={},this.h=0}function ut(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=_(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(at(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}st.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=ct(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ot(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),lt={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=bt(r);return e&&e[rt]?e.O(n,r,l(i)?!!i.capture:!!i,o):dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,r,i);return null}return n=bt(n),t&&t[rt]?t.N(e,n,l(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i,s=gt(t);if(s||(t[ht]=s=new st(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=vt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Z||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rt])ut(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gt(e))?(ut(n,t),0==n.h&&(n.src=null,e[ht]=null)):at(t)}}}function mt(t){return t in lt?lt[t]:lt[t]="on"+t}function vt(t,e){if(t.ca)t=!0;else{e=new et(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&pt(t),t=n.call(r,e)}return t}function gt(t){return(t=t[ht])instanceof st?t:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(t){return"function"===typeof t?t:(t[yt]||(t[yt]=function(e){return t.handleEvent(e)}),t[yt])}function wt(){b.call(this),this.i=new st(this),this.P=this,this.I=null}function _t(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new tt(e,t);else if(e instanceof tt)e.target=e.target||t;else{var i=e;D(e=new tt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Et(a,r,!0,e)&&i}if(i=Et(a=e.g=t,r,!0,e)&&i,i=Et(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Et(a=e.g=n[o],r,!1,e)&&i}function Et(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ut(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}y(wt,b),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=l(i)?!!i.capture:!!i,r=bt(r),e&&e[rt]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=ct(a=e.g[n],r,i,o))&&(at(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):e&&(e=gt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=ct(n,r,i,o)),(r=-1<e?n[e]:null)&&pt(r))}(this,t,e,n,r)},wt.prototype.M=function(){if(wt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)at(n[r]);delete e.g[t],e.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function Tt(){var t=Nt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var It,Mt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),kt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())(function(){return new Ct},function(t){return t.reset()}),Ct=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function At(t){u.setTimeout(function(){throw t},0)}function Ot(t,e){It||function(){var t=u.Promise.resolve(void 0);It=function(){t.then(xt)}}(),Rt||(It(),Rt=!0),Nt.add(t,e)}var Rt=!1,Nt=new Mt;function xt(){for(var t;t=Tt();){try{t.h.call(t.g)}catch(n){At(n)}var e=kt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rt=!1}function Pt(t,e){wt.call(this),this.h=t||1,this.g=e||u,this.j=v(this.kb,this),this.l=Date.now()}function Dt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"===typeof t)n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}y(Pt,wt),(o=Pt.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_t(this,"tick"),this.da&&(Dt(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){Pt.Z.M.call(this),Dt(this),delete this.g};var Lt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=jt(function(){e.g=null,e.i&&(e.i=!1,t(e))},e.j);var n=e.h;e.h=null,e.m.apply(null,n)}(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(b);function Ft(t){b.call(this),this.h=t,this.g={}}y(Ft,b);var Ut=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(Ut[0]=n.toString()),n=Ut);for(var i=0;i<n.length;i++){var o=ft(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qt(t){N(t.g,function(t,e){this.g.hasOwnProperty(e)&&pt(t)},t),t.g={}}function Vt(){this.g=!0}function Kt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return St(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Ft.prototype.M=function(){Ft.Z.M.call(this),qt(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vt.prototype.Aa=function(){this.g=!1},Vt.prototype.info=function(){};var zt={},Wt=null;function Ht(){return Wt=Wt||new wt}function Gt(t){tt.call(this,zt.Ma,t)}function Qt(t){var e=Ht();_t(e,new Gt(e,t))}function Yt(t,e){tt.call(this,zt.STAT_EVENT,t),this.stat=e}function Xt(t){var e=Ht();_t(e,new Yt(e,t))}function $t(t,e){tt.call(this,zt.Na,t),this.size=e}function Jt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){t()},e)}zt.Ma="serverreachability",y(Gt,tt),zt.STAT_EVENT="statevent",y(Yt,tt),zt.Na="timingevent",y($t,tt);var Zt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},te={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ee(){}function ne(t){return t.h||(t.h=t.i())}function re(){}ee.prototype.h=null;var ie,oe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ae(){tt.call(this,"d")}function se(){tt.call(this,"c")}function ue(){}function ce(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ft(this),this.P=le,t=q?125:void 0,this.W=new Pt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}y(ae,tt),y(se,tt),y(ue,ee),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},ie=new ue;var le=45e3,fe={},de={};function pe(t,e,n){t.K=1,t.v=Le(Re(e)),t.s=n,t.U=!0,me(t,null)}function me(t,e){t.F=Date.now(),be(t),t.A=Re(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Xe(n.h,"t",r),t.C=0,n=t.l.H,t.h=new he,t.g=Zn(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Lt(v(t.Ia,t,t.g),t.O)),Bt(t.V,t.g,"readystatechange",t.gb),e=t.H?x(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qt(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ve(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function ge(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=ye(t,n))==de){4==e&&(t.o=4,Xt(14),i=!1),Kt(t.j,t.m,null,"[Incomplete Response]");break}if(r==fe){t.o=4,Xt(15),Kt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Kt(t.j,t.m,r,null),Te(t,r)}ve(t)&&r!=de&&r!=fe&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wn(e),e.L=!0,Xt(11))):(Kt(t.j,t.m,n,"[Invalid Chunked Response]"),Se(t),Ee(t))}function ye(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.C=r+n,e))}function be(t){t.Y=Date.now()+t.P,we(t,t.P)}function we(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jt(v(t.eb,t),e)}function _e(t){t.B&&(u.clearTimeout(t.B),t.B=null)}function Ee(t){0==t.l.G||t.I||Qn(t.l,t)}function Se(t){_e(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Dt(t.W),qt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Te(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||on(n.i,t)))if(n.I=t.N,!t.J&&on(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Gn(n),jn(n)}zn(n),Xt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jt(v(n.ab,n),6e3));if(1>=rn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Xn(n,11)}else if((t.J||n.g==t)&&Gn(n),!I(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var h=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=r.i;!l.g&&(C(h,"spdy")||C(h,"quic")||C(h,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(an(l,l.h),l.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,je(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Jn(r,r.H?r.la:null,r.W),d.J){sn(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(_e(p),be(p)),r.g=d}else Kn(r);0<n.l.length&&Un(n)}else"stop"!=o[0]&&"close"!=o[0]||Xn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Xn(n,7):Dn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Qt(4)}catch(o){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)E(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Me(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Me)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ce(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ce(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=ce.prototype).setTimeout=function(t){this.P=t},o.gb=function(t){t=t.target;var e=this.L;e&&3==On(t)?e.l():this.Ia(t)},o.Ia=function(t){try{if(t==this.g)t:{var e=On(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||q||this.g&&(this.h.h||this.g.ga()||Rn(this.g)))){this.I||4!=e||7==n||Qt(8==n||0>=r?3:2),_e(this);var i=this.g.ba();this.N=i;e:if(ve(this)){var o=Rn(this.g);t="";var a=o.length,s=4==On(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Se(this),Ee(this);var c="";break e}this.h.i=new u.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var h,l=this.g;if((h=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(h)){var f=h;break e}}f=null}if(!(i=f)){this.i=!1,this.o=3,Xt(12),Se(this),Ee(this);break t}Kt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Te(this,i)}this.U?(ge(this,e,c),q&&this.i&&3==e&&(Bt(this.V,this.W,"tick",this.fb),this.W.start())):(Kt(this.j,this.m,c,null),Te(this,c)),4==e&&Se(this),this.i&&!this.I&&(4==e?Qn(this.l,this):(this.i=!1,be(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),Se(this),Ee(this)}}}catch(e){}},o.fb=function(){if(this.g){var t=On(this.g),e=this.g.ga();this.C<e.length&&(_e(this),ge(this,t,e),this.i&&4!=t&&be(this))}},o.cancel=function(){this.I=!0,Se(this)},o.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qt(3),Xt(17)),Se(this),this.o=2,Ee(this)):we(this,this.Y-t)},(o=Me.prototype).R=function(){ke(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},o.T=function(){return ke(this),this.g.concat()},o.get=function(t,e){return Ce(this.h,t)?this.h[t]:e},o.set=function(t,e){Ce(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},o.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Oe){this.g=void 0!==e?e:t.g,Ne(this,t.j),this.s=t.s,xe(this,t.i),Pe(this,t.m),this.l=t.l,e=t.h;var n=new He;n.i=e.i,e.g&&(n.g=new Me(e.g),n.h=e.h),De(this,n),this.o=t.o}else t&&(n=String(t).match(Ae))?(this.g=!!e,Ne(this,n[1]||"",!0),this.s=Fe(n[2]||""),xe(this,n[3]||"",!0),Pe(this,n[4]),this.l=Fe(n[5]||"",!0),De(this,n[6]||"",!0),this.o=Fe(n[7]||"")):(this.g=!!e,this.h=new He(null,this.g))}function Re(t){return new Oe(t)}function Ne(t,e,n){t.j=n?Fe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xe(t,e,n){t.i=n?Fe(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function De(t,e,n){e instanceof He?(t.h=e,function(t,e){e&&!t.j&&(Ge(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),Xe(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Ue(e,ze)),t.h=new He(e,t.g))}function je(t,e,n){t.h.set(e,n)}function Le(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Be),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Be(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ue(e,qe,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ue(e,qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?Ke:Ve,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ue(n,We)),t.join("")};var qe=/[#\/\?@]/g,Ve=/[#\?:]/g,Ke=/[#\?]/g,ze=/[#\?@]/g,We=/#/g;function He(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ge(t){t.g||(t.g=new Me,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qe(t,e){Ge(t),e=$e(t,e),Ce(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ce((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ke(t)))}function Ye(t,e){return Ge(t),e=$e(t,e),Ce(t.g.h,e)}function Xe(t,e,n){Qe(t,e),0<n.length&&(t.i=null,t.g.set($e(t,e),T(n)),t.h+=n.length)}function $e(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(o=He.prototype).add=function(t,e){Ge(this),this.i=null,t=$e(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},o.forEach=function(t,e){Ge(this),this.g.forEach(function(n,r){E(n,function(n){t.call(e,n,r,this)},this)},this)},o.T=function(){Ge(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.R=function(t){Ge(this);var e=[];if("string"===typeof t)Ye(this,t)&&(e=S(e,this.g.get($e(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},o.set=function(t,e){return Ge(this),this.i=null,Ye(this,t=$e(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},o.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var Je=function(){return function(t,e){this.h=t,this.g=e}}();function Ze(t){this.l=t||en,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tn,en=10;function nn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function rn(t){return t.h?1:t.g?t.g.size:0}function on(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function an(t,e){t.g?t.g.add(e):t.h=e}function sn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function un(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var o=i(t.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return T(t.i)}function cn(){}function hn(){this.g=new cn}function ln(t,e,n){var r=n||"";try{Ie(t,function(t,n){var i=t;l(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function dn(t){this.l=t.$b||null,this.j=t.ib||!1}function pn(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze.prototype.cancel=function(){var t,e;if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)},y(dn,ee),dn.prototype.g=function(){return new pn(this.l,this.j)},dn.prototype.i=(tn={},function(){return tn}),y(pn,wt);var mn=0;function vn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function gn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yn(t)}function yn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(o=pn.prototype).open=function(t,e){if(this.readyState!=mn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yn(this)},o.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||u).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gn(this)),this.readyState=mn},o.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yn(this)),this.g&&(this.readyState=3,yn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gn(this):yn(this),3==this.readyState&&vn(this)}},o.Ua=function(t){this.g&&(this.response=this.responseText=t,gn(this))},o.Ta=function(t){this.g&&(this.response=t,gn(this))},o.ha=function(){this.g&&gn(this)},o.setRequestHeader=function(t,e){this.v.append(t,e)},o.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bn=u.JSON.parse;function wn(t){wt.call(this),this.headers=new Me,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_n,this.K=this.L=!1}y(wn,wt);var _n="",En=/^https?$/i,Sn=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function In(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Mn(t),Cn(t)}function Mn(t){t.D||(t.D=!0,_t(t,"complete"),_t(t,"error"))}function kn(t){if(t.h&&"undefined"!=typeof s&&(!t.C[1]||4!=On(t)||2!=t.ba()))if(t.v&&4==On(t))jt(t.Fa,0,t);else if(_t(t,"readystatechange"),4==On(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!En.test(o?o.toLowerCase():"")}e=i}if(e)_t(t,"complete"),_t(t,"success");else{t.m=6;try{var c=2<On(t)?t.g.statusText:""}catch(h){c=""}t.j=c+" ["+t.ba()+"]",Mn(t)}}finally{Cn(t)}}}function Cn(t,e){if(t.g){An(t);var n=t.g,r=t.C[0]?c:null;t.g=null,t.C=null,e||_t(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function An(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(u.clearTimeout(t.A),t.A=null)}function On(t){return t.g?t.g.readyState:0}function Rn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case _n:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Nn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function xn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Pn(t){this.za=0,this.l=[],this.h=new Vt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xn("baseRetryDelayMs",5e3,t),this.$a=xn("retryDelaySeedMs",1e4,t),this.Ya=xn("forwardChannelMaxRetries",2,t),this.ra=xn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ze(t&&t.concurrentRequestLimit),this.Ca=new hn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Dn(t){if(Ln(t),3==t.G){var e=t.V++,n=Re(t.F);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),qn(t,n),(e=new ce(t,t.h,e,void 0)).K=2,e.v=Le(Re(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.v.toString(),"")),!n&&u.Image&&((new Image).src=e.v,n=!0),n||(e.g=Zn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),be(e)}$n(t)}function jn(t){t.g&&(Wn(t),t.g.cancel(),t.g=null)}function Ln(t){jn(t),t.u&&(u.clearTimeout(t.u),t.u=null),Gn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&u.clearTimeout(t.m),t.m=null)}function Fn(t,e){t.l.push(new Je(t.Za++,e)),3==t.G&&Un(t)}function Un(t){nn(t.i)||t.m||(t.m=!0,Ot(t.Ha,t),t.C=0)}function Bn(t,e){var n;n=e?e.m:t.V++;var r=Re(t.F);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.U),qn(t,r),t.o&&t.s&&Nn(r,t.o,t.s),n=new ce(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Vn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),an(t.i,n),pe(n,r,e)}function qn(t,e){t.j&&Ie({},function(t,n){je(e,n,t)})}function Vn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?v(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,h=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{ln(h,a,"req"+c+"_")}catch(l){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Kn(t){t.g||t.u||(t.Y=1,Ot(t.Ga,t),t.A=0)}function zn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Jt(v(t.Ga,t),Yn(t,t.A)),t.A++,!0)}function Wn(t){null!=t.B&&(u.clearTimeout(t.B),t.B=null)}function Hn(t){t.g=new ce(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Re(t.oa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.N?"0":"1"),je(e,"AID",t.U),qn(t,e),je(e,"TYPE","xmlhttp"),t.o&&t.s&&Nn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Le(Re(e)),n.s=null,n.U=!0,me(n,t)}function Gn(t){null!=t.v&&(u.clearTimeout(t.v),t.v=null)}function Qn(t,e){var n=null;if(t.g==e){Gn(t),Wn(t),t.g=null;var r=2}else{if(!on(t.i,e))return;n=e.D,sn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;_t(r=Ht(),new $t(r,n,e,i)),Un(t)}else Kn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=Jt(v(t.Ha,t,e),Yn(t,t.C)),t.C++,!0))}(t,e)||2==r&&zn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xn(t,5);break;case 4:Xn(t,10);break;case 3:Xn(t,6);break;default:Xn(t,2)}}function Yn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Xn(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=v(t.jb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ne(n,"https"),Le(n)),function(t,e){var n=new Vt;if(u.Image){var r=new Image;r.onload=g(fn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=g(fn,n,r,"TestLoadImage: error",!1,e),r.onabort=g(fn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=g(fn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.G=0,t.j&&t.j.va(e),$n(t),Ln(t)}function $n(t){t.G=0,t.I=-1,t.j&&(0==un(t.i).length&&0==t.l.length||(t.i.i.length=0,T(t.l),t.l.length=0),t.j.ua())}function Jn(t,e,n){var r=function(t){return t instanceof Oe?Re(t):new Oe(t,void 0)}(n);if(""!=r.i)e&&xe(r,e+"."+r.i),Pe(r,r.m);else{var i=u.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Ne(i,t),e&&xe(i,e),n&&Pe(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&N(t.aa,function(t,e){je(r,e,t)}),e=t.D,n=t.sa,e&&n&&je(r,e,n),je(r,"VER",t.ma),qn(t,r),r}function Zn(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new wn(new dn({ib:!0})):new wn(t.qa)).L=t.H,e}function tr(){}function er(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function nr(t,e){wt.call(this),this.g=new Pn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new or(this)}function rr(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ir(){se.call(this),this.status=1}function or(t){this.g=t}(o=wn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ie.g(),this.C=this.u?ne(this.u):ne(ie),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void In(this,o)}t=n||"";var i=new Me(this.headers);r&&Ie(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Tn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=u.FormData&&t instanceof u.FormData,!(0<=_(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(t){return U&&X()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){In(this,o)}},o.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))},o.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_t(this,"complete"),_t(this,"abort"),Cn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cn(this,!0)),wn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?kn(this):this.cb())},o.cb=function(){kn(this)},o.ba=function(){try{return 2<On(this)?this.g.status:-1}catch(tn){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(tn){return""}},o.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bn(e)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Pn.prototype).ma=8,o.G=1,o.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},o.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ce(this,this.h,t,void 0),n=this.s;if(this.P&&(n?D(n=x(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Vn(this,e,r),je(i=Re(this.F),"RID",t),je(i,"CVER",22),this.D&&je(i,"X-HTTP-Session-Id",this.D),qn(this,i),this.o&&n&&Nn(i,this.o,n),an(this.i,e),this.Ra&&je(i,"TYPE","init"),this.ja?(je(i,"$req",r),je(i,"SID","null"),e.$=!0,pe(e,i,null)):pe(e,i,r),this.G=2}}else 3==this.G&&(t?Bn(this,t):0==this.l.length||nn(this.i)||Bn(this))},o.Ga=function(){if(this.u=null,Hn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Jt(v(this.bb,this),t)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xt(10),jn(this),Hn(this))},o.ab=function(){null!=this.v&&(this.v=null,jn(this),zn(this),Xt(19))},o.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xt(2)):(this.h.info("Failed to ping google.com"),Xt(1))},(o=tr.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},er.prototype.g=function(t,e){return new nr(t,e)},y(nr,wt),nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ot(v(t.hb,t,e))),Xt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Jn(t,null,t.W),Un(t)},nr.prototype.close=function(){Dn(this.g)},nr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Fn(this.g,e)}else this.v?((e={}).__data__=St(t),Fn(this.g,e)):Fn(this.g,t)},nr.prototype.M=function(){this.g.j=null,delete this.j,Dn(this.g),delete this.g,nr.Z.M.call(this)},y(rr,ae),y(ir,se),y(or,tr),or.prototype.xa=function(){_t(this.g,"a")},or.prototype.wa=function(t){_t(this.g,new rr(t))},or.prototype.va=function(t){_t(this.g,new ir(t))},or.prototype.ua=function(){_t(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,te.COMPLETE="complete",re.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",wt.prototype.listen=wt.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.La,wn.prototype.getLastErrorCode=wn.prototype.Da,wn.prototype.getStatus=wn.prototype.ba,wn.prototype.getResponseJson=wn.prototype.Qa,wn.prototype.getResponseText=wn.prototype.ga,wn.prototype.send=wn.prototype.ea;var ar=function(){return new er},sr=function(){return Ht()},ur=Zt,cr=te,hr=zt,lr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fr=dn,dr=re,pr=wn}).call(this,n(11))},function(t,e,n){"use strict";n.r(e);var r=!0,i="Invariant failed";e.default=function(t,e){if(!t){if(r)throw new Error(i);throw new Error(i+": "+(e||""))}}},function(t,e,n){"use strict";n.r(e);var r=n(14);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var h=a[a.length-1];n="."===h||".."===h||""===h}else n=!1;for(var l=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),l++):l&&(o(a,f),l--)}if(!c)for(;l--;l)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every(function(r){return t(e[r],n[r])})}return!1},c=n(16);function h(t){return"/"===t.charAt(0)?t:"/"+t}function l(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function d(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function p(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}function m(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=p(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}n.d(e,"createBrowserHistory",function(){return T}),n.d(e,"createHashHistory",function(){return O}),n.d(e,"createMemoryHistory",function(){return N}),n.d(e,"createLocation",function(){return v}),n.d(e,"locationsAreEqual",function(){return g}),n.d(e,"parsePath",function(){return p}),n.d(e,"createPath",function(){return m});var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(t,e){e(window.confirm(t))}var _="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(t){return{}}}function T(t){void 0===t&&(t={}),b||Object(c.default)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,l=void 0===u?w:u,p=o.keyLength,g=void 0===p?6:p,T=t.basename?d(h(t.basename)):"";function I(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=f(o,T)),v(o,r,n)}function M(){return Math.random().toString(36).substr(2,g)}var k=y();function C(t){Object(r.a)(B,t),B.length=e.length,k.notifyListeners(B.location,B.action)}function A(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||N(I(t.state))}function O(){N(I(S()))}var R=!1;function N(t){if(R)R=!1,C();else{k.confirmTransitionTo(t,"POP",l,function(e){e?C({action:"POP",location:t}):function(t){var e=B.location,n=P.indexOf(e.key);-1===n&&(n=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,j(i))}(t)})}}var x=I(S()),P=[x.key];function D(t){return T+m(t)}function j(t){e.go(t)}var L=0;function F(t){1===(L+=t)&&1===t?(window.addEventListener(_,A),i&&window.addEventListener(E,O)):0===L&&(window.removeEventListener(_,A),i&&window.removeEventListener(E,O))}var U=!1;var B={length:e.length,action:"POP",location:x,createHref:D,push:function(t,r){var i=v(t,r,M(),B.location);k.confirmTransitionTo(i,"PUSH",l,function(t){if(t){var r=D(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=P.indexOf(B.location.key),c=P.slice(0,u+1);c.push(i.key),P=c,C({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(t,r){var i=v(t,r,M(),B.location);k.confirmTransitionTo(i,"REPLACE",l,function(t){if(t){var r=D(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=P.indexOf(B.location.key);-1!==u&&(P[u]=i.key),C({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(t){void 0===t&&(t=!1);var e=k.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=k.appendListener(t);return F(1),function(){F(-1),e()}}};return B}var I="hashchange",M={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+l(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:l,decodePath:h},slash:{encodePath:h,decodePath:h}};function k(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function C(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function A(t){window.location.replace(k(window.location.href)+"#"+t)}function O(t){void 0===t&&(t={}),b||Object(c.default)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?w:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?d(h(t.basename)):"",l=M[s],p=l.encodePath,g=l.decodePath;function _(){var t=g(C());return u&&(t=f(t,u)),v(t)}var E=y();function S(t){Object(r.a)(B,t),B.length=e.length,E.notifyListeners(B.location,B.action)}var T=!1,O=null;function R(){var t,e,n=C(),r=p(n);if(n!==r)A(r);else{var i=_(),a=B.location;if(!T&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(O===m(i))return;O=null,function(t){if(T)T=!1,S();else{E.confirmTransitionTo(t,"POP",o,function(e){e?S({action:"POP",location:t}):function(t){var e=B.location,n=D.lastIndexOf(m(e));-1===n&&(n=0);var r=D.lastIndexOf(m(t));-1===r&&(r=0);var i=n-r;i&&(T=!0,j(i))}(t)})}}(i)}}var N=C(),x=p(N);N!==x&&A(x);var P=_(),D=[m(P)];function j(t){e.go(t)}var L=0;function F(t){1===(L+=t)&&1===t?window.addEventListener(I,R):0===L&&window.removeEventListener(I,R)}var U=!1;var B={length:e.length,action:"POP",location:P,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=k(window.location.href)),n+"#"+p(u+m(t))},push:function(t,e){var n=v(t,void 0,void 0,B.location);E.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=m(n),r=p(u+e);if(C()!==r){O=e,function(t){window.location.hash=t}(r);var i=D.lastIndexOf(m(B.location)),o=D.slice(0,i+1);o.push(e),D=o,S({action:"PUSH",location:n})}else S()}})},replace:function(t,e){var n=v(t,void 0,void 0,B.location);E.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=m(n),r=p(u+e);C()!==r&&(O=e,A(r));var i=D.indexOf(m(B.location));-1!==i&&(D[i]=e),S({action:"REPLACE",location:n})}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=E.appendListener(t);return F(1),function(){F(-1),e()}}};return B}function R(t,e,n){return Math.min(Math.max(t,e),n)}function N(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,h=y();function l(t){Object(r.a)(w,t),w.length=w.entries.length,h.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=R(s,0,o.length-1),p=o.map(function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())}),g=m;function b(t){var e=R(w.index+t,0,w.entries.length-1),r=w.entries[e];h.confirmTransitionTo(r,"POP",n,function(t){t?l({action:"POP",location:r,index:e}):l()})}var w={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:g,push:function(t,e){var r=v(t,e,f(),w.location);h.confirmTransitionTo(r,"PUSH",n,function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),l({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,e){var r=v(t,e,f(),w.location);h.confirmTransitionTo(r,"REPLACE",n,function(t){t&&(w.entries[w.index]=r,l({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return w}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",function(){return i})},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=e,i=n(22),o=n(19),a=n(117);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,c=e.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),a=0===(1&u)?0:3!==(r=t.andln(7)+i&7)&&5!==r||2!==c?u:-u,n[0].push(a),s=0===(1&c)?0:3!==(r=e.andln(7)+o&7)&&5!==r||2!==u?c:-c,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){"use strict";var r=n(19),i=n(4);function o(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"===typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=a(i)),n+=u(i.toString(16))}return n},e.zero2=s,e.zero8=u,e.join32=function(t,e,n,i){var o=n-e;r(o%4===0);for(var a=new Array(o/4),s=0,u=e;s<a.length;s++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],a[s]=c>>>0}return a},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,a,s){var u=0,c=e;return u+=(c=c+r>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+n+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,a,s){return e+r+o+s>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,a,s,u,c){var h=0,l=e;return h+=(l=l+r>>>0)<e?1:0,h+=(l=l+o>>>0)<o?1:0,h+=(l=l+s>>>0)<s?1:0,t+n+i+a+u+(h+=(l=l+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,a,s,u,c){return e+r+o+s+c>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(238).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},function(t,e,n){var r=n(5).Buffer,i=n(190).Transform,o=n(27).StringDecoder;function a(t){i.call(this),this.hashMode="string"===typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(4)(a,i),a.prototype.update=function(t,e,n){"string"===typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){r=i}finally{n(r)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(n){e=n}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=a},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(13),i=n(18),o=n(2),a=n.n(o),s=n(17),u=n(14),c=n(30),h=n(16),l=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.createBrowserHistory)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},d=function(t,e){return"string"===typeof t?Object(s.createLocation)(t,null,null,e):t},p=function(t){return t},m=a.a.forwardRef;"undefined"===typeof m&&(m=p);var v=m(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,h=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return h.ref=p!==m&&e||n,a.a.createElement("a",h)});var g=m(function(t,e){var n=t.component,i=void 0===n?v:n,o=t.replace,s=t.to,l=t.innerRef,g=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,function(t){t||Object(h.default)(!1);var n=t.history,r=d(f(s,t.location),t.location),c=r?n.createHref(r):"",v=Object(u.a)({},g,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return p!==m?v.ref=e||l:v.innerRef=l,a.a.createElement(i,v)})}),y=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);b(function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,l=t.activeStyle,p=t.className,m=t.exact,v=t.isActive,w=t.location,_=t.sensitive,E=t.strict,S=t.style,T=t.to,I=t.innerRef,M=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,function(t){t||Object(h.default)(!1);var n=w||t.location,o=d(f(T,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=k?Object(r.matchPath)(n.pathname,{path:k,exact:m,sensitive:_,strict:E}):null,A=!!(v?v(C,n):C),O=A?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(p,s):p,R=A?Object(u.a)({},S,{},l):S,N=Object(u.a)({"aria-current":A&&i||null,className:O,style:R,to:o},M);return y!==b?N.ref=e||I:N.innerRef=I,a.a.createElement(g,N)})})},function(t,e,n){!function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,r){var i,o=new Promise(function(o,a){e(i=t[n].apply(t,r)).then(o,a)});return o.request=i,o}function r(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function i(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return n(this[e],i,arguments)})})}function o(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function a(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return function(t,e,r){var i=n(t,e,r);return i.then(function(t){if(t)return new u(t,i.request)})}(this[e],i,arguments)})})}function s(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function c(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function l(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function f(t){this._db=t}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(t){if(t)return new u(t,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(h,"_tx",["objectStoreNames","mode"]),o(h,"_tx",IDBTransaction,["abort"]),l.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(l,"_db",["name","version","objectStoreNames"]),o(l,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[c,s].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,c].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,r){var i=n(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){r&&r(new l(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new f(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise(function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"===typeof t.on&&v(t,"error",e,n)}(t,i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,a,s;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"===typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=h(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"===typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var c=u.length,h=m(u,c);for(n=0;n<c;++n)o(h[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(5).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=l,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var r=n(44),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=Object.create(n(40));o.inherits=n(4);var a=n(89),s=n(56);o.inherits(l,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var h=u[c];l.prototype[h]||(l.prototype[h]=s.prototype[h])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(e,r){var i=65536,o=4294967295;var a=n(5).Buffer,s=e.crypto||e.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(t);if(t>0)if(t>i)for(var u=0;u<t;u+=i)s.getRandomValues(n.slice(u,u+i));else s.getRandomValues(n);if("function"===typeof e)return r.nextTick(function(){e(null,n)});return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(11),n(9))},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"===typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(t){return String(t)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,a,s;if("string"===typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return s+=". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var i=n(81),o=n(85);n(4)(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||e.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(9))},function(t,e,n){var r=n(5).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"===typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var u=a%i,c=Math.min(o-s,i-u),h=0;h<c;h++)n[u+h]=t[s+h];s+=c,(a+=c)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"===typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(t){return String(t)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,a,s;if("string"===typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return s+=". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var i=n(111),o=n(115);n(4)(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||e.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(9))},function(t,e,n){t.exports=n(147)()},function(t,e,n){"use strict";n.r(e);var r=!0;e.default=function(t,e){if(!r){if(t)return;var n="Warning: "+e;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(i){}}}},function(t,e,n){"use strict";var r=n(4),i=n(50),o=n(53),a=n(54),s=n(23);function u(t){s.call(this,"digest"),this._hash=t}r(u,s),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(a(t))}},function(t,e,n){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(12).Buffer.isBuffer},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,n(12).Buffer)},function(t,e,n){"use strict";var r=n(21),i=n(19);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){"use strict";var r=n(4),i=n(70).Reporter,o=n(68).Buffer;function a(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t},this);else if("number"===typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"===typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(a,i),e.DecoderBuffer=a,a.isDecoderBuffer=function(t){return t instanceof a||"object"===typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"===typeof t.offset&&"number"===typeof t.length&&"function"===typeof t.save&&"function"===typeof t.restore&&"function"===typeof t.isEmpty&&"function"===typeof t.readUInt8&&"function"===typeof t.skip&&"function"===typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=s,s.isEncoderBuffer=function(t){return t instanceof s||"object"===typeof t&&"EncoderBuffer"===t.constructor.name&&"number"===typeof t.length&&"function"===typeof t.join},s.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"===typeof this.value?t[e]=this.value:"string"===typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,n){"use strict";(function(e){"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(9))},function(t,e,n){var r=n(5).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,n,r,i){for(var o,a,s,u,c=n[0],h=n[1],l=n[2],f=n[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],v=t[3]^e[3],g=4,y=1;y<i;y++)o=c[d>>>24]^h[p>>>16&255]^l[m>>>8&255]^f[255&v]^e[g++],a=c[p>>>24]^h[m>>>16&255]^l[v>>>8&255]^f[255&d]^e[g++],s=c[m>>>24]^h[v>>>16&255]^l[d>>>8&255]^f[255&p]^e[g++],u=c[v>>>24]^h[d>>>16&255]^l[p>>>8&255]^f[255&m]^e[g++],d=o,p=a,m=s,v=u;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&v])^e[g++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[v>>>8&255]<<8|r[255&d])^e[g++],s=(r[m>>>24]<<24|r[v>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[g++],u=(r[v>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^e[g++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var h=t[a],l=t[h],f=t[l],d=257*t[c]^16843008*c;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*f^65537*l^257*h^16843008*a,o[0][c]=d<<24|d>>>8,o[1][c]=d<<16|d>>>16,o[2][c]=d<<8|d>>>24,o[3][c]=d,0===a?a=s=1:(a=h^t[t[t[f^h]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function c(t){this._key=i(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var a=i[o-1];o%e===0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/e|0]<<24):e>6&&o%e===4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-e]^a}for(var c=[],h=0;h<r;h++){var l=r-h,f=i[l-(h%4?0:4)];c[h]=h<4||l<=4?f:u.INV_SUB_MIX[0][u.SBOX[f>>>24]]^u.INV_SUB_MIX[1][u.SBOX[f>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[f>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(t){return a(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},c.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=a(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},function(t,e,n){var r=n(5).Buffer,i=n(50);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),c=r.alloc(0);a>0||o>0;){var h=new i;h.update(c),h.update(t),e&&h.update(e),c=h.digest();var l=0;if(a>0){var f=s.length-a;l=Math.min(a,c.length),c.copy(s,f,0,l),a-=l}if(l<c.length&&o>0){var d=u.length-o,p=Math.min(o,c.length-l);c.copy(u,d,l,l+p),o-=p}}return c.fill(0),{key:s,iv:u}}},function(t,e,n){"use strict";var r=n(22),i=n(20),o=i.getNAF,a=i.getJSF,s=i.assert;function u(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){s(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a,u,c=[];for(a=0;a<r.length;a+=n.step){u=0;for(var h=a+n.step-1;h>=a;h--)u=(u<<1)+r[h];c.push(u)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<c.length;a++)(u=c[a])===d?f=f.mixedAdd(n.points[a]):u===-d&&(f=f.mixedAdd(n.points[a].neg()));l=l.add(f)}return l.toP()},u.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(e,n,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var h=0;c>=0&&0===a[c];c--)h++;if(c>=0&&h++,u=u.dblp(h),c<0)break;var l=a[c];s(0!==l),u="affine"===t.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,n,r,i){var s,u,c,h=this._wnafT1,l=this._wnafT2,f=this._wnafT3,d=0;for(s=0;s<r;s++){var p=(c=e[s])._getNAFPoints(t);h[s]=p.wnd,l[s]=p.points}for(s=r-1;s>=1;s-=2){var m=s-1,v=s;if(1===h[m]&&1===h[v]){var g=[e[m],null,null,e[v]];0===e[m].y.cmp(e[v].y)?(g[1]=e[m].add(e[v]),g[2]=e[m].toJ().mixedAdd(e[v].neg())):0===e[m].y.cmp(e[v].y.redNeg())?(g[1]=e[m].toJ().mixedAdd(e[v]),g[2]=e[m].add(e[v].neg())):(g[1]=e[m].toJ().mixedAdd(e[v]),g[2]=e[m].toJ().mixedAdd(e[v].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[m],n[v]);for(d=Math.max(b[0].length,d),f[m]=new Array(d),f[v]=new Array(d),u=0;u<d;u++){var w=0|b[0][u],_=0|b[1][u];f[m][u]=y[3*(w+1)+(_+1)],f[v][u]=0,l[m]=g}}else f[m]=o(n[m],h[m],this._bitLength),f[v]=o(n[v],h[v],this._bitLength),d=Math.max(f[m].length,d),d=Math.max(f[v].length,d)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(s=d;s>=0;s--){for(var T=0;s>=0;){var I=!0;for(u=0;u<r;u++)S[u]=0|f[u][s],0!==S[u]&&(I=!1);if(!I)break;T++,s--}if(s>=0&&T++,E=E.dblp(T),s<0)break;for(u=0;u<r;u++){var M=S[u];0!==M&&(M>0?c=l[u][M-1>>1]:M<0&&(c=l[u][-M-1>>1].neg()),E="affine"===c.type?E.mixedAdd(c):E.add(c))}}for(s=0;s<r;s++)l[s]=null;return i?E:E.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*n)return 6===t[0]?s(t[t.length-1]%2===0):7===t[0]&&s(t[t.length-1]%2===1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var r=n(256),i=n(264),o=n(265),a=n(58),s=n(96),u=n(5).Buffer;function c(t){var e;"object"!==typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"===typeof t&&(t=u.from(t));var n,c,h=o(t,e),l=h.tag,f=h.data;switch(l){case"CERTIFICATE":c=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=r.PublicKey.decode(f,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=r.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],c=t.algorithm.decrypt.cipher.iv,h=t.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(e,n,r,l,"sha1"),d=a.createDecipheriv(o,f,c),p=[];return p.push(d.update(h)),p.push(d.final()),u.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(n=(c=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:r.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=r.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+l)}}t.exports=c,c.signature=r.signature},,function(t,e,n){"use strict";var r=n(4),i=n(80),o=n(5).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,n,r,i,o,a){return u(t+(e&n|~e&r)+i+o|0,a)+e|0}function h(t,e,n,r,i,o,a){return u(t+(e&r|n&~r)+i+o|0,a)+e|0}function l(t,e,n,r,i,o,a){return u(t+(e^n^r)+i+o|0,a)+e|0}function f(t,e,n,r,i,o,a){return u(t+(n^(e|~r))+i+o|0,a)+e|0}r(s,i),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,t[0],3614090360,7),o=c(o,n,r,i,t[1],3905402710,12),i=c(i,o,n,r,t[2],606105819,17),r=c(r,i,o,n,t[3],3250441966,22),n=c(n,r,i,o,t[4],4118548399,7),o=c(o,n,r,i,t[5],1200080426,12),i=c(i,o,n,r,t[6],2821735955,17),r=c(r,i,o,n,t[7],4249261313,22),n=c(n,r,i,o,t[8],1770035416,7),o=c(o,n,r,i,t[9],2336552879,12),i=c(i,o,n,r,t[10],4294925233,17),r=c(r,i,o,n,t[11],2304563134,22),n=c(n,r,i,o,t[12],1804603682,7),o=c(o,n,r,i,t[13],4254626195,12),i=c(i,o,n,r,t[14],2792965006,17),n=h(n,r=c(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=h(o,n,r,i,t[6],3225465664,9),i=h(i,o,n,r,t[11],643717713,14),r=h(r,i,o,n,t[0],3921069994,20),n=h(n,r,i,o,t[5],3593408605,5),o=h(o,n,r,i,t[10],38016083,9),i=h(i,o,n,r,t[15],3634488961,14),r=h(r,i,o,n,t[4],3889429448,20),n=h(n,r,i,o,t[9],568446438,5),o=h(o,n,r,i,t[14],3275163606,9),i=h(i,o,n,r,t[3],4107603335,14),r=h(r,i,o,n,t[8],1163531501,20),n=h(n,r,i,o,t[13],2850285829,5),o=h(o,n,r,i,t[2],4243563512,9),i=h(i,o,n,r,t[7],1735328473,14),n=l(n,r=h(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=l(o,n,r,i,t[8],2272392833,11),i=l(i,o,n,r,t[11],1839030562,16),r=l(r,i,o,n,t[14],4259657740,23),n=l(n,r,i,o,t[1],2763975236,4),o=l(o,n,r,i,t[4],1272893353,11),i=l(i,o,n,r,t[7],4139469664,16),r=l(r,i,o,n,t[10],3200236656,23),n=l(n,r,i,o,t[13],681279174,4),o=l(o,n,r,i,t[0],3936430074,11),i=l(i,o,n,r,t[3],3572445317,16),r=l(r,i,o,n,t[6],76029189,23),n=l(n,r,i,o,t[9],3654602809,4),o=l(o,n,r,i,t[12],3873151461,11),i=l(i,o,n,r,t[15],530742520,16),n=f(n,r=l(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,n,r,i,t[7],1126891415,10),i=f(i,o,n,r,t[14],2878612391,15),r=f(r,i,o,n,t[5],4237533241,21),n=f(n,r,i,o,t[12],1700485571,6),o=f(o,n,r,i,t[3],2399980690,10),i=f(i,o,n,r,t[10],4293915773,15),r=f(r,i,o,n,t[1],2240044497,21),n=f(n,r,i,o,t[8],1873313359,6),o=f(o,n,r,i,t[15],4264355552,10),i=f(i,o,n,r,t[6],2734768916,15),r=f(r,i,o,n,t[13],1309151649,21),n=f(n,r,i,o,t[4],4149444226,6),o=f(o,n,r,i,t[11],3174756917,10),i=f(i,o,n,r,t[2],718787259,15),r=f(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(11))},function(t,e,n){"use strict";var r=n(32).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"===typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||h()},c=e._writableState&&e._writableState.finished,h=function(){s=!1,c=!0,a||o.call(e)},l=e._readableState&&e._readableState.endEmitted,f=function(){a=!1,l=!0,s||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return a&&!l?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},m=function(){e.req.on("finish",h)};return function(t){return t.setHeader&&"function"===typeof t.abort}(e)?(e.on("complete",h),e.on("abort",p),e.req?m():e.on("request",m)):s&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",h),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",h),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){"use strict";var r=n(12).Buffer,i=n(4),o=n(80),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,n,r,i,o,a,s){return p(t+(e^n^r)+o+a|0,s)+i|0}function v(t,e,n,r,i,o,a,s){return p(t+(e&n|~e&r)+o+a|0,s)+i|0}function g(t,e,n,r,i,o,a,s){return p(t+((e|~n)^r)+o+a|0,s)+i|0}function y(t,e,n,r,i,o,a,s){return p(t+(e&r|n&~r)+o+a|0,s)+i|0}function b(t,e,n,r,i,o,a,s){return p(t+(e^(n|~r))+o+a|0,s)+i|0}i(d,o),d.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,T=0|this._e,I=0;I<80;I+=1){var M,k;I<16?(M=m(n,r,i,o,d,t[s[I]],l[0],c[I]),k=b(w,_,E,S,T,t[u[I]],f[0],h[I])):I<32?(M=v(n,r,i,o,d,t[s[I]],l[1],c[I]),k=y(w,_,E,S,T,t[u[I]],f[1],h[I])):I<48?(M=g(n,r,i,o,d,t[s[I]],l[2],c[I]),k=g(w,_,E,S,T,t[u[I]],f[2],h[I])):I<64?(M=y(n,r,i,o,d,t[s[I]],l[3],c[I]),k=v(w,_,E,S,T,t[u[I]],f[3],h[I])):(M=b(n,r,i,o,d,t[s[I]],l[4],c[I]),k=m(w,_,E,S,T,t[u[I]],f[4],h[I])),n=d,d=o,o=p(i,10),i=r,r=M,w=T,T=S,S=p(E,10),E=_,_=k}var C=this._b+i+S|0;this._b=this._c+o+T|0,this._c=this._d+d+w|0,this._d=this._e+n+_|0,this._e=this._a+r+E|0,this._a=C},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(186),e.sha1=n(187),e.sha224=n(188),e.sha256=n(87),e.sha384=n(189),e.sha512=n(88)},function(t,e,n){(e=t.exports=n(89)).Stream=e,e.Readable=e,e.Writable=n(56),e.Duplex=n(28),e.Transform=n(92),e.PassThrough=n(196)},function(t,e,n){"use strict";(function(e,r,i){var o=n(44);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=y;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var c=Object.create(n(40));c.inherits=n(4);var h={deprecate:n(51)},l=n(90),f=n(5).Buffer,d=("undefined"!==typeof i?i:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var p,m=n(91);function v(){}function g(t,e){s=s||n(28),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),T(t,e))}(t,n,r,e,i);else{var a=E(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?u(w,t,n,a,i):w(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||n(28),!p.call(y,this)&&!(this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),l.call(this)}function b(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),T(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,l=n.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,h,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),T(t,e)})}function T(t,e){var n=E(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(y,l),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof g)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=f.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||_(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,T(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(9),n(194).setImmediate,n(11))},function(t,e,n){"use strict";var r=n(19);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var r=n(209),i=n(217),o=n(105);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(210),CBC:n(211),CFB:n(212),CFB8:n(213),CFB1:n(214),OFB:n(215),CTR:n(103),GCM:n(103)},i=n(105);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(223);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(a){}},function(t,e,n){var r=n(12),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r=n(35).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"===typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||h()},c=e._writableState&&e._writableState.finished,h=function(){s=!1,c=!0,a||o.call(e)},l=e._readableState&&e._readableState.endEmitted,f=function(){a=!1,l=!0,s||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return a&&!l?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},m=function(){e.req.on("finish",h)};return function(t){return t.setHeader&&"function"===typeof t.abort}(e)?(e.on("complete",h),e.on("abort",p),e.req?m():e.on("request",m)):s&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",h),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",h),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){(function(e){var r=n(64),i=n(31);function o(t){var e,n=t.modulus.byteLength();do{e=new r(i(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,n){var i=function(t){var e=o(t);return{blinder:e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),a=n.modulus.byteLength(),s=new r(t).mul(i.blinder).umod(n.modulus),u=s.toRed(r.mont(n.prime1)),c=s.toRed(r.mont(n.prime2)),h=n.coefficient,l=n.prime1,f=n.prime2,d=u.redPow(n.exponent1).fromRed(),p=c.redPow(n.exponent2).fromRed(),m=d.isub(p).imul(h).umod(l).imul(f);return p.iadd(m).imul(i.unblinder).umod(n.modulus).toArrayLike(e,"be",a)}a.getr=o,t.exports=a}).call(this,n(12).Buffer)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(236).Buffer}catch(C){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,i){for(var o=0,a=0,s=Math.min(t.length,n),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(C){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=p[t];n="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modrn(h).toString(t);n=(l=l.idivn(h)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n++]=255&a,n<t.length&&(t[n++]=a>>8&255),n<t.length&&(t[n++]=a>>16&255),6===o?(n<t.length&&(t[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n--]=255&a,n>=0&&(t[n--]=a>>8&255),n>=0&&(t[n--]=a>>16&255),6===o?(n>=0&&(t[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function y(t,e,n){return g(t,e,n)}function b(t,e){this.x=t,this.y=e}Math.imul||(v=m),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?v(this,t,e):n<63?m(this,t,e):n<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},b.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},b.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},b.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},b.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},b.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},b.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"===typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(T,_),i(I,_),I.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new T;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new I}return w[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,M),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},function(t,e,n){"use strict";var r=e;r.version=n(237).version,r.utils=n(20),r.rand=n(60),r.curve=n(118),r.curves=n(66),r.ec=n(249),r.eddsa=n(253)},function(t,e,n){"use strict";var r,i=e,o=n(67),a=n(118),s=n(20).assert;function u(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(248)}catch(h){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(t,e,n){var r=e;r.utils=n(21),r.common=n(42),r.sha=n(242),r.ripemd=n(246),r.hmac=n(247),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";(function(e){var r,i=n(12),o=i.Buffer,a={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=i[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(t,e,n){if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&"undefined"===typeof t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,n)}),s.alloc||(s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=o(t);return e&&0!==e.length?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(u){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this,n(9))},function(t,e,n){"use strict";var r=n(70).Reporter,i=n(43).EncoderBuffer,o=n(43).DecoderBuffer,a=n(19),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(t,e,n){var r={};this._baseState=r,r.name=n,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var t=this._baseState,e={};h.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},c.prototype._wrap=function(){var t=this._baseState;u.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},c.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),a.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(a(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!==typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){c.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),s.forEach(function(t){c.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(n),this}}),c.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=t.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(t,u,n.any),t.isError(a))return a}else{var c=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),a=!0}catch(m){a=!1}t.restore(c)}}if(n.obj&&a&&(r=t.enterObject()),a){if(null!==n.explicit){var h=this._decodeTag(t,n.explicit);if(t.isError(h))return h;t=h}var l=t.offset;if(null===n.use&&null===n.choice){var f;n.any&&(f=t.save());var d=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(d))return d;n.any?i=t.raw(f):t=d}if(e&&e.track&&null!==n.tag&&e.track(t.path(),l,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(t,e)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(p,e)}}return n.obj&&a&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,n.key,i),i},c.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var a=t.save(),s=n.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;r={type:o,value:u},i=!0}catch(c){return t.restore(a),!1}return!0},this),i?r:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},c.prototype._encodeValue=function(t,e,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,n)._encode(t,e),s=!0;else if(i.children)a=i.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!==typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i},this).filter(function(t){return t}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)},u))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,h=null===i.implicit?"universal":"context";null===c?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,s,h,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,n){"use strict";var r=n(4);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(t,e,n){"use strict";function r(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n}),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(272).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},function(t,e,n){"use strict";(function(t){var r=n(2),i=n.n(r),o=n(18),a=n(37),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};var h=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter(function(e){return e!==t})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(e){return e(t,r)})}}}(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return l.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:l}};e.a=h}).call(this,n(11))},function(t,e,n){var r=n(149);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",h=e&&e.delimiter||"/";null!=(n=i.exec(t));){var l=n[0],f=n[1],d=n.index;if(s+=t.slice(a,d),a=d+l.length,f)s+=f[1];else{var p=t[a],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||h,I=g||y;r.push({name:v||o++,prefix:m||"",delimiter:T,optional:S,repeat:E,partial:_,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(T)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",l(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var h=t[c];if("string"!==typeof h){var l,f=s[h.name];if(null==f){if(h.optional){h.partial&&(o+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(r(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(l=u(f[d]),!n[c].test(l))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===d?h.prefix:h.delimiter)+l}}else{if(l=h.asterisk?encodeURI(f).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(f),!n[c].test(l))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+l+'"');o+=h.prefix+l}}else o+=h}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function l(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";e.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",h(new RegExp("^"+a,l(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return h(new RegExp("(?:"+r.join("|")+")",l(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(s[a[h]]=n[a[h]])}}return s}},function(t,e,n){"use strict";t.exports=n(150)},function(t,e,n){"use strict";(function(t){var e=n(3);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)})},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,h=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function M(t){return t}function k(t,e,n){this.code=O+t,this.message=e||R[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new k(e.substring(O.length),t.message,t.serverResponse):null}I(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var A,O="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}A=x("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(j,D),j.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new F(function(){return new K},function(t){t.reset()});function V(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function K(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},K.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},K.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=z(t,e)}function X(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ht(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ft=lt.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function mt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=St}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===St?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,St={},Tt={};function It(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:M,createScript:M,createScriptURL:M})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Mt(t,e){this.a=e===Rt?t:""}function kt(t){return t instanceof Mt&&t.constructor===Mt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=_t(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Mt(t=e?e.createScriptURL(t):t,Rt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))}))}Mt.prototype.ta=!0,Mt.prototype.sa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Rt={};function Nt(t,e){this.a=e===Ut?t:""}function xt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t))t=new Nt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Pt.test(e[1])?new Nt(t,Ut):null}return t}function Ft(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Ut))}var Ut={},Bt=new Nt("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===Vt?t:""}qt.prototype.ta=!0,qt.prototype.sa=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Kt(t,e,n,r){return t=t instanceof Nt?t:Ft(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(xt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=f;var Gt,Qt=dt("Opera"),Yt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),$t=Xt||Yt,Jt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Xt?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Qt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=et(String(Gt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ht(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ht(0==a[2].length,0==s[2].length)||ht(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(u.document&&Yt){var se=te();ie=se||(parseInt(Gt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ua){}var ce=!Yt||9<=Number(ue);function he(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function le(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var fe,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function me(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ve(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):le(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(m(o)){a="function"==typeof o.item;break t}}a=!1}W(a?Z(o):o,r)}}}(i,o,r),o}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout(function(){throw t},0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new B;function _e(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ge(e)}U(q,t)}be=!1}function Ee(t,e){if(this.a=Se,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,function(t){De(n,Te,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Ie,t)})}catch(r){De(this,Ie,r)}}var Se=0,Te=2,Ie=3;function Me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new F(function(){return new Me},function(t){t.reset()});function Ce(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ee)return t;var e=new Ee(f);return De(e,Te,t),e}function Oe(t){return new Ee(function(e,n){n(t)})}function Re(t,e,n){je(t,e,n,null)||ye(S(e,t))}function Ne(t){return new Ee(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Re(t[o],S(i,o,!0),S(i,o,!1));else e(r)})}function xe(t,e){t.b||t.a!=Te&&t.a!=Ie||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ce(null,null,null);return i.a=new Ee(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,xe(t,i),i.a}function De(t,e,n){t.a==Se&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,ye(function(){t.g&&qe.call(null,e)})}(t,n)))}function je(t,e,n,r){if(t instanceof Ee)return xe(t,Ce(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ye(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(i){qe.call(null,i)}U(ke,e)}function Be(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Pe(this,m(t)?t:null,m(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,xe(this,t),this},n.o=function(t,e){return Pe(this,null,t,e)},n.cancel=function(t){if(this.a==Se){var e=new Ve(t);ye(function(){!function t(e,n){if(e.a==Se)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Se&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Fe(r),Ue(r,o,Ie,n)))}e.c=null}else De(e,Ie,n)}(this,e)},this)}},n.$c=function(t){this.a=Se,De(this,Te,t)},n.ad=function(t){this.a=Se,De(this,Ie,t)},n.gc=function(){for(var t;t=Fe(this);)Ue(this,t,this.a,this.i);this.h=!1};var qe=ge;function Ve(t){D.call(this,t)}function Ke(){0!=ze&&(We[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Ve,D),Ve.prototype.name="cancel";var ze=0,We={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=ze)){var e=g(t);if(0!=ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Ke.prototype.ya=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Qe=!Yt||9<=Number(ue),Ye=Yt&&!ae("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Je,$e);var Ze=Ge({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function rn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function on(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=sn(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new nn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function hn(t,e,n,r,i){if(r&&r.once)fn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[tn]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(t);if(s||(t[un]=s=new on(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=_n(n),t&&t[tn]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=sn(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[tn])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=bn(e))?(an(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function mn(t){return t in cn?cn[t]:cn[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&pn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return m(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function En(){Ke.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Sn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Mn(t,e,n){if(m(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee(function(n,r){-1==(e=Mn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw u.clearTimeout(e),t})}function Cn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof On)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Rn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(En,Ke),En.prototype[tn]=!0,En.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;yt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,rn(n[r]);delete e.a[t],e.b--}}this.hb=null},(n=On.prototype).X=function(){Rn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Rn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},n.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Ln(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),jn(this,n[4]),this.f=Vn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Dn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Qn)),t.b=new Xn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function Bn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function qn(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Yn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Wn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(t,e){$n(t),e=rr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Rn(t)))}function tr(t,e){return $n(t),e=rr(t,e),Nn(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ir(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ur(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,t,e),e.join("")}function or(){}(n=Xn.prototype).add=function(t,e){$n(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){$n(this),this.a.forEach(function(n,r){W(n,function(n){t.call(e,n,r,this)},this)},this)},n.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.X=function(t){$n(this);var e=[];if("string"===typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return $n(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Cr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||u.window;var n="about:blank";t&&(n=xt(Lt(t)||Bt)),e.location.href=n}function fr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||u.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Ir(Cr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Lt("undefined"!=typeof n.href?n.href:String(n))||Bt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Ft(e),a.href=xt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Kt("",r,n,a),t=xt(e),a&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new qt(t=(r=It())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Kt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new Ee(function(e){"complete"==u.document.readyState?e():(t=function(){e()},fn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yr(t){return t=t||Cr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function _r(){return e.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.default.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=_r();return"ReactNative"===t||"Node"===t}var Sr="Firefox",Tr="Chrome";function Ir(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Sr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Mr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Mr)i[Mr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return u.navigator&&u.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=u.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!u.indexedDB}catch(n){return wr()&&!!u.indexedDB}return!1}function Rr(){return(Nr()||"chrome-extension:"===xr()||yr())&&!Er()&&Or()&&!wr()}function Nr(){return"http:"===xr()||"https:"===xr()}function xr(){return u.location&&u.location.protocol||null}function Pr(t){return!fr(t=t||Cr())&&Ir(t)!=Sr}function Dr(t){return"undefined"===typeof t?null:ir(t)}function jr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=_r(),this.b=fr(t)||"ReactNative"===e}function Vr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}qr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Nr()&&"chrome-extension:"!==xr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Hr={};function Gr(t){Hr[t]||(Hr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==Qr.abcd}catch(ua){Wr=!1}function Yr(t,e,n){Wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function $r(t){var e={};return Xr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Yr(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[di];if(t=ti(t[li]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[mi]=n||null,e[gi]=n||null,e[pi]=r):(e[mi]=r||null,e[gi]=r||null,e[pi]=n||null),e[vi]=t||null,Yr(this,bi,i),Yr(this,yi,Jr(e))}I(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",hi="email",li="mfaInfo",fi="newEmail",di="requestType",pi="email",mi="fromEmail",vi="multiFactorInfo",gi="previousEmail",yi="data",bi="operation";function wi(t){var e=Un(t=Bn(t),_i)||null,n=Un(t,Ei)||null,r=Un(t,Ii)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new k("argument-error",_i+", "+Ei+"and "+Ii+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Si)||null,languageCode:Un(t,Ti)||null,tenantId:Un(t,Mi)||null})}var _i="apiKey",Ei="oobCode",Si="continueUrl",Ti="languageCode",Ii="mode",Mi="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new wi(t)}catch(e){return null}}function Ai(t){var e=t[Pi];if("undefined"===typeof e)throw new k("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"===typeof n){e=n[Li];var r=n[Di];if(n=n[ji],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new k("argument-error",Li+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"===typeof e){if("string"===typeof(e=e[Fi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new k("argument-error",Fi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new k("argument-error",xi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Ni])&&"boolean"!==typeof e)throw new k("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Ri])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Oi="android",Ri="dynamicLinkDomain",Ni="handleCodeInApp",xi="iOS",Pi="url",Di="installApp",ji="minimumVersion",Li="packageName",Fi="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function qi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function Vi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Vi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=qi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Wi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Yi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Zi(t);if("undefined"!==typeof t[Xi])return new Ji(t)}catch(r){}return null}var Xi="idToken",$i="providerId";function Ji(t){var e=t[$i];if(!e&&t[Xi]){var n=Ki(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Yr(this,"profile",Jr((t=Lr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function io(t){var e=Bn(t),n=Un(e,"link"),r=Un(Bn(n),"link");return e=Un(e,"deep_link_id"),Un(Bn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}I(Zi,Ji),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var ao="enroll",so="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ja]){var n=Ki(t[Ja]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==O+"user-not-found"?new k("user-mismatch"):t})}function ho(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Qi(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function bo(t){go.call(this,t,Hi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function _o(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function So(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function To(){bo.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Mo(){go.call(this,"twitter.com",Wi)}function ko(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Oo(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=No(e)))throw new k("argument-error","Invalid email link!");return new Co(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ci(t=io(t)))&&t.operation===ui?t:null}function xo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new k("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new xo(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function jo(t){try{this.a=t||e.default.auth()}catch(n){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new xo({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return _o(n);case"github.com":return So(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ho(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function Bo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},ho.prototype.ka=function(t){return ws(t,lo(this))},ho.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,_s(t,n)},ho.prototype.c=function(t,e){return co(Es(t,lo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ws(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,_s(t,n)},po.prototype.c=function(t,e){return co(Es(t,mo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Jb=vt(t),this},I(yo,go),I(bo,go),bo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return Z(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(wo,bo),Yr(wo,"PROVIDER_ID","facebook.com"),Yr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,bo),Yr(Eo,"PROVIDER_ID","github.com"),Yr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,bo),Yr(To,"PROVIDER_ID","google.com"),Yr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Mo,go),Yr(Mo,"PROVIDER_ID","twitter.com"),Yr(Mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Os,{email:this.a,oobCode:this.f}):ru(t,Js,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Rs,{idToken:e,email:this.a,oobCode:this.f}):ru(t,zs,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return co(this.ka(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Oo,{PROVIDER_ID:"password"}),Xr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.gb(Do(this))},xo.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,ru(t,tu,n)},xo.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then(function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then(function(t){return ru(n,Hs,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return ru(t,Gs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return ru(t,Vs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xr(jo,{PROVIDER_ID:"phone"}),Xr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,zo=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Ho(t,e,n){k.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Qo(){}function Yo(t){return t.c||(t.c=t.b())}function Xo(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ea(t,e,n){this.reset(t,e,n,void 0,void 0)}I(Wo,k),I(Ho,k),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,I(Xo,Qo),Xo.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Xo,I(Jo,Qo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ta(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null;function na(t){this.f=t,this.b=this.c=this.a=null}function ra(t,e){this.name=t,this.value=e}ea.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);na.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new ea(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua,ca={},ha=null;function la(t){var e;if(ha||(ha=new na(""),ca[""]=ha,ha.c=aa),!(e=ca[t])){e=new na(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ca[t]=e}return e}function fa(t,e){t&&t.log(sa,e,void 0)}function da(t){this.f=t}function pa(t){En.call(this),this.u=t,this.h=void 0,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(da,Qo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=(ua={},function(){return ua}),I(pa,En);var ma=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ga(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ba(t){En.call(this),this.headers=new On,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=wa,this.u=this.S=!1}(n=pa.prototype).open=function(t,e){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=ma},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ga(this):ya(this),3==this.readyState&&va(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,ga(this))},n.sc=function(t){this.a&&(this.response=t,ga(this))},n.Va=function(t){var e=this.i;e&&e.log(oa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ga(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ba,En);var wa="";ba.prototype.b=la("goog.net.XhrIo");var _a=/^https?$/i,Ea=["POST","PUT"];function Sa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Yo(t.D):Yo(Ko),t.a.onreadystatechange=E(t.Wb,t);try{fa(t.b,Na(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return fa(t.b,Na(t,"Error opening Xhr: "+a.message)),void Ia(t,a)}e=r||"";var o=new On(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)W(t,e,void 0);else for(var n=An(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Ta,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Y(Ea,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Aa(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),fa(t.b,Na(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Mn(t.Ma,t.g,t)),fa(t.b,Na(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fa(t.b,Na(t,"Send error: "+a.message)),Ia(t,a)}}function Ta(t){return"content-type"==t.toLowerCase()}function Ia(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ma(t),Ca(t)}function Ma(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Oa(t)&&2==Ra(t))fa(t.b,Na(t,"Local request error detected and ignored"));else if(t.i&&4==Oa(t))Mn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Oa(t)){fa(t.b,Na(t,"Request complete")),t.c=!1;try{var e,n=Ra(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!_a.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Oa(t)?t.a.statusText:""}catch(h){fa(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+Ra(t)+"]",Ma(t)}}finally{Ca(t)}}}function Ca(t,e){if(t.a){Aa(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ia,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Aa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Oa(t){return t.a?t.a.readyState:0}function Ra(t){try{return 2<Oa(t)?t.a.status:-1}catch(e){return-1}}function Na(t,e){return e+" ["+t.P+" "+t.l+" "+Ra(t)+"]"}function xa(t){var e=za;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function Da(t){if(t.a){if(!t.v)throw new Ua(t);t.v=!1}}function ja(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function La(t){return Q(t.g,function(t){return m(t[1])})}function Fa(t){if(t.h&&t.a&&La(t)){var e=t.h,n=Va[e];n&&(u.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof xa?(ja(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new qa(e),Va[e.a]=e,t.h=e.a)}function Ua(){D.call(this)}function Ba(){D.call(this)}function qa(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=ba.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fa(this.b,Na(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(fa(this.b,Na(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ba.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},n.Jc=function(){ka(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fa(this.b,"Can not get response: "+e.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ba(this),Da(this),Pa(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Pa(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new Ee(function(t,e){r=t,i=e});return ja(this,r,function(t){t instanceof Ba?o.cancel():i(t)}),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,I(Ua,D),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",I(Ba,D),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ka(t){var e={},n=e.document||document,r=kt(t).toString(),i=ve(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new xa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Wa(i,!0);var t=new Qa(Ga,"Timeout reached for loading script "+r);Da(a),Pa(a,!1,t)},c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Wa(i,e.xd||!1,s),Da(a),Pa(a,!0,null))},i.onerror=function(){Wa(i,!0,s);var t=new Qa(Ha,"Error while loading script "+r);Da(a),Pa(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=l(e.document):(null===h&&(h=l(u.document)),e=h),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function za(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Wa(t,!0,this.Ma)}}function Wa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ha=0,Ga=1;function Qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ya(t){this.f=t}function Xa(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=vt(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=vt(t.firebaseHeaders||ns),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==_r(),!(r=u.XMLHttpRequest||r&&e.default.INTERNAL.node&&e.default.INTERNAL.node.XMLHttpRequest)&&!wr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new da(self):Er()?this.f=new Ya(r):this.f=new Jo,this.b=null}I(Qa,D),I(Ya,Qo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var $a,Ja="idToken",Za=new qr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new qr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,a){(function(){var t=Cr();return!((t=Ir(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!ue||9<ue)})()||wr()?t=E(t.u,t):($a||($a=new Ee(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[cs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Ct(us,{onload:cs});!function(t,e){ja(t,null,e,void 0)}(Ka(n),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=E(t.s,t)),t(e,n,r,i,o,a)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(t,e,n,r,i,o){if(wr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ba(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Sn(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Tn(a,"ready",function(){s&&clearTimeout(s),He(this)}),Tn(a,"timeout",function(){s&&clearTimeout(s),He(this),e&&e(null)}),Sa(a,t,n,r,i)};var us=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(t,e,n,r,i,o,a){var s=Bn(e+n);Fn(s,"key",t.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new Ee(function(e,n){ss(t,s.toString(),function(t){t?t.error?n(ou(t,o||{})):e(t):n(new k("network-request-failed"))},r,u?void 0:ir(jr(i)),t.a,t.v.get())})}function ls(t){if("string"!==typeof(t=t.email)||!vr.test(t))throw new k("invalid-email")}function fs(t){"email"in t&&ls(t)}function ds(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,vt(t));throw new k("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Xa.prototype.s=function(t,e,n,r,i){var o=this;$a.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Xa.prototype.Ab=function(){return ru(this,Ws,{})},Xa.prototype.Cb=function(t,e){return ru(this,Ks,{idToken:t,email:e})},Xa.prototype.Db=function(t,e){return ru(this,zs,{idToken:t,password:e})};var ms={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function gs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(tr(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Qs,e)}function _s(t,e){return e.returnIdpCredential=!0,ru(t,Xs,e)}function Es(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Ys,e)}function Ss(t){if(!t.oobCode)throw new k("invalid-action-code")}(n=Xa.prototype).Eb=function(t,e){var n={idToken:t},r=[];return pt(ms,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ru(this,Ks,n)},n.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fs,t)},n.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ds,t)},n.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,js,t)},n.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Ls,t)},n.gb=function(t){return ru(this,Zs,t)},n.ob=function(t,e){return ru(this,qs,{oobCode:t,newPassword:e})},n.Sa=function(t){return ru(this,Is,{oobCode:t})},n.kb=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Ss,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Ss,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},Ms={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new k("weak-password")},G:ds,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",O:["idToken"]},As={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},Os={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:ds,V:!0,B:!0},Rs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:ds,V:!0},Ns={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vs,G:ds,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:ds,B:!0,Na:!0},Ps={endpoint:"getAccountInfo"},Ds={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},Us={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Bs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},qs={endpoint:"resetPassword",A:Ss,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fs(t),!t.password)throw new k("weak-password")},G:ds,V:!0},Ws={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:gs,Za:ys,G:bs,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:gs,Za:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(gs(t),!t.idToken)throw new k("internal-error")},Za:ys,G:bs,V:!0},$s={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ds(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.O))return Oe(new k("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),hs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]})}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=Dr(t)),new k("internal-error",e)}function au(t){this.b=t,this.a=null,this.sb=function(t){return(hu||(hu=new Ee(function(t,e){function n(){Br(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:uu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Ae(Ka(r=Ct(su,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw hu=null,t}))).then(function(){return new Ee(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},cu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var su=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new qr(3e4,6e4),cu=new qr(5e3,15e3),hu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return e.default.app(t).auth().Ga()}catch(n){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(t){var e=hr();return function(t){return ru(t,Us,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Bn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(hr())})}function vu(t){return t.m?t.m:(t.m=gr().then(function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)})}(t)}),t.m)}function gu(t){return t.l||(t.C=t.c?kr(t.c,du(t.b)):null,t.l=new Xa(t.g,x(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new fu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(h).toString()}function bu(t){if(this.a=t||e.default.INTERNAL.reactNative&&e.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=E(this.c,this)}lu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.pb=r,Fn(t,"providerId",this.a.providerId),n=jr((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=vt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),mt(n)||Fn(t,"customParameters",Dr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Fn(t,"scopes",r.join(","))),this.l?Fn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(t,s)&&Fn(t,s,this.b[s]);return this.h?Fn(t,"tid",this.h):Zn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Zn(t.b,"eid"),(s=du(this.c)).length&&Fn(t,"fw",s.join(",")),t.toString()},(n=pu.prototype).Pb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then(function(){return function(t,e){return t.sb.then(function(){return new Ee(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new Ee(function(e){return function n(){kn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return kn(n).then(function(){e(r)})})},n.Yb=function(){var t=Cr();return!Pr(t)&&!Ur(t)},n.Ub=function(){return!1},n.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Oe(new k("popup-blocked"));if(a&&!Pr())return this.ma().o(function(e){dr(t),i(e)}),r(),Ae();this.a||(this.a=mu(gu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){(Uo(n),a)||lr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},n.Ob=function(t,e,n,r){this.a||(this.a=mu(gu(this)));var i=this;return this.a.then(function(){Uo(e),lr(yu(i.s,i.g,i.b,t,e,hr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},n.ma=function(){var t=this;return vu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new k("network-request-failed")})},n.ac=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Ta=function(t){$(this.h,function(e){return e==t})},(n=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then(function(t){return t&&Lr(t)})},n.set=function(t,e){return Ae(this.a.setItem(t,Dr(e)))},n.U=function(t){return Ae(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var _u,Eu=[];function Su(t,e,n){mt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Iu(t){this.c=t,this.b=!1,this.a=[]}function Mu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var h=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee(function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))}).then(function(e){return ku(t,c),e}).o(function(e){throw ku(t,c),e})}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,function(t){return t==e})}}function Cu(){if(!Nu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(W(Eu,function(n){n.b==t&&(e=n)}),!e){var e=new wu(t);Eu.push(e)}return e}(),Su(this.v,"keyChanged",function(e,n){return Lu(t).then(function(e){return 0<e.length&&W(t.a,function(t){t(e)}),{keyProcessed:Y(e,n.key)}})}),Su(this.v,"ping",function(){return Ae(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Ae().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ae(null)}().then(function(e){(t.h=e)&&(t.g=new Iu(new Tu(e)),Mu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Au(t){return new Ee(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Au(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Ou(t){return t.i||(t.i=Au(t)),t.i}function Ru(t,e){var n=0;return new Ee(function r(i,o){Ou(t).then(e).then(i).o(function(e){if(!(3<++n))return Ou(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Nu(){try{return!!u.indexedDB}catch(ua){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Du(t){return new Ee(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ju(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Mu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ae()}function Lu(t){return Ou(t).then(function(t){var e=xu(Pu(t,!1));return e.getAll?Du(e.getAll()):new Ee(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then(function(){if(Nu()){var t=Fr(),r="__sak"+t;return _u||(_u=new Cu),(n=_u).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){W(e.a,function(e){e(t)})}),t})}function Bu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==_r();if(!(t=Vu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Vu()||e.default.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=u.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function zu(){if(!function(){var t="Node"==_r();if(!(t=Wu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||e.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var t=u.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Yu,t.Node=Xu,t.ReactNative=$u,t.Worker=Ju,this.a=t[_r()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,function(e){i.push(Ae().then(function(){return e(t.origin,t.data.data)}))}),Ne(i).then(function(r){var i=[];W(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),W(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Iu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(n=Cu.prototype).set=function(t,e){var n=this,r=!1;return Ru(this,function(e){return Du((e=xu(Pu(e,!0))).get(t))}).then(function(i){return Ru(n,function(o){if(o=xu(Pu(o,!0)),i)return i.value=e,Du(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Du(o.add(a))})}).then(function(){return n.c[t]=e,ju(n,t)}).oa(function(){r&&n.b--})},n.get=function(t){return Ru(this,function(e){return Du(xu(Pu(e,!1)).get(t))}).then(function(t){return t&&t.value})},n.U=function(t){var e=this,n=!1;return Ru(this,function(r){return n=!0,e.b++,Du(xu(Pu(r,!0)).delete(t))}).then(function(){return delete e.c[t],ju(e,t)}).oa(function(){n&&e.b--})},n.ca=function(t){0==this.a.length&&function(t){Fu(t),function e(){t.f=setTimeout(function(){t.l=Lu(t).then(function(e){0<e.length&&W(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},n.ia=function(t){$(this.a,function(e){return e==t}),0==this.a.length&&Fu(this)},(n=Uu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},n.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},n.U=function(t){return this.b.then(function(e){return e.U(t)})},n.ca=function(t){this.a.push(t)},n.ia=function(t){$(this.a,function(e){return e==t})},(n=Bu.prototype).get=function(t){return Ae(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ae()},n.U=function(t){return delete this.a[t],Ae()},n.ca=function(){},n.ia=function(){},(n=qu.prototype).get=function(t){var e=this;return Ae().then(function(){return Lr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ae().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},n.ca=function(t){u.window&&hn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Ku.prototype).get=function(){return Ae(null)},n.set=function(){return Ae()},n.U=function(){return Ae()},n.ca=function(){},n.ia=function(){},(n=zu.prototype).get=function(t){var e=this;return Ae().then(function(){return Lr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ae().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},n.ca=function(){},n.ia=function(){};var Gu,Qu,Yu={F:qu,cb:zu},Xu={F:qu,cb:zu},$u={F:bu,cb:Ku},Ju={F:qu,cb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Ur(Cr())||!br()),e=Pr(),n=Or();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Hu),t=Gu;try{this.g=!cr()&&zr()||!u.indexedDB?new t.a.F:new Uu(wr()?new Bu:new t.a.F)}catch(r){this.g=new Bu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Bu}this.v=new Bu,this.f=E(this.Zb,this),this.b={}}function ec(){return Qu||(Qu=new tc),Qu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(n=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},n.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},n.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),mt(this.a)&&(nc(this,"local").ca(this.f),this.h||(cr()||!zr())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval(function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&($(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),mt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},Yt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,E(this.nb,this))},n.nb=function(t){this.a[t]&&W(this.a[t],function(t){t()})};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=lc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}I(hc,function(){this.b=-1});for(var lc=64,fc=lc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var mc=J(128,dc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|sc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}I(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new k("invalid-cordova-configuration",t)}function Sc(t){var e=new bc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,mc,56-e.c):gc(e,mc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ic(t){return t.f||(t.f=t.ma().then(function(){return new Ee(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Mc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Lr(Un(o=Bn(i),"firebaseError")||null))?C(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(t,i)})}var n=new Bo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=kn(500).then(function(){return Mc(t).then(function(){r||Tc(t,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Vo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ar("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function Mc(t){var e=null;return function(t){return t.b.get(uc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ic((n=t.g).b,uc,n.a)}).then(function(){return e})}function kc(t){this.a=t,this.b=ec()}(n=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then(function(){return new Ee(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Ar("universalLinks.subscribe",u))throw Ec("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",u))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",u))throw Ec("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",u))throw Ec("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})},n.Pb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Ae()},n.Nb=function(){return Oe(new k("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(t,e,n,r){if(this.c)return Oe(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,h=null;return this.c=Ae().then(function(){return Uo(e),Ic(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Bo(e,r,null,o,new k("no-auth-event"),null,i),s=Ar("BuildInfo.packageName",u);if("string"!==typeof s)throw new k("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",u),h={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=s;else{if(!Cr().toLowerCase().match(/android/))return Oe(new k("operation-not-supported-in-this-environment"));h.apn=s}c&&(h.appDisplayName=c),o=Sc(o),h.sessionId=o;var l=yu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(uc,a.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new k("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");e=Cr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new Ee(function(t,e){s=function(){var e=Ar("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then(function(){e(new k("redirect-cancelled-by-user"))}))},h=function(){Vr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)}).o(function(t){return Mc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null})},n.Ea=function(t){this.b.push(t),Ic(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new k("no-auth-event")),t(e))})},n.Ta=function(t){$(this.b,function(e){return e==t})};var Cc={name:"pendingRedirect",F:"session"};function Ac(t){return ic(t.b,Cc,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Wc,this.C=new Xc,this.g=new kc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Rc(this.D,this.v,this.m,A,this.J)}function Rc(t,n,r,i,o){var a=e.default.SDK_VERSION||null;return yr()?new _c(t,n,r,a,i,o):new pu(t,n,r,a,i,o)}function Nc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function xc(t){t.a.Yb()&&Nc(t).o(function(e){var n=new Bo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}),t.a.Ub()||Hc(t.b)}function Pc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ac(t.g).then(function(){Nc(t).o(function(e){var n=new Bo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})}):xc(t)}).o(function(){xc(t)})}function Dc(t,e){$(t.h,function(t){return t==e})}Oc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Rc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var jc=new qr(2e3,1e4),Lc=new qr(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Bc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Uc(e))throw new k("operation-not-supported-in-this-environment");return o=e,Ac(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new Ee(function(){}):Ac(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function qc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},jc.get())}Oc.prototype.ra=function(){return this.b.ra()};var Vc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function zc(t,e,n,r){var i=Kc(e,n,r);return Vc[i]||(Vc[i]=new Oc(t,e,n,r)),Vc[i]}function Wc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function $c(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,Yr(this,"verificationId",t)}function Zc(t,e,n,r){return new jo(t).gb(e,n).then(function(t){return new Jc(t,r)})}function th(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function eh(t,e,n){var r=e&&e[rh];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;W(e[nh]||[],function(t){(t=ti(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Wc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Yc(t,s,e,null)}).o(function(e){Yc(t,s,null,e)})}(this,t,e):Oe(new k("invalid-auth-event")):(Yc(this,!1,null,null),Ae())}else Oe(new k("invalid-auth-event"))},Wc.prototype.ra=function(){var t=this;return new Ee(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=kn(Lc.get()).then(function(){t.b||(t.g=!0,Yc(t,!0,null,e))})}(t))})},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Oe(new k("invalid-auth-event"))}else Oe(new k("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var nh="mfaInfo",rh="mfaPendingCredential";function ih(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new eh(t,e,n),Yr(this,"resolver",this.b)}function oh(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ih(e,t.serverResponse,n,t.message)}catch(r){}return null}function ah(){}function sh(t){Yr(this,"factorId",t.fa),this.a=t}function uh(t){if(sh.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ch(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function hh(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),lh(this,n)}function lh(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function mh(t,e){t.b=Ki(e[Ja]||""),t.a=e.refreshToken,ph(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function vh(t,e){return function(t,e){return new Ee(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))},"POST",Jn(e).toString(),t.g,t.m.get()):r(new k("internal-error"))})}(t.f,e).then(function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function gh(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function yh(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.default.SDK_VERSION?kr(e.default.SDK_VERSION):null;this.a=new Xa(this.l,x(A),i),(this.u=t.emulatorConfig||null)&&is(this.a,this.u),this.h=new dh(this.a),Ch(this,n[Ja]),mh(this.h,n),Yr(this,"refreshToken",this.h.a),Rh(this,r||{}),En.call(this),this.P=!1,this.s&&Rr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fh(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){wh(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Sh(o,t.f)},this.ja=null,this.S=new hh(this,r),Yr(this,"multiFactor",this.S)}function wh(t,e){t.u=e,is(t.a,e),t.b&&(e=t.b,t.b=zc(t.s,t.l,t.m,t.u),t.P&&(Dc(e,t),Pc(t.b,t)))}function _h(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&hn(e,"languageCodeChanged",t.Pa)}function Eh(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&hn(e,"emulatorConfigChanged",t.Ba)}function Sh(t,n){t.aa=n,as(t.a,e.default.SDK_VERSION?kr(e.default.SDK_VERSION,t.aa):null)}function Th(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&hn(e,"frameworkChanged",t.Oa)}function Ih(t){try{return e.default.app(t.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Mh(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),hn(t,"tokenChanged",t.ba))}function kh(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Ch(t,e){t.Aa=e,Yr(t,"_lat",e)}function Ah(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ne(e).then(function(){return t})}function Oh(t){t.b&&!t.P&&(t.P=!0,Pc(t.b,t))}function Rh(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Nh(){}function xh(t){return Ae().then(function(){if(t.J)throw new k("app-deleted")})}function Ph(t){return G(t.providerData,function(t){return t.providerId})}function Dh(t,e){e&&(jh(t,e.providerId),t.providerData.push(e))}function jh(t,e){$(t.providerData,function(t){return t.providerId==e})}function Lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Fh(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Yr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Yr(t,"metadata",new gh),W(e.providerData,function(e){Dh(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),lh(t.S,e.S.b))}function Uh(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ps,{idToken:e}).then(E(t.Kc,t))}(t,e).then(function(){return n||Lh(t,"isAnonymous",!1),e})})}function Bh(t,e){e[Ja]&&t.Aa!=e[Ja]&&(mh(t.h,e),t.dispatchEvent(new ch("tokenChanged")),Ch(t,e[Ja]),Lh(t,"refreshToken",t.h.a))}function qh(t,e){return Uh(t).then(function(){if(Y(Ph(t),e))return Ah(t).then(function(){throw new k("provider-already-linked")})})}function Vh(t,e,n){return $r({user:t,credential:Fo(e),additionalUserInfo:e=Yi(e),operationType:n})}function Kh(t,e){return Bh(t,e),t.reload().then(function(){return t})}function zh(t,n,r,i,o){if(!Rr())return Oe(new k("operation-not-supported-in-this-environment"));if(t.i&&!o)return Oe(t.i);var a=Qi(r.providerId),s=Fr(t.uid+":::"),u=null;(!Pr()||br())&&t.s&&r.isOAuthProvider&&(u=yu(t.s,t.l,t.m,n,r,null,s,e.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=pr(u,a&&a.va,a&&a.ua);return i=i().then(function(){if(Hh(t),!o)return t.I().then(function(){})}).then(function(){return Fc(t.b,c,n,r,s,!!u,t.tenantId)}).then(function(){return new Ee(function(e,r){t.na(n,null,new k("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=qc(t.b,t,n,c,s)})}).then(function(t){return c&&dr(c),t?$r(t):null}).o(function(t){throw c&&dr(c),t}),Gh(t,i,o)}function Wh(t,e,n,r,i){if(!Rr())return Oe(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Oe(t.i);var o=null,a=Fr(t.uid+":::");return r=r().then(function(){if(Hh(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Ah(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Xh,t.w(),e.a)),e}).then(function(){return Bc(t.b,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return $h(t.ha);throw o}).then(function(){if(o)throw o}),Gh(t,r,i)}function Hh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Gh(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Oe(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ch("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){X(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),Ih(t),E(t.jc,t))),n||e})}function Qh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bh(e,n,t);return t.providerData&&W(t.providerData,function(t){t&&Dh(i,$r(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Yh(t){this.a=t,this.b=ec()}eh.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=vt(e.f);return delete n[nh],delete n[rh],yt(n,t),e.g(n)})},I(ih,k),ah.prototype.tb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Do(t.a)}),ru(e,Ns,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),ru(e,xs,n)})}(this,t,e)},I(sh,ah),I(uh,sh),I(ch,$e),(n=hh.prototype).yc=function(t){lh(this,function(t){var e=[];return W(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},n.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},n.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Bh(n.a,t),n.a.reload()})},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return lh(e,r),Bh(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},fh.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=u.document,e=null;return Vr()||!t?Ae():new Ee(function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(bh,En),bh.prototype.xa=function(t){this.za=t,rs(this.a,t)},bh.prototype.la=function(){return this.za},bh.prototype.Ga=function(){return Z(this.aa)},bh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(bh.prototype,"providerId","firebase"),(n=bh.prototype).reload=function(){var t=this;return Gh(this,xh(this).then(function(){return Uh(t).then(function(){return Ah(t)}).then(Nh)}))},n.oc=function(t){return this.I(t).then(function(t){return new th(t)})},n.I=function(t){var e=this;return Gh(this,xh(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.Aa&&(Ch(e,t.accessToken),e.dispatchEvent(new ch("tokenChanged"))),Lh(e,"refreshToken",t.refreshToken),t.accessToken}))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Rh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new yh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Dh(this,e[n]);Lh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ch("userReloaded",{hd:t}))},n.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},n.ub=function(t){var e=this,n=null;return Gh(this,t.c(this.a,this.uid).then(function(t){return Bh(e,t),n=Vh(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},n.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},n.rb=function(t){var e=this,n=null;return Gh(this,qh(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Vh(e,t,"link"),Kh(e,t)}).then(function(){return n}))},n.Dc=function(t,e){var n=this;return Gh(this,qh(this,"phone").then(function(){return Zc(Ih(n),t,e,E(n.rb,n))}))},n.Mc=function(t,e){var n=this;return Gh(this,Ae().then(function(){return Zc(Ih(n),t,e,E(n.ub,n))}),!0)},n.Cb=function(t){var e=this;return Gh(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Bh(e,t),e.reload()}))},n.ed=function(t){var e=this;return Gh(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Bh(e,t),e.reload()}))},n.Db=function(t){var e=this;return Gh(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Bh(e,t),e.reload()}))},n.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var e=this;return Gh(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Bh(e,t),Lh(e,"displayName",t.displayName||null),Lh(e,"photoURL",t.photoUrl||null),W(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),Ah(e)}).then(Nh))},n.cd=function(t){var e=this;return Gh(this,Uh(this).then(function(n){return Y(Ph(e),t)?function(t,e,n){return ru(t,As,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return W(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),W(Ph(e),function(t){n[t]||jh(e,t)}),n[jo.PROVIDER_ID]||Yr(e,"phoneNumber",null),Ah(e)}):Ah(e).then(function(){throw new k("no-such-provider")})}))},n.delete=function(){var t=this;return Gh(this,this.I().then(function(e){return ru(t.a,Cs,{idToken:e})}).then(function(){t.dispatchEvent(new ch("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");_h(t,null),Eh(t,null),Th(t,null),t.N=[],t.J=!0,kh(t),Yr(t,"refreshToken",null),t.b&&Dc(t.b,t)})},n.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Mb,this):null},n.Ec=function(t){var e=this;return zh(this,"linkViaPopup",t,function(){return qh(e,t.providerId).then(function(){return Ah(e)})},!1)},n.Nc=function(t){return zh(this,"reauthViaPopup",t,function(){return Ae()},!0)},n.Fc=function(t){var e=this;return Wh(this,"linkViaRedirect",t,function(){return qh(e,t.providerId)},!1)},n.Oc=function(t){return Wh(this,"reauthViaRedirect",t,function(){return Ae()},!0)},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,this.I().then(function(n){return _s(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Vh(i,t,"link"),Kh(i,t)}).then(function(){return o}))},n.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,Ae().then(function(){return co(Es(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Vh(i,t,"reauthenticate"),Bh(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},n.vb=function(t){var e=this,n=null;return Gh(this,this.I().then(function(e){return n=e,"undefined"===typeof t||mt(t)?{}:Ui(new Ai(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},n.Fb=function(t,e){var n=this,r=null;return Gh(this,this.I().then(function(t){return r=t,"undefined"===typeof e||mt(e)?{}:Ui(new Ai(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},n.jc=function(t){var e=null,n=this;return Gh(this,t=co(Ae(t),n.uid).then(function(t){return e=Vh(n,t,"reauthenticate"),Bh(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),W(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.S.w()),t};var Xh={name:"redirectUser",F:"session"};function $h(t){return ic(t.b,Xh,t.a)}function Jh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=el("local"),n=el("session"),r=el("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Lr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(tl,t.a).then(function(t){return t?el(t):e})})})}).then(function(e){return t.c=e,Zh(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(el("local"),this.a,E(this.g,this))}function Zh(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,el(Zu[n]),t.a));return r.push(ic(t.b,tl,t.a)),function(t){return new Ee(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Re(t[s],S(o,s),a);else e(i)})}(r)}Jh.prototype.g=function(){var t=this,e=el("local");ol(this,function(){return Ae().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Zh(t,"local").then(function(){t.c=e})})})};var tl={name:"persistence",F:"session"};function el(t){return{name:"authUser",F:t}}function nl(t,e){return ol(t,function(){return t.b.set(t.c,e.w(),t.a)})}function rl(t){return ol(t,function(){return ic(t.b,t.c,t.a)})}function il(t,e,n){return ol(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Qh(t||{})})})}function ol(t,e){return t.f=t.f.then(e,e),t.f}function al(t){if(this.l=!1,Yr(this,"settings",new $c),Yr(this,"app",t),!ml(this).options||!ml(this).options.apiKey)throw new k("invalid-api-key");t=e.default.SDK_VERSION?kr(e.default.SDK_VERSION):null,this.a=new Xa(ml(this).options&&ml(this).options.apiKey,x(A),t),this.P=[],this.s=[],this.N=[],this.Pa=e.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=e.default.INTERNAL.createSubscribe(E(this.Ac,this)),dl(this,null),this.i=new Jh(ml(this).options.apiKey+":"+ml(this).name),this.D=new Yh(ml(this).options.apiKey+":"+ml(this).name),this.$=bl(this,function(t){var e=ml(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Qh(t||{})})}(t.D,ml(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),$h(t.D)});return bl(t,e)}(t).then(function(){return il(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return nl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:rl(t.i)})):null}).then(function(e){dl(t,e||null)});return bl(t,n)}(this)),this.h=bl(this,function(t){return t.$.then(function(){return ll(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(el("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=ml(t).options.authDomain,n=ml(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=zc(e,n,ml(t).name,t.R),Pc(t.b,t),vl(t)&&Oh(vl(t)),t.m){Oh(t.m);var r=t.m;r.xa(t.la()),_h(r,t),Sh(r=t.m,t.J),Th(r,t),wh(r=t.m,t.R),Eh(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Bn(this.R.url);t=$r({protocol:t.c,host:t.a,port:t.g,options:$r({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function sl(t){$e.call(this,"languageCodeChanged"),this.h=t}function ul(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function cl(t){$e.call(this,"frameworkChanged"),this.f=t}function hl(t){return t.Oa||Oe(new k("auth-domain-config-required"))}function ll(t){if(!Rr())return Oe(new k("operation-not-supported-in-this-environment"));var e=hl(t).then(function(){return t.b.ra()}).then(function(t){return t?$r(t):null});return bl(t,e)}function fl(t,e){var n={};return n.apiKey=ml(t).options.apiKey,n.authDomain=ml(t).options.authDomain,n.appName=ml(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Sh(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return vl(t)&&e.uid==vl(t).uid?(Fh(vl(t),e),t.da(e)):(dl(t,e),Oh(e),t.da(e))}).then(function(){yl(t)})}function dl(t,e){vl(t)&&(function(t,e){$(t.W,function(t){return t==e})}(vl(t),t.Ba),dn(vl(t),"tokenChanged",t.qa),dn(vl(t),"userDeleted",t.za),dn(vl(t),"userInvalidated",t.Aa),kh(vl(t))),e&&(e.W.push(t.Ba),hn(e,"tokenChanged",t.qa),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Mh(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),_h(e,t),Sh(e,t.J),Th(e,t),wh(e,t.R),Eh(e,t))}function pl(t,e){var n=null,r=null;return bl(t,e.then(function(e){return n=Fo(e),r=Yi(e),fl(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),t,E(t.kc,t))),n||e}).then(function(){return $r({user:vl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ml(t){return t.app}function vl(t){return t.currentUser}function gl(t){return vl(t)&&vl(t)._lat||null}function yl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gl(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](gl(t))}}function bl(t,e){return t.P.push(e),e.oa(function(){X(t.P,e)}),e}function wl(){}function _l(){this.a={},this.b=1e12}Jh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),ol(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Zh(n,t)}).then(function(){if(n.c=el(t),e)return n.b.set(n.c,e,n.a)}):Ae()})},I(al,En),I(sl,$e),I(ul,$e),I(cl,$e),(n=al.prototype).yb=function(t){return bl(this,t=this.i.yb(t))},n.xa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new sl(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&gr().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new ul(this.R))}},n.Gc=function(t){this.J.push(t),as(this.a,e.default.SDK_VERSION?kr(e.default.SDK_VERSION,this.J):null),this.dispatchEvent(new cl(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:ml(this).options.apiKey,authDomain:ml(this).options.authDomain,appName:ml(this).name,currentUser:vl(this)&&vl(this).w()}},n.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return pl(i,ws(i.a,o))})},n.Xc=function(t){if(!Rr())return Oe(new k("operation-not-supported-in-this-environment"));var n=this,r=Qi(t.providerId),i=Fr(),o=null;(!Pr()||br())&&ml(this).options.authDomain&&t.isOAuthProvider&&(o=yu(ml(this).options.authDomain,ml(this).options.apiKey,ml(this).name,"signInViaPopup",t,null,i,e.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=pr(o,r&&r.va,r&&r.ua);return bl(this,r=hl(this).then(function(e){return Fc(e,a,"signInViaPopup",t,i,!!o,n.T())}).then(function(){return new Ee(function(t,e){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=qc(n.b,n,"signInViaPopup",a,i)})}).then(function(t){return a&&dr(a),t?$r(t):null}).o(function(t){throw a&&dr(a),t}))},n.Yc=function(t){if(!Rr())return Oe(new k("operation-not-supported-in-this-environment"));var e=this;return bl(this,hl(this).then(function(){return ol(t=e.i,function(){return t.b.set(tl,t.c.F,t.a)});var t}).then(function(){return Bc(e.b,"signInViaRedirect",t,void 0,e.T())}))},n.ra=function(){var t=this;return ll(this).then(function(e){return t.b&&Gc(t.b.b),e}).o(function(e){throw t.b&&Gc(t.b.b),e})},n.dd=function(t){if(!t)return Oe(new k("null-user"));if(this.S!=t.tenantId)return Oe(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=ml(this).options.apiKey,n.authDomain=ml(this).options.authDomain,n.appName=ml(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Sh(e,r),Fh(e,t),e}(t,n,e.D,e.Ga());return bl(this,this.h.then(function(){if(ml(e).options.apiKey!=t.l)return r.reload()}).then(function(){return vl(e)&&t.uid==vl(e).uid?(Fh(vl(e),t),e.da(t)):(dl(e,r),Oh(r),e.da(r))}).then(function(){yl(e)}))},n.Bb=function(){var t=this;return bl(this,this.h.then(function(){return t.b&&Gc(t.b.b),vl(t)?(dl(t,null),rl(t.i).then(function(){yl(t)})):Ae()}))},n.Zc=function(){var t=this;return il(this.i,ml(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=vl(t)&&e){n=vl(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fh(vl(t),e),vl(t).I();(vl(t)||e)&&(dl(t,e),e&&(Oh(e),e.ha=t.D),t.b&&Pc(t.b,t),yl(t))}})},n.da=function(t){return nl(this.i,t)},n.mc=function(){yl(this),this.da(vl(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(t){var e=this;return this.h.then(function(){return pl(e,Ae(t))})},n.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(vl(e))})},n.Ac=function(t){var e=this;!function(t,e){t.N.push(e),bl(t,t.h.then(function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(gl(t)))}))}(this,function(){t.next(vl(e))})},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof t?t(vl(r)):"function"===typeof t.next&&t.next(vl(r))}),this.Pa(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"===typeof t?t(vl(r)):"function"===typeof t.next&&t.next(vl(r))}),this.ib(t,e,n)},n.nc=function(t){var e=this;return bl(this,this.h.then(function(){return vl(e)?vl(e).I(t).then(function(t){return{accessToken:t}}):null}))},n.Tc=function(t){var e=this;return this.h.then(function(){return pl(e,ru(e.a,$s,{token:t}))}).then(function(t){var n=t.user;return Lh(n,"isAnonymous",!1),e.da(n),t})},n.Uc=function(t,e){var n=this;return this.h.then(function(){return pl(n,ru(n.a,Js,{email:t,password:e}))})},n.dc=function(t,e){var n=this;return this.h.then(function(){return pl(n,ru(n.a,Ms,{email:t,password:e}))})},n.ab=function(t){var e=this;return this.h.then(function(){return pl(e,t.ka(e.a))})},n.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},n.Ab=function(){var t=this;return this.h.then(function(){var e=vl(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return pl(t,t.a.Ab()).then(function(e){var n=e.user;return Lh(n,"isAnonymous",!0),t.da(n),e})})},n.getUid=function(){return vl(this)&&vl(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vl(this)&&Mh(vl(this))},n.Pc=function(t){var e=this;W(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&vl(this)&&kh(vl(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),bl(this,this.h.then(function(){e.l||Y(e.s,t)&&t(gl(e))}))},n.removeAuthTokenListener=function(t){$(this.s,function(e){return e==t})},n.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(el("local"),t.a,this.ja),this.b&&(Dc(this.b,this),Gc(this.b.b)),Promise.resolve()},n.hc=function(t){return bl(this,function(t,e){return ru(t,ks,{identifier:e,continueUri:Nr()?hr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},n.Bc=function(t){return!!No(t)},n.xb=function(t,e){var n=this;return bl(this,Ae().then(function(){var t=new Ai(e);if(!t.c)throw new k("argument-error",Ni+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},n.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},n.ob=function(t,e){return bl(this,this.a.ob(t,e).then(function(){}))},n.Sa=function(t){return bl(this,this.a.Sa(t).then(function(t){return new ai(t)}))},n.kb=function(t){return bl(this,this.a.kb(t).then(function(){}))},n.wb=function(t,e){var n=this;return bl(this,Ae().then(function(){return"undefined"===typeof e||mt(e)?{}:Ui(new Ai(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},n.Wc=function(t,e){return bl(this,Zc(this,t,e,E(this.ab,this)))},n.Vc=function(t,e){var n=this;return bl(this,Ae().then(function(){var r=e||hr(),i=Ro(t,r);if(!(r=No(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)}))},wl.prototype.render=function(){},wl.prototype.reset=function(){},wl.prototype.getResponse=function(){},wl.prototype.execute=function(){};var El=null;function Sl(t,e){return(e=Tl(e))&&t.a[e]||null}function Tl(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Il(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=he(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Ml(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kl(){}function Cl(){}_l.prototype.render=function(t,e){return this.a[this.b.toString()]=new Il(t,e),this.b++},_l.prototype.reset=function(t){var e=Sl(this,t);t=Tl(t),e&&t&&(e.delete(),delete this.a[t])},_l.prototype.getResponse=function(t){return(t=Sl(this,t))?t.getResponse():null},_l.prototype.execute=function(t){(t=Sl(this,t))&&t.execute()},Il.prototype.getResponse=function(){return Ml(this),this.b},Il.prototype.execute=function(){Ml(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Il.prototype.delete=function(){Ml(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Yr(kl,"FACTOR_ID","phone"),Cl.prototype.g=function(){return El||(El=new _l),Ae(El)},Cl.prototype.c=function(){};var Al=null;function Ol(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rl=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nl=new qr(3e4,6e4);Ol.prototype.g=function(t){var e=this;return new Ee(function(n,r){var i=setTimeout(function(){r(new k("network-request-failed"))},Nl.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[e.a]},Ae(Ka(Ct(Rl,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},Ol.prototype.c=function(){this.b--};var xl=null;function Pl(t,e,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Al||(Al=new Cl),a=Al):(xl||(xl=new Ol),a=xl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ll])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fl],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.i&&he(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Dl];this.a[Dl]=function(t){if(Ul(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Ar(c,u);"function"===typeof e&&e(t)}};var h=this.a[jl];this.a[jl]=function(){if(Ul(s,null),"function"===typeof h)h();else if("string"===typeof h){var t=Ar(h,u);"function"===typeof t&&t()}}}var Dl="callback",jl="expired-callback",Ll="sitekey",Fl="size";function Ul(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Bl(t,e){return t.h.push(e),e.oa(function(){X(t.h,e)}),e}function ql(t){if(t.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vl(t,n,r){var i=!1;try{this.b=r||e.default.app()}catch(s){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.default.SDK_VERSION?kr(e.default.SDK_VERSION,a):null,Pl.call(this,r,t,n,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,x(A),i)}function Kl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=zl.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=zl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(n=Pl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Bl(this,Ae().then(function(){if(Nr()&&!wr())return gr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,ru(t.s,Bs,{})}).then(function(e){t.a[Ll]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},n.render=function(){ql(this);var t=this;return Bl(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=he(e);e=me("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},n.verify=function(){ql(this);var t=this;return Bl(this,this.render().then(function(e){return new Ee(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){$(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},n.reset=function(){ql(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){ql(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=he(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Vl,Pl);var zl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Hl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Gl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Ql(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Yl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function $l(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Jl(t){return v(t)&&"string"===typeof t.uid}function Zl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){Kl(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(al.prototype,{kb:{name:"applyActionCode",j:[Wl("code")]},Sa:{name:"checkActionCode",j:[Wl("code")]},ob:{name:"confirmPasswordReset",j:[Wl("code"),Wl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wl("email"),Wl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wl("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zl(Gl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zl(Gl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wl("email"),Zl(Gl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wl("email"),Gl("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Xl()]},Tc:{name:"signInWithCustomToken",j:[Wl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wl("email"),Wl("password")]},Vc:{name:"signInWithEmailLink",j:[Wl("email"),Wl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bh)}},Yl(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wl("url"),Gl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wl("code")]}}),ef(al.prototype,{lc:{name:"languageCode",lb:Zl(Wl(),Yl(),"languageCode")},ti:{name:"tenantId",lb:Zl(Wl(),Yl(),"tenantId")}}),al.Persistence=Zu,al.Persistence.LOCAL="local",al.Persistence.SESSION="session",al.Persistence.NONE="none",tf(bh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xl()]},rb:{name:"linkWithCredential",j:[Xl()]},Dc:{name:"linkWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xl()]},ub:{name:"reauthenticateWithCredential",j:[Xl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zl(Gl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wl(null,!0)]},cd:{name:"unlink",j:[Wl("provider")]},Cb:{name:"updateEmail",j:[Wl("email")]},Db:{name:"updatePassword",j:[Wl("password")]},ed:{name:"updatePhoneNumber",j:[Xl("phone")]},Eb:{name:"updateProfile",j:[Gl("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wl("email"),Zl(Gl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]}}),tf(_l.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(wl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef($c.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hl("appVerificationDisabledForTesting")}}),tf(Jc.prototype,{confirm:{name:"confirm",j:[Wl("verificationCode")]}}),nf(uo,"fromJSON",function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[vo,Ao,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Zl(Wl(),Gl(),"json")]),nf(Oo,"credential",function(t,e){return new Co(t,e)},[Wl("email"),Wl("password")]),tf(Co.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),tf(wo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),nf(wo,"credential",_o,[Zl(Wl(),Gl(),"token")]),nf(Oo,"credentialWithLink",Ro,[Wl("email"),Wl("emailLink")]),tf(Eo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),nf(Eo,"credential",So,[Zl(Wl(),Gl(),"token")]),tf(To.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),nf(To,"credential",Io,[Zl(Wl(),Zl(Gl(),Yl()),"idToken"),Zl(Wl(),Yl(),"accessToken",!0)]),tf(Mo.prototype,{Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),nf(Mo,"credential",ko,[Zl(Wl(),Gl(),"token"),Wl("secret",!0)]),tf(bo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},credential:{name:"credential",j:[Zl(Wl(),Zl(Gl(),Yl()),"optionsOrIdToken"),Zl(Wl(),Yl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(po.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),tf(ho.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),nf(jo,"credential",Lo,[Wl("verificationId"),Wl("verificationCode")]),tf(jo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zl(Wl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?$l(t.session,ao)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?$l(t.session,so)&&Jl(t.multiFactorHint):t.session&&t.multiFactorUid?$l(t.session,so)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),tf(xo.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),tf(k.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),tf(Wo.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),tf(ih.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),tf(eh.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),tf(hh.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Wl("displayName",!0)]},bd:{name:"unenroll",j:[Zl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jl},Wl(),"multiFactorInfoIdentifier")]}}),tf(Vl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(wi,"parseLink",Ci,[Wl("link")]),nf(kl,"assertion",function(t){return new uh(t)},[Xl("phone")]),function(){if("undefined"===typeof e.default||!e.default.INTERNAL||!e.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:al,AuthCredential:uo,Error:k};nf(t,"EmailAuthProvider",Oo,[]),nf(t,"FacebookAuthProvider",wo,[]),nf(t,"GithubAuthProvider",Eo,[]),nf(t,"GoogleAuthProvider",To,[]),nf(t,"TwitterAuthProvider",Mo,[]),nf(t,"OAuthProvider",bo,[Wl("providerId")]),nf(t,"SAMLAuthProvider",yo,[Wl("providerId")]),nf(t,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof al)}}]),nf(t,"RecaptchaVerifier",Vl,[Zl(Wl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.default.app.App)}}]),nf(t,"ActionCodeURL",wi,[]),nf(t,"PhoneMultiFactorGenerator",kl,[]),e.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new al(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),e.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.default.registerVersion("@firebase/auth","0.16.8"),e.default.INTERNAL.extendNamespace({User:bh})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(11))},function(t,e,n){"use strict";var r=n(3),i=n(0),o=n(1),a=n(7),s="firebasestorage.googleapis.com",u="storageBucket",c=12e4,h=6e5,l=function(t){function e(n,r){var i=t.call(this,f(n),"Firebase Storage: "+r+" ("+f(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(i.__extends)(e,t),e.prototype._codeEquals=function(t){return f(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o.FirebaseError);function f(t){return"storage/"+t}function d(){return new l("unknown","An unknown error occurred, please check the error payload for server response.")}function p(){return new l("canceled","User canceled the upload/download.")}function m(){return new l("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function v(t){return new l("invalid-argument",t)}function g(){return new l("app-deleted","The Firebase app was deleted.")}function y(t){return new l("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(t,e){return new l("invalid-format","String does not match format '"+t+"': "+e)}function w(t){throw new l("internal-error","Internal error: "+t)}var _={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},E=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function S(t,e){switch(t){case _.RAW:return new E(T(e));case _.BASE64:case _.BASE64URL:return new E(I(t,e));case _.DATA_URL:return new E(function(t){var e=new M(t);return e.base64?I(_.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw b(_.DATA_URL,"Malformed data URL.")}return T(e)}(e.rest)}(e),new M(e).contentType)}throw d()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function I(t,e){switch(t){case _.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw b(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw b(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw b(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var M=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw b(_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i}}();var k,C={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O(t){switch(t){case"running":case"pausing":case"canceling":return A.RUNNING;case"paused":return A.PAUSED;case"success":return A.SUCCESS;case"canceled":return A.CANCELED;case"error":default:return A.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(k||(k={}));var R=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=k.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=k.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=k.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();var N=function(){function t(){}return t.prototype.createConnection=function(){return new R},t}(),x=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new l("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var h=u[c],f=h.regex.exec(e);if(f){var d=f[h.indices.bucket],p=f[h.indices.path];p||(p=""),r=new t(d,p),h.postModify(r);break}}if(null==r)throw function(t){return new l("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),P=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function D(t){return"string"===typeof t||t instanceof String}function j(t){return L()&&t instanceof Blob}function L(){return"undefined"!==typeof Blob}function F(t,e,n,r){if(r<e)throw v("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw v("Invalid value for '"+t+"'. Expected "+n+" or less.")}function U(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function B(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var q=function(){function t(t,e,n,r,i,o,a,s,u,c,h){var l=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise(function(t,e){l.resolve_=t,l.reject_=e,l.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=d()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?g():p()):o(r=new l("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new V(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function l(e){o=setTimeout(function(){o=null,t(f,u())},e)}function f(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];c||(t?h.call.apply(h,Object(i.__spreadArray)([null,t],n)):u()||a?h.call.apply(h,Object(i.__spreadArray)([null,t],n)):(r<64&&(r*=2),1===s?(s=2,e=0):e=1e3*(r+Math.random()),l(e)))}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),l(0)):t||(s=1)))}return l(0),setTimeout(function(){a=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new V(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===k.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new V(a,r))}else{var s=r.getErrorCode()===k.ABORT;e(!1,new V(!1,null,s))}})}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),V=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function K(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var z=function(){function t(t,e){var n=0,r="";j(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(j(this.data_)){var r=this.data_,i=(a=e,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new t(i)}var o,a,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(L()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=K();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(L())return new Blob(t);throw new l("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return D(t)?S(_.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function W(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function H(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function G(t,e){return e}var Q=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||G}}(),Y=null;function X(){if(Y)return Y;var t=[];t.push(new Q("bucket")),t.push(new Q("generation")),t.push(new Q("metageneration")),t.push(new Q("name","fullPath",!0));var e=new Q("name");e.xform=function(t,e){return function(t){return!D(t)||t.length<2?t:H(t)}(e)},t.push(e);var n=new Q("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Q("timeCreated")),t.push(new Q("updated")),t.push(new Q("md5Hash",null,!0)),t.push(new Q("cacheControl",null,!0)),t.push(new Q("contentDisposition",null,!0)),t.push(new Q("contentEncoding",null,!0)),t.push(new Q("contentLanguage",null,!0)),t.push(new Q("contentType",null,!0)),t.push(new Q("metadata","customMetadata",!0)),Y=t}function $(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new x(n,r);return e._makeStorageReference(i)}})}(r,t),r}function J(t,e,n){var r=W(e);return null===r?null:$(t,r,n)}function Z(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var tt="prefixes",et="items";function nt(t,e,n){var r=W(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[tt])for(var i=0,o=n[tt];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new x(e,a));r.prefixes.push(s)}if(n[et])for(var u=0,c=n[et];u<c.length;u++){var h=c[u];s=t._makeStorageReference(new x(e,h.name)),r.items.push(s)}return r}(t,e,r)}var rt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function it(t){if(!t)throw d()}function ot(t,e){return function(n,r){var i=J(t,r,e);return it(null!==i),i}}function at(t,e){return function(n,r){var i=J(t,r,e);return it(null!==i),function(t,e,n){var r=W(e);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.bucket,i=t.fullPath;return U("/b/"+o(r)+"/o/"+o(i),n)+B({alt:"media",token:e})})[0]}(i,r,t.host)}}function st(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new l("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new l("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new l("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new l("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ut(t){var e=st(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new l("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ct(t,e,n){var r=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rt(r,"GET",ot(t,n),i);return o.errorHandler=ut(e),o}function ht(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=U(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new rt(a,"GET",function(t,e){return function(n,r){var i=nt(t,e,r);return it(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=st(e),u}function lt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var ft=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function dt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){it(!1)}return it(!!n&&-1!==(e||["active"]).indexOf(n)),n}function pt(t,e,n,r,i,o,a,s){var u=new ft(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new l("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,h=c;i>0&&(h=Math.min(h,i));var f=u.current,d=f+h,p={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},v=r.slice(f,d);if(null===v)throw m();var g=e.maxUploadRetryTime,y=new rt(n,"POST",function(t,n){var i,a=dt(t,["active","final"]),s=u.current+h,c=r.size();return i="final"===a?ot(e,o)(t,n):null,new ft(s,c,"final"===a,i)},g);return y.headers=p,y.body=v.uploadData(),y.progressCallback=s||null,y.errorHandler=st(t),y}var mt=function(){return function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function vt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var gt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=X(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=lt(e,r,i),s={name:a.fullPath},u=U(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=Z(a,n),l=t.maxUploadRetryTime,f=new rt(u,"POST",function(t){var e;dt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){it(!1)}return it(D(e)),e},l);return f.urlParams=s,f.headers=c,f.body=h,f.errorHandler=st(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new rt(n,"POST",function(t){var e=dt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){it(!1)}n||it(!1);var i=Number(n);return it(!isNaN(i)),new ft(i,r.size(),"final"===e)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=st(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new ft(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=pt(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=ct(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=lt(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+s+"--",l=z.getBlob(c,r,h);if(null===l)throw m();var f={name:u.fullPath},d=U(o,t.host),p=t.maxUploadRetryTime,v=new rt(d,"POST",ot(t,n),p);return v.urlParams=f,v.headers=a,v.body=l.uploadData(),v.errorHandler=st(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=p(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=O(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new mt(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(O(this._state)){case A.SUCCESS:vt(this._resolve.bind(null,this.snapshot))();break;case A.CANCELED:case A.ERROR:vt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(O(this._state)){case A.RUNNING:case A.PAUSED:t.next&&vt(t.next.bind(t,this.snapshot))();break;case A.SUCCESS:t.complete&&vt(t.complete.bind(t))();break;case A.CANCELED:case A.ERROR:t.error&&vt(t.error.bind(t,this._error))();break;default:t.error&&vt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),yt=function(){function t(t,e){this._service=t,this._location=e instanceof x?e:x.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new x(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return H(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new x(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw y(t)},t}();function bt(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var o,a,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,wt(e,{pageToken:r})];case 1:return o=i.sent(),(a=n.prefixes).push.apply(a,o.prefixes),(s=n.items).push.apply(s,o.items),null==o.nextPageToken?[3,3]:[4,t(e,n,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e).then(function(){return e})}function wt(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&F("options.maxResults",1,1e3,e.maxResults),n=e||{},r=ht(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function _t(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=U(e.fullServerUrl(),t.host),o=Z(n,r),a=t.maxOperationRetryTime,s=new rt(i,"PATCH",ot(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ut(e),s}(t.storage,t._location,e,X()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Et(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rt(r,"GET",at(t,n),i);return o.errorHandler=ut(e),o}(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new l("no-download-url","The given file does not have any download URLs.");return t})]}})})}function St(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=U(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new rt(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=ut(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Tt(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new x(t._location.bucket,n);return new yt(t.storage,r)}function It(t){return/^[A-Za-z]+:\/\//.test(t)}function Mt(t,e){if(t instanceof At){var n=t;if(null==n._bucket)throw new l("no-default-bucket","No default bucket found. Did you set the '"+u+"' property when initializing the app?");var r=new yt(n,n._bucket);return null!=e?Mt(r,e):r}return void 0!==e?Tt(t,e):t}function kt(t,e){if(e&&It(e)){if(t instanceof At)return new yt(t,e);throw v("To use ref(service, url), the first argument must be a Storage instance.")}return Mt(t,e)}function Ct(t,e){var n=null===e||void 0===e?void 0:e[u];return null==n?null:x.makeFromBucketSpec(n,t)}var At=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c,this._maxUploadRetryTime=h,this._requests=new Set,this._bucket=null!=i?x.makeFromBucketSpec(i,this._host):Ct(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=x.makeFromBucketSpec(this._url,t):this._bucket=Ct(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){F("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){F("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new yt(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new P(g());var i=function(t,e,n,r,i,o){var a=B(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new q(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}})})},t}();function Ot(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gt(t,new z(e),n)}(t=Object(o.getModularInstance)(t),e,n)}function Rt(t){return function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ct(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(o.getModularInstance)(t))}function Nt(t,e){return kt(t=Object(o.getModularInstance)(t),e)}function xt(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:Object(o.createMockUserToken)(i,t.app.options.projectId))}(t,e,n,r)}var Pt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Dt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Pt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Pt(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Pt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Pt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),jt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Lt(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Lt(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Lt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Tt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Dt(Ot(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=_.RAW),this._throwIfRoot("putString");var r=S(e,t),o=Object(i.__assign)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Dt(new gt(this._delegate,new z(r.data,!0),o),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,bt(t=Object(o.getModularInstance)(t))).then(function(t){return new jt(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return wt(t=Object(o.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new jt(t,e.storage)})},t.prototype.getMetadata=function(){return Rt(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return _t(t=Object(o.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,Et(t=Object(o.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,St(t=Object(o.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw y(t)},t}(),Ft=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(It(t))throw v("ref() expected a child path but got a URL, use refFromURL instead.");return new Lt(Nt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!It(t))throw v("refFromURL() expected a full URL but got a child path, use ref() instead.");try{x.makeFromUrl(t,this._delegate.host)}catch(e){throw v("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lt(Nt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),xt(this._delegate,t,e,n)},t}(),Ut="@firebase/storage",Bt="0.7.1",qt="storage";function Vt(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ft(i,new At(i,o,a,new N,n,r.default.SDK_VERSION))}!function(t){var e={TaskState:A,TaskEvent:C,StringFormat:_,Storage:At,Reference:Lt};t.INTERNAL.registerComponent(new a.Component(qt,Vt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Ut,Bt)}(r.default)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(177).Buffer,i=n(178).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(4)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(i){r=i}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(n){e=n}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!==typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){"use strict";(function(e,r){var i;t.exports=I,I.ReadableState=T;n(26).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=n(82),s=n(12).Buffer,u=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var c,h=n(179);c=h&&h.debuglog?h.debuglog("stream"):function(){};var l,f,d,p=n(180),m=n(83),v=n(84).getHighWaterMark,g=n(32).codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4)(I,a);var E=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(t,e,r){i=i||n(33),t=t||{},"boolean"!==typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=n(27).StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function I(t){if(i=i||n(33),!(this instanceof I))return new I(t);var e=this instanceof i;this._readableState=new T(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function M(t,e,n,r,i){c("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}(t,a);else if(i||(o=function(t,e){var n;r=e,s.isBuffer(r)||r instanceof u||"string"===typeof e||void 0===e||t.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(a,e)),o)E(t,o);else if(a.objectMode||e&&e.length>0)if("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),r)a.endEmitted?E(t,new _):k(t,a,e,!0);else if(a.ended)E(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?k(t,a,e,!1):N(t,a)):k(t,a,e,!1)}else r||(a.reading=!1,N(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),N(t,e)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=s.from(t,e),e=""),n=!0),M(this,t,e,!1,n)},I.prototype.unshift=function(t){return M(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){l||(l=n(27).StringDecoder);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(R,t))}function R(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function N(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(x,t,e))}function x(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(c("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function D(t){c("readable nexttick read 0"),t.read(0)}function j(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function U(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(B,e,t))}function B(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function q(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}I.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?U(this):O(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&U(this),null;var r,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?F(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&U(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(t){E(this,new w("_read()"))},I.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:v;function s(e,r){c("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",h),t.removeListener("error",d),t.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",f),l=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){c("onend"),t.end()}i.endEmitted?r.nextTick(a):n.once("end",a),t.on("unpipe",s);var h=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var l=!1;function f(e){c("ondata");var r=t.write(e);c("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==q(i.pipes,t))&&!l&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){c("onerror",e),v(),t.removeListener("error",d),0===o(t,"error")&&E(t,e)}function p(){t.removeListener("finish",m),v()}function m(){c("onfinish"),t.removeListener("close",p),v()}function v(){c("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",m),t.emit("pipe",n),i.flowing||(c("pipe resume"),n.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=q(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},I.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(D,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(P,this),n},I.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(P,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(j,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){c("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(182)),f(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=F,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(t,e){return void 0===d&&(d=n(183)),d(I,t,e)})}).call(this,n(11),n(9))},function(t,e,n){t.exports=n(26).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(9))},function(t,e,n){"use strict";var r=n(32).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=I,I.WritableState=T;var a={deprecate:n(51)},s=n(82),u=n(12).Buffer,c=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var h,l=n(83),f=n(84).getHighWaterMark,d=n(32).codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function S(){}function T(t,e,a){o=o||n(33),t=t||{},"boolean"!==typeof a&&(a=e instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(R,t,e),t._writableState.errorEmitted=!0,E(t,i)):(o(i),t._writableState.errorEmitted=!0,E(t,i),R(t,e))}(t,n,i,e,o);else{var a=A(n)||t.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||C(t,n),i?r.nextTick(k,t,n,a,o):k(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(t){var e=this instanceof(o=o||n(33));if(!e&&!h.call(I,this))return new I(t);this._writableState=new T(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function M(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),R(t,e)}function C(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,M(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,l=n.callback;if(M(t,e,!1,e.objectMode?1:c.length,c,h,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final(function(n){e.pendingcb--,n&&E(t,n),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var n=A(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(4)(I,s),T.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(T.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===I&&(t&&t._writableState instanceof T)}})):h=function(t){return t instanceof this},I.prototype.pipe=function(){E(this,new g)},I.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,u.isBuffer(i)||i instanceof c);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=S),o.ending?function(t,e){var n=new w;E(t,n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o;return null===n?o=new b:"string"===typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(E(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else M(t,e,!1,s,r,i,o);return c}(this,o,s,t,e,n)),a},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,n){n(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,n){var i=this._writableState;return"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,R(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=l.destroy,I.prototype._undestroy=l.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,n(11),n(9))},function(t,e,n){"use strict";t.exports=h;var r=n(32).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(33);function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,n){f(t,e,n)})}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}n(4)(h,u),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,n){n(new i("_transform()"))},h.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,function(t){e(t)})}},function(t,e,n){var r=n(4),i=n(34),o=n(5).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,g=0;g<16;++g)n[g]=t.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((e=n[g-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[g-7]+d(n[g-15])+n[g-16];for(var y=0;y<64;++y){var b=v+f(u)+c(u,p,m)+a[y]+n[y]|0,w=l(r)+h(r,i,o)|0;v=m,m=p,p=u,u=s+b|0,s=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},function(t,e,n){var r=n(4),i=n(34),o=n(5).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function v(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function g(t,e){return t>>>0<e>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,T=0|this._el,I=0|this._fl,M=0|this._gl,k=0|this._hl,C=0;C<32;C+=2)e[C]=t.readInt32BE(4*C),e[C+1]=t.readInt32BE(4*C+4);for(;C<160;C+=2){var A=e[C-30],O=e[C-30+1],R=d(A,O),N=p(O,A),x=m(A=e[C-4],O=e[C-4+1]),P=v(O,A),D=e[C-14],j=e[C-14+1],L=e[C-32],F=e[C-32+1],U=N+j|0,B=R+D+g(U,N)|0;B=(B=B+x+g(U=U+P|0,P)|0)+L+g(U=U+F|0,F)|0,e[C]=B,e[C+1]=U}for(var q=0;q<160;q+=2){B=e[q],U=e[q+1];var V=h(n,r,i),K=h(w,_,E),z=l(n,w),W=l(w,n),H=f(s,T),G=f(T,s),Q=a[q],Y=a[q+1],X=c(s,u,y),$=c(T,I,M),J=k+G|0,Z=b+H+g(J,k)|0;Z=(Z=(Z=Z+X+g(J=J+$|0,$)|0)+Q+g(J=J+Y|0,Y)|0)+B+g(J=J+U|0,U)|0;var tt=W+K|0,et=z+V+g(tt,W)|0;b=y,k=M,y=u,M=I,u=s,I=T,s=o+Z+g(T=S+J|0,S)|0,o=i,S=E,i=r,E=_,r=n,_=w,n=Z+et+g(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+I|0,this._gl=this._gl+M|0,this._hl=this._hl+k|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,E)|0,this._dh=this._dh+o+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,T)|0,this._fh=this._fh+u+g(this._fl,I)|0,this._gh=this._gh+y+g(this._gl,M)|0,this._hh=this._hh+b+g(this._hl,k)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},function(t,e,n){"use strict";(function(e,r){var i=n(44);t.exports=b;var o,a=n(79);b.ReadableState=y;n(26).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(90),c=n(5).Buffer,h=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l=Object.create(n(40));l.inherits=n(4);var f=n(191),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(192),v=n(91);l.inherits(b,u);var g=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(o=o||n(28));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(27).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(28),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,T(t)}(t,a)):(i||(o=function(t,e){var n;r=e,c.isBuffer(r)||r instanceof h||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):M(t,a)):_(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&T(t)),M(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(27).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var E=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(I,t):I(t))}function I(t){d("emit readable"),t.emit("readable"),O(t)}function M(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(k,t,e))}function k(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){d("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function R(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function N(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(x,e,t))}function x(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):T(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&N(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?R(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&N(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?h:b;function c(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",v),t.removeListener("unpipe",c),n.removeListener("end",h),n.removeListener("end",b),n.removeListener("data",m),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function h(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",c);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",l);var f=!1;var p=!1;function m(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==P(o.pipes,t))&&!f&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++,p=!0),n.pause())}function v(e){d("onerror",e),b(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),b()}function y(){d("onfinish"),t.removeListener("close",g),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",m),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",g),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=P(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):i.nextTick(C,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(A,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=R}).call(this,n(11),n(9))},function(t,e,n){t.exports=n(26).EventEmitter},function(t,e,n){"use strict";var r=n(44);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,t)):r.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=a;var r=n(28),i=Object.create(n(40));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(4),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";var r=n(4),i=n(201),o=n(23),a=n(5).Buffer,s=n(94),u=n(53),c=n(54),h=a.alloc(128);function l(t,e){o.call(this,"digest"),"string"===typeof e&&(e=a.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new u:c(t)).update(e).digest():e.length<n&&(e=a.concat([e,h],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^e[s],i[s]=92^e[s];this._hash="rmd160"===t?new u:c(t),this._hash.update(r)}r(l,o),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new l("rmd160",e):"md5"===t?new i(s,e):new l(t,e)}},function(t,e,n){var r=n(50);t.exports=function(t){return(new r).update(t).digest()}},function(t){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,n){e.pbkdf2=n(203),e.pbkdf2Sync=n(99)},function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!==typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!==typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!==e)throw new TypeError("Bad key length")}},function(t,e,n){(function(e,n){var r;if(e.process&&e.process.browser)r="utf-8";else if(e.process&&e.process.version){r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";t.exports=r}).call(this,n(11),n(9))},function(t,e,n){var r=n(94),i=n(53),o=n(54),a=n(5).Buffer,s=n(97),u=n(98),c=n(100),h=a.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,n){var s=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?r:function(e){return o(t).update(e).digest()}}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=s(e):e.length<u&&(e=a.concat([e,h],u));for(var c=a.allocUnsafe(u+l[t]),f=a.allocUnsafe(u+l[t]),d=0;d<u;d++)c[d]=54^e[d],f[d]=92^e[d];var p=a.allocUnsafe(u+n+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=f,this.alg=t,this.blocksize=u,this.hash=s,this.size=l[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){s(n,r);var o=new f(i=i||"sha1",t=c(t,u,"Password"),(e=c(e,u,"Salt")).length),h=a.allocUnsafe(r),d=a.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=l[i],v=Math.ceil(r/m),g=1;g<=v;g++){d.writeUInt32BE(g,e.length);for(var y=o.run(d,o.ipad1),b=y,w=1;w<n;w++){b=o.run(b,o.ipad2);for(var _=0;_<m;_++)y[_]^=b[_]}y.copy(h,p),p+=m}return h}},function(t,e,n){var r=n(5).Buffer;t.exports=function(t,e,n){if(r.isBuffer(t))return t;if("string"===typeof t)return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=t>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=e>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";var r=n(19),i=n(4),o=n(101),a=n(57);function s(){this.tmp=new Array(2),this.keys=null}function u(t){a.call(this,t);var e=new s;this._desState=e,this.deriveKeys(e,t.key)}i(u,a),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=c[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,t.keys,a)}},u.prototype._update=function(t,e,n,r){var i=this._desState,a=o.readUInt32BE(t,e),s=o.readUInt32BE(t,e+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},u.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,n,r,i){for(var a=e,s=n,u=0;u<t.keys.length;u+=2){var c=t.keys[u],h=t.keys[u+1];o.expand(s,t.tmp,0),c^=t.tmp[0],h^=t.tmp[1];var l=o.substitute(c,h),f=s;s=(a^o.permute(l))>>>0,a=f}o.rip(s,a,r,i)},u.prototype._decrypt=function(t,e,n,r,i){for(var a=n,s=e,u=t.keys.length-2;u>=0;u-=2){var c=t.keys[u],h=t.keys[u+1];o.expand(a,t.tmp,0),c^=t.tmp[0],h^=t.tmp[1];var l=o.substitute(c,h),f=a;a=(s^o.permute(l))>>>0,s=f}o.rip(a,s,r,i)}},function(t,e,n){var r=n(41),i=n(5).Buffer,o=n(104);function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(t),c=o+16*s;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var h=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,h)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e,n){var r=n(45),i=n(5).Buffer,o=n(23),a=n(4),s=n(216),u=n(41),c=n(104);function h(t,e,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(e);var h=this._cipher.encryptBlock(u);this._ghash=new s(h),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new s(n),o=e.length,a=o%16;r.update(e),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,h=i.alloc(8);h.writeUIntBE(u,0,8),r.update(h),t._finID=r.state;var l=i.from(t._finID);return c(l),l}(this,n,h),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}a(h,o),h.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},h.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=h},function(t,e,n){var r=n(45),i=n(5).Buffer,o=n(23);function a(t,e,n,a){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=t}n(4)(a,o),a.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},t.exports=a},function(t,e,n){var r=n(31);t.exports=y,y.simpleSieve=v,y.fermatTest=g;var i=n(109),o=new i(24),a=new(n(110)),s=new i(1),u=new i(2),c=new i(5),h=(new i(16),new i(8),new i(10)),l=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!==0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return p=t,t}function v(t){for(var e=m(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function g(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function y(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),e.cmp(u)){if(!e.cmp(c))for(;n.mod(h).cmp(l);)n.iadd(d)}else for(;n.mod(o).cmp(f);)n.iadd(d);if(v(p=n.shrn(1))&&v(n)&&g(p)&&g(n)&&a.test(p)&&a.test(n))return n}}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(220).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},function(t,e,n){var r=n(221),i=n(60);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),a=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var s=t.subn(1),u=0;!s.testn(u);u++);for(var c=t.shrn(u),h=s.toRed(o);e>0;e--){var l=this._randrange(new r(2),s);n&&n(l);var f=l.toRed(o).redPow(c);if(0!==f.cmp(a)&&0!==f.cmp(h)){for(var d=1;d<u;d++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(h))break}if(d===u)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var u=t.shrn(s),c=a.toRed(i);e>0;e--){var h=this._randrange(new r(2),a),l=t.gcd(h);if(0!==l.cmpn(1))return l;var f=h.toRed(i).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(c)){for(var d=1;d<s;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(c))break}if(d===s)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){"use strict";(function(e,r){var i;t.exports=I,I.ReadableState=T;n(26).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=n(112),s=n(12).Buffer,u=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var c,h=n(228);c=h&&h.debuglog?h.debuglog("stream"):function(){};var l,f,d,p=n(229),m=n(113),v=n(114).getHighWaterMark,g=n(35).codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4)(I,a);var E=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(t,e,r){i=i||n(36),t=t||{},"boolean"!==typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=n(27).StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function I(t){if(i=i||n(36),!(this instanceof I))return new I(t);var e=this instanceof i;this._readableState=new T(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function M(t,e,n,r,i){c("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}(t,a);else if(i||(o=function(t,e){var n;r=e,s.isBuffer(r)||r instanceof u||"string"===typeof e||void 0===e||t.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(a,e)),o)E(t,o);else if(a.objectMode||e&&e.length>0)if("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),r)a.endEmitted?E(t,new _):k(t,a,e,!0);else if(a.ended)E(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?k(t,a,e,!1):N(t,a)):k(t,a,e,!1)}else r||(a.reading=!1,N(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),N(t,e)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=s.from(t,e),e=""),n=!0),M(this,t,e,!1,n)},I.prototype.unshift=function(t){return M(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){l||(l=n(27).StringDecoder);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(R,t))}function R(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function N(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(x,t,e))}function x(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(c("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function D(t){c("readable nexttick read 0"),t.read(0)}function j(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function U(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(B,e,t))}function B(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function q(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}I.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?U(this):O(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&U(this),null;var r,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?F(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&U(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(t){E(this,new w("_read()"))},I.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:v;function s(e,r){c("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",h),t.removeListener("error",d),t.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",f),l=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){c("onend"),t.end()}i.endEmitted?r.nextTick(a):n.once("end",a),t.on("unpipe",s);var h=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var l=!1;function f(e){c("ondata");var r=t.write(e);c("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==q(i.pipes,t))&&!l&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){c("onerror",e),v(),t.removeListener("error",d),0===o(t,"error")&&E(t,e)}function p(){t.removeListener("finish",m),v()}function m(){c("onfinish"),t.removeListener("close",p),v()}function v(){c("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",m),t.emit("pipe",n),i.flowing||(c("pipe resume"),n.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=q(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},I.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(D,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(P,this),n},I.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(P,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(j,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){c("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(231)),f(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=F,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(t,e){return void 0===d&&(d=n(232)),d(I,t,e)})}).call(this,n(11),n(9))},function(t,e,n){t.exports=n(26).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(9))},function(t,e,n){"use strict";var r=n(35).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=I,I.WritableState=T;var a={deprecate:n(51)},s=n(112),u=n(12).Buffer,c=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var h,l=n(113),f=n(114).getHighWaterMark,d=n(35).codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function S(){}function T(t,e,a){o=o||n(36),t=t||{},"boolean"!==typeof a&&(a=e instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(R,t,e),t._writableState.errorEmitted=!0,E(t,i)):(o(i),t._writableState.errorEmitted=!0,E(t,i),R(t,e))}(t,n,i,e,o);else{var a=A(n)||t.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||C(t,n),i?r.nextTick(k,t,n,a,o):k(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(t){var e=this instanceof(o=o||n(36));if(!e&&!h.call(I,this))return new I(t);this._writableState=new T(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function M(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),R(t,e)}function C(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,M(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,l=n.callback;if(M(t,e,!1,e.objectMode?1:c.length,c,h,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final(function(n){e.pendingcb--,n&&E(t,n),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var n=A(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(4)(I,s),T.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(T.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===I&&(t&&t._writableState instanceof T)}})):h=function(t){return t instanceof this},I.prototype.pipe=function(){E(this,new g)},I.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,u.isBuffer(i)||i instanceof c);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=S),o.ending?function(t,e){var n=new w;E(t,n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o;return null===n?o=new b:"string"===typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(E(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else M(t,e,!1,s,r,i,o);return c}(this,o,s,t,e,n)),a},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,n){n(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,n){var i=this._writableState;return"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,R(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=l.destroy,I.prototype._undestroy=l.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,n(11),n(9))},function(t,e,n){"use strict";t.exports=h;var r=n(35).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(36);function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,n){f(t,e,n)})}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}n(4)(h,u),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,n){n(new i("_transform()"))},h.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,function(t){e(t)})}},function(t,e,n){"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!==typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";var r=e;r.base=n(47),r.short=n(239),r.mont=n(240),r.edwards=n(241)},function(t,e,n){"use strict";var r=n(21).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?a(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(21),i=n(42),o=n(119),a=n(19),s=r.sum32,u=r.sum32_4,c=r.sum32_5,h=o.ch32,l=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,m=o.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(y,v),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],g=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=c(_,d(y),h(y,b,w),this.k[r],n[r]),S=s(f(i),l(i,o,v));_=w,w=b,b=y,y=s(g,E),g=v,v=o,o=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(21),i=n(42),o=n(19),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,h=r.sum64,l=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,v=r.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function _(t,e,n,r,i,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}function E(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function S(t,e,n,r,i,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}function T(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function M(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function k(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function A(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function O(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}function R(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(b,g),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=O(n[r-4],n[r-3]),o=R(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=C(n[r-30],n[r-29]),c=A(n[r-30],n[r-29]),h=n[r-32],l=n[r-31];n[r]=d(i,o,a,s,u,c,h,l),n[r+1]=p(i,o,a,s,u,c,h,l)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],b=this.h[10],C=this.h[11],A=this.h[12],O=this.h[13],R=this.h[14],N=this.h[15];o(this.k.length===n.length);for(var x=0;x<n.length;x+=2){var P=R,D=N,j=M(g,y),L=k(g,y),F=w(g,y,b,C,A),U=_(g,y,b,C,A,O),B=this.k[x],q=this.k[x+1],V=n[x],K=n[x+1],z=m(P,D,j,L,F,U,B,q,V,K),W=v(P,D,j,L,F,U,B,q,V,K);P=T(r,i),D=I(r,i),j=E(r,i,a,s,u),L=S(r,i,a,s,u,c);var H=l(P,D,j,L),G=f(P,D,j,L);R=A,N=O,A=b,O=C,b=g,C=y,g=l(d,p,z,W),y=f(p,p,z,W),d=u,p=c,u=a,c=s,a=r,s=i,r=l(z,W,H,G),i=f(z,W,H,G)}h(this.h,0,r,i),h(this.h,2,a,s),h(this.h,4,u,c),h(this.h,6,d,p),h(this.h,8,g,y),h(this.h,10,b,C),h(this.h,12,A,O),h(this.h,14,R,N)},b.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=e;r.bignum=n(123),r.define=n(258).define,r.base=n(261),r.constants=n(262),r.decoders=n(126),r.encoders=n(124)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(257).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},function(t,e,n){"use strict";var r=e;r.der=n(125),r.pem=n(259)},function(t,e,n){"use strict";var r=n(4),i=n(68).Buffer,o=n(69),a=n(71);function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function c(t){return t<10?"0"+t:t}t.exports=s,s.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(u,o),u.prototype._encodeComposite=function(t,e,n,r){var o=function(t,e,n,r){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!==typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}if(i>=31)return r.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6}(t,e,n,this.reporter);if(r.length<128){var s=i.alloc(2);return s[0]=o,s[1]=r.length,this._createEncoderBuffer([s,r])}for(var u=1,c=r.length;c>=256;c>>=8)u++;var h=i.alloc(2+u);h[0]=o,h[1]=128|u;for(var l=1+u,f=r.length;f>0;l--,f>>=8)h[l]=255&f;return this._createEncoderBuffer([h,r])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=i.alloc(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,n){if("string"===typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t)){t=t.slice();for(var o=0;o<t.length;o++)t[o]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var a=0,s=0;s<t.length;s++){var u=t[s];for(a++;u>=128;u>>=7)a++}for(var c=i.alloc(a),h=c.length-1,l=t.length-1;l>=0;l--){var f=t[l];for(c[h--]=127&f;(f>>=7)>0;)c[h--]=128|127&f}return this._createEncoderBuffer(c)},u.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[c(r.getUTCFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[c(r.getUTCFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"===typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!==typeof t&&!i.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=i.from(n)}if(i.isBuffer(t)){var r=t.length;0===t.length&&r++;var o=i.alloc(r);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var a=1,s=t;s>=256;s>>=8)a++;for(var u=new Array(a),c=u.length-1;c>=0;c--)u[c]=255&t,t>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(i.from(u))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t,e,n){"use strict";var r=e;r.der=n(127),r.pem=n(260)},function(t,e,n){"use strict";var r=n(4),i=n(123),o=n(43).DecoderBuffer,a=n(69),s=n(71);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){a.call(this,"der",t)}function h(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function l(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;r|=a}return r}t.exports=u,u.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},r(c,a),c.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=h(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},c.prototype._decodeTag=function(t,e,n){var r=h(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=l(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){var n=h(t,e);if(t.isError(n))return n;var r=l(t,n.primitive,e);if(t.isError(r))return r;var i=void 0;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},c.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",r);if(t.isError(a)&&o)break;i.push(a)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0,a=0;!t.isEmpty();)o<<=7,o|=127&(a=t.readUInt8()),0===(128&a)&&(i.push(o),o=0);128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),e){var c=e[r.join(" ")];void 0===c&&(c=e[r.join(".")]),void 0!==c&&(r=c)}return r},c.prototype._decodeTime=function(t,e){var n,r,i,o,a,s,u=t.raw().toString();if("gentime"===e)n=0|u.slice(0,4),r=0|u.slice(4,6),i=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|u.slice(0,2),r=0|u.slice(2,4),i=0|u.slice(4,6),o=0|u.slice(6,8),a=0|u.slice(8,10),s=0|u.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,i,o,a,s,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){var n=t.raw(),r=new i(n);return e&&(r=e[r.toString(10)]||r),r},c.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,n){var r=n(39),i=n(5).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,a=i.alloc(0),s=0;a.length<e;)n=o(s++),a=i.concat([a,r("sha1").update(t).update(n).digest()]);return a.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(72),i=n(5).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(140)},function(t,e,n){"use strict";var r=n(76),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,h=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=h(n);l&&(a=a.concat(l(n)));for(var s=u(e),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{c(e,g,y)}catch(b){}}}}return e}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),o=r(n(2)),a=n(17);n(37),n(38);var s=r(n(16));function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function h(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}var l=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=a.createBrowserHistory(e.props),e}return c(e,t),e.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},e}(o.Component),f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=a.createHashHistory(e.props),e}return c(e,t),e.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},e}(o.Component),d=function(t,e){return"function"==typeof t?t(e):t},p=function(t,e){return"string"==typeof t?a.createLocation(t,null,null,e):t},m=function(t){return t},v=o.forwardRef;void 0===v&&(v=m);var g=v(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,a=h(t,["innerRef","navigate","onClick"]),s=a.target,c=u({},a,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}var e;t.defaultPrevented||0!==t.button||s&&"_self"!==s||((e=t).metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(t.preventDefault(),r())}});return c.ref=m!==v&&e||n,o.createElement("a",c)}),y=v(function(t,e){var n=t.component,r=void 0===n?g:n,a=t.replace,c=t.to,l=t.innerRef,f=h(t,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,function(t){t||s(!1);var n=t.history,i=p(d(c,t.location),t.location),h=i?n.createHref(i):"",g=u({},f,{href:h,navigate:function(){var e=d(c,t.location);(a?n.replace:n.push)(e)}});return m!==v?g.ref=e||l:g.innerRef=l,o.createElement(r,g)})}),b=function(t){return t},w=o.forwardRef;void 0===w&&(w=b);var _=w(function(t,e){var n=t["aria-current"],r=void 0===n?"page":n,a=t.activeClassName,c=void 0===a?"active":a,l=t.activeStyle,f=t.className,m=t.exact,v=t.isActive,g=t.location,_=t.sensitive,E=t.strict,S=t.style,T=t.to,I=t.innerRef,M=h(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,function(t){t||s(!1);var n=g||t.location,a=p(d(T,n),n),h=a.pathname,k=h&&h.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=k?i.matchPath(n.pathname,{path:k,exact:m,sensitive:_,strict:E}):null,A=!!(v?v(C,n):C),O=A?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(f,c):f,R=A?u({},S,{},l):S,N=u({"aria-current":A&&r||null,className:O,style:R,to:a},M);return b!==w?N.ref=e||I:N.innerRef=I,o.createElement(y,N)})});Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return i.MemoryRouter}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return i.Prompt}}),Object.defineProperty(e,"Redirect",{enumerable:!0,get:function(){return i.Redirect}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return i.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return i.Router}}),Object.defineProperty(e,"StaticRouter",{enumerable:!0,get:function(){return i.StaticRouter}}),Object.defineProperty(e,"Switch",{enumerable:!0,get:function(){return i.Switch}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return i.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return i.matchPath}}),Object.defineProperty(e,"useHistory",{enumerable:!0,get:function(){return i.useHistory}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return i.useLocation}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return i.useParams}}),Object.defineProperty(e,"useRouteMatch",{enumerable:!0,get:function(){return i.useRouteMatch}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return i.withRouter}}),e.BrowserRouter=l,e.HashRouter=f,e.Link=y,e.NavLink=_},function(t,e,n){(function(e,r){var i=n(173),o=n(174),a=n(175),s=n(176),u=n(275).version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function h(t){console.log("[dotenv@".concat(u,"][DEBUG] ").concat(t))}function l(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}).DOTENV_KEY&&Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}).DOTENV_KEY.length>0?Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}).DOTENV_KEY:""}function f(t,e){var n;try{n=new URL(e)}catch(s){if("ERR_INVALID_URL"===s.code)throw new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw s}var r=n.password;if(!r)throw new Error("INVALID_DOTENV_KEY: Missing key part");var i=n.searchParams.get("environment");if(!i)throw new Error("INVALID_DOTENV_KEY: Missing environment part");var o="DOTENV_VAULT_".concat(i.toUpperCase()),a=t.parsed[o];if(!a)throw new Error("NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ".concat(o," in your .env.vault file."));return{ciphertext:a,key:r}}function d(t){var n=o.resolve(e.cwd(),".env");return t&&t.path&&t.path.length>0&&(n=t.path),n.endsWith(".vault")?n:"".concat(n,".vault")}var p={configDotenv:function(t){var n,r=o.resolve(e.cwd(),".env"),s="utf8",u=Boolean(t&&t.debug);t&&(null!=t.path&&(r="~"===(n=t.path)[0]?o.join(a.homedir(),n.slice(1)):n),null!=t.encoding&&(s=t.encoding));try{var c=p.parse(i.readFileSync(r,{encoding:s})),l=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"});return t&&null!=t.processEnv&&(l=t.processEnv),p.populate(l,c,t),{parsed:c}}catch(f){return u&&h("Failed to load ".concat(r," ").concat(f.message)),{error:f}}},_configVault:function(t){var e;e="Loading env from encrypted .env.vault",console.log("[dotenv@".concat(u,"][INFO] ").concat(e));var n=p._parseVault(t),r=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"});return t&&null!=t.processEnv&&(r=t.processEnv),p.populate(r,n,t),{parsed:n}},_parseVault:function(t){var e=d(t),n=p.configDotenv({path:e});if(!n.parsed)throw new Error("MISSING_DATA: Cannot parse ".concat(e," for an unknown reason"));for(var r,i=l(t).split(","),o=i.length,a=0;a<o;a++)try{var s=f(n,i[a].trim());r=p.decrypt(s.ciphertext,s.key);break}catch(u){if(a+1>=o)throw u}return p.parse(r)},config:function(t){var e,n=d(t);return 0===l(t).length?p.configDotenv(t):i.existsSync(n)?p._configVault(t):(e="You set DOTENV_KEY but you are missing a .env.vault file at ".concat(n,". Did you forget to build it?"),console.log("[dotenv@".concat(u,"][WARN] ").concat(e)),p.configDotenv(t))},decrypt:function(t,e){var n=r.from(e.slice(-64),"hex"),i=r.from(t,"base64"),o=i.slice(0,12),a=i.slice(-16);i=i.slice(12,-16);try{var u=s.createDecipheriv("aes-256-gcm",n,o);return u.setAuthTag(a),"".concat(u.update(i)).concat(u.final())}catch(f){var c=f instanceof RangeError,h="Invalid key length"===f.message,l="Unsupported state or unable to authenticate data"===f.message;if(c||h)throw new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");if(l)throw new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw console.error("Error: ",f.code),console.error("Error: ",f.message),f}},parse:function(t){var e,n={},r=t.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(e=c.exec(r));){var i=e[1],o=e[2]||"",a=(o=o.trim())[0];o=o.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===a&&(o=(o=o.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),n[i]=o}return n},populate:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Boolean(n&&n.debug),i=Boolean(n&&n.override);if("object"!==typeof e)throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];Object.prototype.hasOwnProperty.call(t,s)?(!0===i&&(t[s]=e[s]),r&&h('"'.concat(s,!0===i?'" is already defined and WAS overwritten':'" is already defined and was NOT overwritten'))):t[s]=e[s]}}};t.exports.configDotenv=p.configDotenv,t.exports._configVault=p._configVault,t.exports._parseVault=p._parseVault,t.exports.config=p.config,t.exports.decrypt=p.decrypt,t.exports.parse=p.parse,t.exports.populate=p.populate,t.exports=p}).call(this,n(9),n(12).Buffer)},function(t,e,n){"use strict";var r,i,o=n(3),a=(n(77),n(165),n(8)),s=n(7),u=n(1),c=n(6),h=(n(15),{Firestore:a.e,GeoPoint:a.a,Timestamp:a.g,Blob:a.f,Transaction:a.j,WriteBatch:a.c,DocumentReference:a.d,DocumentSnapshot:a.k,Query:a.n,QueryDocumentSnapshot:a.s,QuerySnapshot:a.r,CollectionReference:a.o,FieldPath:a.q,FieldValue:a.m,setLogLevel:a.p,CACHE_SIZE_UNLIMITED:a.b});(function(t,e){t.INTERNAL.registerComponent(new s.Component("firestore",function(t){return function(t,e){return new a.e(t,new a.h(t,e),new a.i)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},h)))})(r=o.default),r.registerVersion("@firebase/firestore","2.4.1"),(i=a.e).prototype.loadBundle=a.t,i.prototype.namedQuery=a.l;var l=n(0),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(l.__extends)(e,t),e}(Error);var p=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t;return Object(l.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(l.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function m(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var v=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"===typeof t||"object"===typeof t)return m(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"===typeof t||"object"===typeof t?m(t,function(t){return e.decode(t)}):t},t}();var g=function(){function t(t,e,n,i,o,a){var s=this;void 0===o&&(o="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new p(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t;return Object(l.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,h,p,m,v,g;return Object(l.__generator)(this,function(l){switch(l.label){case 0:return i=this._url(t),e=this.serializer.encode(e),o={data:e},a={},[4,this.contextProvider.getContext()];case 1:return(s=l.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new d("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(u),h=c.timer,p=c.promise,[4,Promise.race([y(h,this.postJSON(i,o,a)),p,y(h,this.cancelAllRequests)])];case 2:if(!(m=l.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(v=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),o=i,a=void 0;try{var s=e&&e.error;if(s){var u=s.status;if("string"===typeof u){if(!f[u])return new d("internal","internal");i=f[u],o=u}var c=s.message;"string"===typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new d(i,o,a)}(m.status,m.json,this.serializer))throw v;if(!m.json)throw new d("internal","Response is not valid JSON object.");if("undefined"===typeof(g=m.json.data)&&(g=m.json.result),"undefined"===typeof g)throw new d("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}})})},t}();function y(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var b="functions";!function(t,e){var n={Functions:g};t.INTERNAL.registerComponent(new s.Component(b,function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new g(i,o,s,a,r,e)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.default,fetch.bind(self)),o.default.registerVersion("@firebase/functions","0.6.16");var w,_=n(25),E="@firebase/installations",S="0.4.32",T=1e4,I="w:"+S,M="FIS_v2",k="https://firebaseinstallations.googleapis.com/v1",C=36e5,A=((w={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',w["not-registered"]="Firebase Installation is not registered.",w["installation-not-found"]="Firebase Installation not found.",w["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',w["app-offline"]="Could not process request. Application offline.",w["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",w),O=new u.ErrorFactory("installations","Installations",A);function R(t){return t instanceof u.FirebaseError&&t.code.includes("request-failed")}function N(t){var e=t.projectId;return k+"/projects/"+e+"/installations"}function x(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function P(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,O.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function D(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function j(t,e){var n=e.refreshToken,r=D(t);return r.append("Authorization",function(t){return M+" "+t}(n)),r}function L(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e;return Object(l.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function F(t,e){var n=e.fid;return Object(l.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return e=N(t),r=D(t),i={fid:n,authVersion:M,appId:t.appId,sdkVersion:I},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,L(function(){return fetch(e,o)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:x(s.authToken)}];case 3:return[4,P("Create Installation",a)];case 4:throw u.sent()}})})}function U(t){return new Promise(function(e){setTimeout(e,t)})}var B=/^[cdef][\w-]{21}$/,q="";function V(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(l.__spreadArray)([],Object(l.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return B.test(e)?e:q}catch(n){return q}}function K(t){return t.appName+"!"+t.appId}var z=new Map;function W(t,e){var n=K(t);H(n,e),function(t,e){var n=Q();n&&n.postMessage({key:t,fid:e});Y()}(n,e)}function H(t,e){var n,r,i=z.get(t);if(i)try{for(var o=Object(l.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var G=null;function Q(){return!G&&"BroadcastChannel"in self&&((G=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){H(t.data.key,t.data.fid)}),G}function Y(){0===z.size&&G&&(G.close(),G=null)}var X,$,J="firebase-installations-database",Z=1,tt="firebase-installations-store",et=null;function nt(){return et||(et=Object(_.openDb)(J,Z,function(t){switch(t.oldVersion){case 0:t.createObjectStore(tt)}})),et}function rt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(l.__generator)(this,function(s){switch(s.label){case 0:return n=K(t),[4,nt()];case 1:return r=s.sent(),i=r.transaction(tt,"readwrite"),[4,(o=i.objectStore(tt)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||W(t,e.fid),[2,e]}})})}function it(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return e=K(t),[4,nt()];case 1:return n=i.sent(),[4,(r=n.transaction(tt,"readwrite")).objectStore(tt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function ot(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return n=K(t),[4,nt()];case 1:return r=u.sent(),i=r.transaction(tt,"readwrite"),[4,(o=i.objectStore(tt)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||W(t,s.fid),[2,s]}})})}function at(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,ot(t,function(n){var r=function(t){return ct(t||{fid:V(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(O.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,F(t,e)];case 1:return n=i.sent(),[2,rt(t,n)];case 2:return R(r=i.sent())&&409===r.customData.serverCode?[4,it(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,rt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:st(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return(n=i.sent()).fid!==q?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function st(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return[4,ut(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,U(100)];case 3:return o.sent(),[4,ut(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,at(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function ut(t){return ot(t,function(t){if(!t)throw O.create("installation-not-found");return ct(t)})}function ct(t){return 1===(e=t).registrationStatus&&e.registrationTime+T<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function ht(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(l.__awaiter)(this,void 0,void 0,function(){var t,i,o,a,s,u,c;return Object(l.__generator)(this,function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return N(t)+"/"+n+"/authTokens:generate"}(n,e),i=j(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:I}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,L(function(){return fetch(t,s)})];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,x(c)];case 3:return[4,P("Generate Auth Token",u)];case 4:throw h.sent()}})})}function lt(t,e){return void 0===e&&(e=!1),Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return[4,ot(t.appConfig,function(r){if(!dt(r))throw O.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+C}(i)){if(1===o.requestStatus)return n=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,ft(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,U(100)];case 3:return i.sent(),[4,ft(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,lt(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw O.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(l.__assign)(Object(l.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ht(t,e)];case 1:return n=o.sent(),i=Object(l.__assign)(Object(l.__assign)({},e),{authToken:n}),[4,rt(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!R(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,it(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(l.__assign)(Object(l.__assign)({},e),{authToken:{requestStatus:0}}),[4,rt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a}return r})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function ft(t){return ot(t,function(t){if(!dt(t))throw O.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+T<Date.now()?Object(l.__assign)(Object(l.__assign)({},t),{authToken:{requestStatus:0}}):t})}function dt(t){return void 0!==t&&2===t.registrationStatus}function pt(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e;return Object(l.__generator)(this,function(n){switch(n.label){case 0:return[4,at(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function mt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return N(t)+"/"+n}(t,e),r=j(t,e),i={method:"DELETE",headers:r},[4,L(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,P("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function vt(t,e){var n=t.appConfig;return function(t,e){Q();var n=K(t),r=z.get(n);r||(r=new Set,z.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=K(t),r=z.get(n);r&&(r.delete(e),0===r.size&&z.delete(n),Y())}(n,e)}}function gt(t){return O.create("missing-app-config-values",{valueName:t})}(X=o.default).INTERNAL.registerComponent(new s.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw gt("App Configuration");if(!t.name)throw gt("App Name");try{for(var r=Object(l.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw gt(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,at(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):lt(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(n){switch(n.label){case 0:return[4,pt(t.appConfig)];case 1:return n.sent(),[4,lt(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,ot(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw O.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw O.create("app-offline");case 3:return[4,mt(e,n)];case 4:return r.sent(),[4,it(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return vt(n,t)}}},"PUBLIC")),X.registerVersion(E,S);var yt,bt=(($={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$["only-available-in-window"]="This method is available in a Window context.",$["only-available-in-sw"]="This method is available in a service worker context.",$["permission-default"]="The notification permission was not granted and dismissed instead.",$["permission-blocked"]="The notification permission was not granted and blocked instead.",$["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",$["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",$["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",$["token-update-no-token"]="FCM returned no token when updating the user to push.",$["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",$["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",$["invalid-vapid-key"]="The public VAPID key must be a string.",$["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$),wt=new u.ErrorFactory("messaging","Messaging",bt),_t="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Et="https://fcmregistrations.googleapis.com/v1",St="FCM_MSG",Tt="google.c.a.c_id";function It(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(l.__spreadArray)([],Object(l.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(yt||(yt={}));var kt="fcm_token_details_db",Ct=5,At="fcm_token_object_Store";function Ot(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r=this;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map(function(t){return t.name}).includes(kt))return[2,null];i.label=2;case 2:return n=null,[4,Object(_.openDb)(kt,Ct,function(e){return Object(l.__awaiter)(r,void 0,void 0,function(){var r,i,o,a;return Object(l.__generator)(this,function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(At)?[4,(r=e.transaction.objectStore(At)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:It(o.vapidKey)}}}else 3===e.oldVersion?n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:It(o.auth),p256dh:It(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:It(o.vapidKey)}}:4===e.oldVersion&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:It(o.auth),p256dh:It(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:It(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(_.deleteDb)(kt)];case 4:return i.sent(),[4,Object(_.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(_.deleteDb)("undefined")];case 6:return i.sent(),[2,Rt(n)?n:null]}})})}function Rt(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var Nt="firebase-messaging-database",xt=1,Pt="firebase-messaging-store",Dt=null;function jt(){return Dt||(Dt=Object(_.openDb)(Nt,xt,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Pt)}})),Dt}function Lt(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return e=Bt(t),[4,jt()];case 1:return[4,i.sent().transaction(Pt).objectStore(Pt).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Ot(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Ft(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function Ft(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return n=Bt(t),[4,jt()];case 1:return r=o.sent(),[4,(i=r.transaction(Pt,"readwrite")).objectStore(Pt).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Ut(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return e=Bt(t),[4,jt()];case 1:return n=i.sent(),[4,(r=n.transaction(Pt,"readwrite")).objectStore(Pt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Bt(t){return t.appConfig.appId}function qt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return[4,Wt(t)];case 1:n=u.sent(),r=Ht(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(zt(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),wt.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,wt.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw wt.create("token-subscribe-no-token");return[2,o.token]}})})}function Vt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return[4,Wt(t)];case 1:n=u.sent(),r=Ht(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(zt(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),wt.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,wt.create("token-update-failed",{errorInfo:s});if(!o.token)throw wt.create("token-update-no-token");return[2,o.token]}})})}function Kt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(l.__generator)(this,function(s){switch(s.label){case 0:return[4,Wt(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(zt(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,wt.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),wt.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function zt(t){var e=t.projectId;return Et+"/projects/"+e+"/registrations"}function Wt(t){var e=t.appConfig,n=t.installations;return Object(l.__awaiter)(this,void 0,void 0,function(){var t;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Ht(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==_t&&(o.web.applicationPubKey=i),o}var Gt=6048e5;function Qt(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return Object(l.__generator)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw wt.create("permission-blocked");return[4,Jt(e,n)];case 1:return r=s.sent(),[4,Lt(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:It(r.getKey("auth")),p256dh:It(r.getKey("p256dh"))},i?[3,3]:[2,$t(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Kt(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,$t(t,o)];case 8:return Date.now()>=i.createTime+Gt?[2,Xt({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Yt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,Lt(t)];case 1:return(n=i.sent())?[4,Kt(t,n.token)]:[3,4];case 2:return i.sent(),[4,Ut(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function Xt(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Vt(e,t)];case 1:return r=a.sent(),i=Object(l.__assign)(Object(l.__assign)({},t),{token:r,createTime:Date.now()}),[4,Ft(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Yt(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function $t(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,qt(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Ft(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Jt(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mt(e)})]}})})}function Zt(t){return"object"===typeof t&&!!t&&Tt in t}function te(t){return new Promise(function(e){setTimeout(e,t)})}var ee=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw wt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(l.__awaiter)(this,void 0,void 0,function(){var n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Lt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:_t,r.label=2;case 2:return[2,Qt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Yt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw wt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw wt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw wt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw wt.create("only-available-in-window")},t.prototype.onMessage=function(){throw wt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw wt.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,oe()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,ie(n,e)]:(r=!1,e.notification?[4,ae(ne(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,te(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(l.__awaiter)(this,void 0,void 0,function(){var r;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Yt(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Lt(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Yt(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Qt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:_t)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(l.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[St])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Zt(t.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,re(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,te(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=yt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},t}();function ne(t){var e,n=Object(l.__assign)({},t.notification);return n.data=((e={})[St]=t,e),n}function re(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return[4,oe()];case 1:e=u.sent();try{for(n=Object(l.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function ie(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=yt.PUSH_RECEIVED;try{for(var i=Object(l.__values)(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function oe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ae(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var se=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===yt.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Zt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw wt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Qt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=_t),[2]})})},t.prototype.updateSwReg=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw wt.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(l.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),wt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Yt(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t;return Object(l.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?wt.create("permission-blocked"):wt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw wt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw wt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw wt.create("invalid-sw-registration");if(this.swRegistration)throw wt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw wt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw wt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case yt.NOTIFICATION_CLICKED:return"notification_open";case yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[Tt],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function ue(t){return wt.create("missing-app-config-values",{valueName:t})}var ce={isSupported:he};function he(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.default.INTERNAL.registerComponent(new s.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw ue("App Configuration Object");if(!t.name)throw ue("App Name");var r=t.options;try{for(var i=Object(l.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw ue(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!he())throw wt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ee(n):new se(n)},"PUBLIC").setServiceProps(ce));n(78);var le,fe,de,pe="@firebase/performance",me="0.4.18",ve=me,ge="FB-PERF-TRACE-START",ye="FB-PERF-TRACE-STOP",be="FB-PERF-TRACE-MEASURE",we="_wt_",_e="@firebase/performance/config",Ee="@firebase/performance/configexpire",Se=((le={})["trace started"]="Trace {$traceName} was started before.",le["trace stopped"]="Trace {$traceName} is not running.",le["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",le["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",le["no window"]="Window is not available.",le["no app id"]="App id is not available.",le["no project id"]="Project id is not available.",le["no api key"]="Api key is not available.",le["invalid cc log"]="Attempted to queue invalid cc event",le["FB not default"]="Performance can only start when Firebase app instance is the default one.",le["RC response not ok"]="RC response is not ok",le["invalid attribute name"]="Attribute name {$attributeName} is invalid.",le["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",le["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",le["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",le),Te=new u.ErrorFactory("performance","Performance",Se),Ie=new c.Logger("Performance");Ie.logLevel=c.LogLevel.INFO;var Me,ke=function(){function t(t){if(this.window=t,!t)throw Te.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(u.isIndexedDBAvailable)()||(Ie.info("IndexedDB is not supported by current browswer"),!1):(Ie.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===fe&&(fe=new t(de)),fe},t}();function Ce(t,e){var n=t.length-e.length;if(n<0||n>1)throw Te.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var Ae,Oe,Re=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ce("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ce("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Te.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Te.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Te.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Me&&(Me=new t),Me},t}();function Ne(){return Ae}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Oe||(Oe={}));var xe=["firebase_","google_","ga_"],Pe=new RegExp("^[a-zA-Z]\\w*$"),De=40,je=100;function Le(){var t=ke.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Fe(){switch(ke.getInstance().document.visibilityState){case"visible":return Oe.VISIBLE;case"hidden":return Oe.HIDDEN;default:return Oe.UNKNOWN}}function Ue(){var t=ke.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Be="0.0.1",qe={loggingEnabled:!0},Ve="FIREBASE_INSTALLATIONS_AUTH";function Ke(t){var e=function(){var t=ke.getInstance().localStorage;if(!t)return;var e=t.getItem(Ee);if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem(_e);if(!r)return;try{var i=JSON.parse(r);return i}catch(o){return}}();return e?(We(e),Promise.resolve()):function(t){return function(){var t=Re.getInstance().installationsService.getToken();return t.then(function(t){}),t}().then(function(e){var n=Re.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Re.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Ve+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Re.getInstance().getAppId(),app_version:ve,sdk_version:Be})});return fetch(i).then(function(t){if(t.ok)return t.json();throw Te.create("RC response not ok")})}).catch(function(){Ie.info(ze)})}(t).then(We).then(function(t){return function(t){var e=ke.getInstance().localStorage;if(!t||!e)return;e.setItem(_e,JSON.stringify(t)),e.setItem(Ee,String(Date.now()+60*Re.getInstance().configTimeToLive*60*1e3))}(t)},function(){})}var ze="Could not fetch config, will use default configs";function We(t){if(!t)return t;var e=Re.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=qe.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=He(e.tracesSamplingRate),e.logNetworkAfterSampling=He(e.networkRequestsSamplingRate),t}function He(t){return Math.random()<=t}var Ge,Qe=1;function Ye(){return Qe=2,Ge=Ge||function(){var t=ke.getInstance().document;return new Promise(function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())}):e()})}().then(function(){return function(){var t=Re.getInstance().installationsService.getId();return t.then(function(t){Ae=t}),t}()}).then(function(t){return Ke(t)}).then(function(){return Xe()},function(){return Xe()})}function Xe(){Qe=3}var $e,Je=1e4,Ze=5500,tn=3,en=1e3,nn=tn,rn=[],on=!1;function an(t){setTimeout(function(){if(0!==nn)return rn.length?void function(){var t=rn.splice(0,en),e=t.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}});(function(t,e){return function(t){var e=Re.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||Ie.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=Je;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(rn=Object(l.__spreadArray)(Object(l.__spreadArray)([],e),rn),Ie.info("Retry transport request later.")),nn=tn,an(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Re.getInstance().logSource,log_event:e},t).catch(function(){rn=Object(l.__spreadArray)(Object(l.__spreadArray)([],t),rn),nn--,Ie.info("Tries left: "+nn+"."),an(Je)})}():an(Je)},t)}function sn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw Te.create("invalid cc log");rn=Object(l.__spreadArray)(Object(l.__spreadArray)([],rn),[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function un(t,e){$e||($e=sn(ln)),$e(t,e)}function cn(t){var e=Re.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&ke.getInstance().requiredApisAvailable()&&(t.isAuto&&Fe()!==Oe.VISIBLE||(3===Qe?hn(t):Ye().then(function(){return hn(t)},function(){return hn(t)})))}function hn(t){if(Ne()){var e=Re.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return un(t,1)},0)}}function ln(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:fn(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:fn(),trace_metric:e};return JSON.stringify(r)}(t)}function fn(){return{google_app_id:Re.getInstance().getAppId(),app_instance_id:Ne(),web_app_info:{sdk_version:ve,page_url:ke.getInstance().getUrl(),service_worker_status:Le(),visibility_state:Fe(),effective_connection_type:Ue()},application_process_state:0}}var dn=100,pn="_",mn=["_fp","_fcp","_fid"];var vn=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=ke.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=ge+"-"+this.randomId+"-"+this.name,this.traceStopMark=ye+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||be+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Te.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Te.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),cn(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Te.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Te.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(l.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}cn(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||n.length>dn||!(r&&r.startsWith(we)&&mn.indexOf(n)>-1)&&n.startsWith(pn))throw Te.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=function(t){var e=Math.floor(t);return e<t&&Ie.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>De)&&!xe.some(function(t){return n.startsWith(t)})&&!!n.match(Pe),i=function(t){return 0!==t.length&&t.length<=je}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Te.create("invalid attribute name",{attributeName:t});if(!i)throw Te.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(l.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=ke.getInstance().getUrl();if(i){var o=new t(we+i,!0),a=Math.floor(1e3*ke.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}cn(o)}},t.createUserTimingTrace=function(e){cn(new t(e,!1,e))},t}();function gn(t){var e=t;if(e&&void 0!==e.responseStart){var n=ke.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Re.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return un(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var yn=5e3;function bn(){Ne()&&(setTimeout(function(){return function(){var t=ke.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){vn.createOobTrace(e,n),r=void 0},yn);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),vn.createOobTrace(e,n,t))})}else vn.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=ke.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];gn(i)}t.setupObserver("resource",gn)}()},0),setTimeout(function(){return function(){for(var t=ke.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];wn(i)}t.setupObserver("measure",wn)}()},0))}function wn(t){var e=t.name;e.substring(0,be.length)!==be&&vn.createUserTimingTrace(e)}var _n=function(){function t(t){this.app=t,ke.getInstance().requiredApisAvailable()&&Object(u.validateIndexedDBOpenable)().then(function(t){t&&(on||(an(Ze),on=!0),Ye().then(bn,bn))}).catch(function(t){Ie.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new vn(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Re.getInstance().instrumentationEnabled},set:function(t){Re.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Re.getInstance().dataCollectionEnabled},set:function(t){Re.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),En="[DEFAULT]";!function(t){var e=function(t,e){if(t.name!==En)throw Te.create("FB not default");if("undefined"===typeof window)throw Te.create("no window");return function(t){de=t}(window),Re.getInstance().firebaseAppInstance=t,Re.getInstance().installationsService=e,new _n(t)};t.INTERNAL.registerComponent(new s.Component("performance",function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)},"PUBLIC")),t.registerVersion(pe,me)}(o.default);var Sn,Tn,In="firebase_id",Mn="origin",kn=6e4,Cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",An="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Sn||(Sn={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Tn||(Tn={}));var On,Rn=new c.Logger("@firebase/analytics");function Nn(t,e,n,r,i,o){return Object(l.__awaiter)(this,void 0,void 0,function(){var a,s,u,c;return Object(l.__generator)(this,function(h){switch(h.label){case 0:a=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=h.sent(),(u=s.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),Rn.error(c),[3,8];case 8:return t(Sn.CONFIG,i,o),[2]}})})}function xn(t,e,n,r,i){return Object(l.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,h,f,d;return Object(l.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=l.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=a;c<h.length&&(f=h[c],"break"!==u(f));c++);l.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return l.sent(),t(Sn.EVENT,r,i||{}),[3,5];case 4:return d=l.sent(),Rn.error(d),[3,5];case 5:return[2]}})})}function Pn(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Object(l.__awaiter)(this,void 0,void 0,function(){var s;return Object(l.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Sn.EVENT?[3,2]:[4,xn(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Sn.CONFIG?[3,4]:[4,Nn(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(Sn.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Rn.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var Dn=((On={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",On["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",On["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",On["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",On["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",On["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",On["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",On["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',On["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',On),jn=new u.ErrorFactory("analytics","Analytics",Dn),Ln=30,Fn=1e3,Un=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=Fn),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Bn(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function qn(t){var e;return Object(l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(l.__generator)(this,function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Bn(r)},o=Cn.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw jn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}})})}function Vn(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Un),Object(l.__awaiter)(this,void 0,void 0,function(){var e,a,s,c,h,f,d;return Object(l.__generator)(this,function(l){switch(l.label){case 0:e=t.appId,a=t.measurementId,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Kn(n,i)];case 2:return l.sent(),[3,4];case 3:if(s=l.sent(),a)return Rn.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return l.trys.push([4,6,,7]),[4,qn(t)];case 5:return c=l.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof u.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h=l.sent())){if(r.deleteThrottleMetadata(e),a)return Rn.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:a}];throw h}return f=503===Number(h.customData.httpStatus)?Object(u.calculateBackoffMillis)(o,r.intervalMillis,Ln):Object(u.calculateBackoffMillis)(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(e,d),Rn.debug("Calling attemptFetch again in "+f+" millis"),[2,Vn(t,d,n,r)];case 7:return[2]}})})}function Kn(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var zn=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}();function Wn(t,e,n,r,i,o){return Object(l.__awaiter)(this,void 0,void 0,function(){var a,s,c,h,f,d,p;return Object(l.__generator)(this,function(m){switch(m.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=Un),Object(l.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c=this;return Object(l.__generator)(this,function(h){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw jn.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw jn.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new zn,setTimeout(function(){return Object(l.__awaiter)(c,void 0,void 0,function(){return Object(l.__generator)(this,function(t){return u.abort(),[2]})})},void 0!==n?n:kn),[2,Vn({appId:i,apiKey:o,measurementId:a},s,u,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Rn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Rn.error(t)}),e.push(a),s=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t;return Object(l.__generator)(this,function(e){switch(e.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(Rn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Rn.warn(jn.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([a,s])];case 1:return c=m.sent(),h=c[0],f=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(An))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=An+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,h.measurementId),i("js",new Date),(p={})[Mn]="firebase",p.update=!0,d=p,null!=f&&(d[In]=f),i(Sn.CONFIG,h.measurementId,d),[2,h.measurementId]}})})}var Hn,Gn,Qn={},Yn=[],Xn={},$n="dataLayer",Jn="gtag",Zn=!1;function tr(t){if(Zn)throw jn.create("already-initialized");t.dataLayerName&&($n=t.dataLayerName),t.gtagName&&(Jn=t.gtagName)}function er(t,e){!function(){var t=[];if(Object(u.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});Rn.warn(n.message)}}();var n=t.options.appId;if(!n)throw jn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw jn.create("no-api-key");Rn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Qn[n])throw jn.create("already-exists",{id:n});if(!Zn){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}($n);var r=Pn(Qn,Yn,Xn,$n,Jn),i=r.wrappedGtag,o=r.gtagCore;Gn=i,Hn=o,Zn=!0}return Qn[n]=Wn(t,Yn,Xn,e,Hn,$n),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Object(l.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(l.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(Sn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(l.__assign)(Object(l.__assign)({},r),{send_to:o}),t(Sn.EVENT,n,a),s.label=3;case 3:return[2]}})})})(Gn,Qn[n],t,e,r).catch(function(t){return Rn.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(l.__awaiter)(this,void 0,void 0,function(){var i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Sn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Sn.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(Gn,Qn[n],t,e).catch(function(t){return Rn.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(l.__awaiter)(this,void 0,void 0,function(){var i;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Sn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Sn.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(Gn,Qn[n],t,e).catch(function(t){return Rn.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(l.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(Sn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Sn.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(Gn,Qn[n],t,e).catch(function(t){return Rn.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Qn[n],t).catch(function(t){return Rn.error(t)})},INTERNAL:{delete:function(){return delete Qn[n],Promise.resolve()}}}}var nr="@firebase/analytics",rr="0.6.18",ir="analytics";function or(){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(t){switch(t.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new s.Component(ir,function(t){return er(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:tr,EventName:Tn,isSupported:or})),t.INTERNAL.registerComponent(new s.Component("analytics-internal",function(t){try{var e=t.getProvider(ir).getImmediate();return{logEvent:e.logEvent}}catch(r){throw jn.create("interop-component-reg-failed",{reason:r})}},"PRIVATE")),t.registerVersion(nr,rr)}(o.default);var ar,sr=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),ur=((ar={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ar["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ar["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ar["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ar["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ar["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ar["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ar["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ar["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ar["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ar["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ar["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ar["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ar),cr=new u.ErrorFactory("remoteconfig","Remote Config",ur);var hr=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,h,f,d,p,m,v,g,y,b,w;return Object(l.__generator)(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=l.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),h=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,Promise.race([c,h])];case 3:return l.sent(),[4,c];case 4:return f=l.sent(),[3,6];case 5:throw d=l.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),cr.create(p,{originalErrorMessage:d.message});case 6:if(m=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,l.label=7;case 7:return l.trys.push([7,9,,10]),[4,f.json()];case 8:return b=l.sent(),[3,10];case 9:throw w=l.sent(),cr.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:g=b.entries,y=b.state,l.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==m&&200!==m)throw cr.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:v,config:g}]}var _})})},t}(),lr=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),fr="",dr=["1","true","t","yes","y","on"],pr=function(){function t(t,e){void 0===e&&(e=fr),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&dr.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),mr=6e4,vr=432e5,gr=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:mr,minimumFetchIntervalMillis:vr},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=c.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=c.LogLevel.SILENT;break;default:this._logger.logLevel=c.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,e,n;return Object(l.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(l.__generator)(this,function(i){switch(i.label){case 0:t=new lr,setTimeout(function(){return Object(l.__awaiter)(r,void 0,void 0,function(){return Object(l.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),a="fetch-throttle",n=(o=e)instanceof u.FirebaseError&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,a})})},t.prototype.fetchAndActivate=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){return Object(l.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(l.__assign)(Object(l.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,n){return e[n]=t.getValue(n),e},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new pr("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new pr("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new pr("static"))},t}();function yr(t,e){var n=t.target.error||void 0;return cr.create(e,{originalErrorMessage:n&&n.message})}var br="app_namespace_store",wr="firebase_remote_config",_r=1;var Er=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open(wr,_r);n.onerror=function(t){e(yr(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(br,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,o){var a=e.transaction([br],"readonly").objectStore(br),s=n.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(t){o(yr(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(r){o(cr.create("storage-get",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.set=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(l.__generator)(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise(function(o,a){var s=n.transaction([br],"readwrite").objectStore(br),u=i.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:e});c.onerror=function(t){a(yr(t,"storage-set"))},c.onsuccess=function(){o()}}catch(r){a(cr.create("storage-set",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.delete=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(l.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,o){var a=e.transaction([br],"readwrite").objectStore(br),s=n.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(t){o(yr(t,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(cr.create("storage-delete",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Sr=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Tr(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Ir,Mr=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(l.__awaiter)(this,void 0,void 0,function(){var e;return Object(l.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(l.__awaiter)(this,void 0,void 0,function(){var e,i,o;return Object(l.__generator)(this,function(a){switch(a.label){case 0:return[4,Tr(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof u.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(u.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),kr="@firebase/remote-config",Cr="0.1.43";(Ir=o.default).INTERNAL.registerComponent(new s.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw cr.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw cr.create("registration-project-id");if(!s)throw cr.create("registration-api-key");if(!u)throw cr.create("registration-app-id");n=n||"firebase";var h=new Er(u,r.name,n),l=new Sr(h),f=new c.Logger(kr);f.logLevel=c.LogLevel.ERROR;var d=new hr(i,Ir.SDK_VERSION,n,a,s,u),p=new Mr(d,h),m=new sr(p,h,l,f),v=new gr(r,m,l,h,f);return v.ensureInitialized(),v},"PUBLIC").setMultipleInstances(!0)),Ir.registerVersion(kr,Cr);n(167);n.d(e,"a",function(){return o.default});o.default.registerVersion("firebase","8.10.1","app"),o.default.SDK_VERSION="8.10.1";console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","8.10.1")},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}n.d(e,"a",function(){return i})},,function(t,e,n){"use strict";var r=n(75),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var l=Symbol.for;i=l("react.element"),o=l("react.portal"),e.Fragment=l("react.fragment"),e.StrictMode=l("react.strict_mode"),e.Profiler=l("react.profiler"),a=l("react.provider"),s=l("react.context"),u=l("react.forward_ref"),e.Suspense=l("react.suspense"),c=l("react.memo"),h=l("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function g(){}function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var I=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function k(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+M(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(I,"$&/")+"/"),k(a,e,n,"",function(t){return t})):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var h=r+M(s=t[c],c);u+=k(s,e,n,h,a)}else if("function"===typeof(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=h.call(t),c=0;!(s=t.next()).done;)u+=k(s=s.value,e,n,h=r+M(s,c++),a);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function C(t,e,n){if(null==t)return t;var r=[],i=0;return k(t,r,"","",function(t){return e.call(n,t,i++)}),r}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}if(1===t._status)return t._result;throw t._result}var O={current:null};function R(){var t=O.current;if(null===t)throw Error(d(321));return t}var N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:C,forEach:function(t,e,n){C(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return C(t,function(){e++}),e},toArray:function(t){return C(t,function(t){return t})||[]},only:function(t){if(!T(t))throw Error(d(143));return t}},e.Component=v,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(d(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)_.call(e,h)&&!E.hasOwnProperty(h)&&(o[h]=void 0===e[h]&&void 0!==c?c[h]:e[h])}var h=arguments.length-2;if(1===h)o.children=n;else if(1<h){c=Array(h);for(var l=0;l<h;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return R().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,n){return R().useReducer(t,e,n)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="17.0.2"},function(t,e,n){"use strict";var r=n(2),i=n(75),o=n(141);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){g[t]=new v(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];g[e]=new v(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){g[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){g[t]=new v(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){g[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){g[t]=new v(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){g[t]=new v(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){g[t]=new v(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){g[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(m,t)||!d.call(p,t)&&(f.test(t)?m[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y,b);g[e]=new v(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y,b);g[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y,b);g[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,T=60107,I=60108,M=60114,k=60109,C=60110,A=60112,O=60113,R=60120,N=60115,x=60116,P=60121,D=60128,j=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),T=U("react.fragment"),I=U("react.strict_mode"),M=U("react.profiler"),k=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),O=U("react.suspense"),R=U("react.suspense_list"),N=U("react.memo"),x=U("react.lazy"),P=U("react.block"),U("react.scope"),D=U("react.opaque.id"),j=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var B,q="function"===typeof Symbol&&Symbol.iterator;function V(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=q&&t[q]||t["@@iterator"])?t:null}function K(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var z=!1;function W(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?K(t):""}function H(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case T:return"Fragment";case S:return"Portal";case M:return"Profiler";case I:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case N:return G(t.type);case P:return G(t._render);case x:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function Q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Q(n)}}function ct(t,e){var n=Q(e.value),r=Q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ht(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var lt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,mt,vt=(mt=function(t,e){if(t.namespaceURI!==lt.svg||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return mt(t,e)})}:mt);function gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var yt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||yt.hasOwnProperty(t)&&yt[t]?(""+e).trim():e+"px"}function _t(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(yt).forEach(function(t){bt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yt[e]=yt[t]})});var Et=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Tt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function It(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Mt=null,kt=null,Ct=null;function At(t){if(t=$r(t)){if("function"!==typeof Mt)throw Error(a(280));var e=t.stateNode;e&&(e=Zr(e),Mt(t.stateNode,t.type,e))}}function Ot(t){kt?Ct?Ct.push(t):Ct=[t]:kt=t}function Rt(){if(kt){var t=kt,e=Ct;if(Ct=kt=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Nt(t,e){return t(e)}function xt(t,e,n,r,i){return t(e,n,r,i)}function Pt(){}var Dt=Nt,jt=!1,Lt=!1;function Ft(){null===kt&&null===Ct||(Pt(),Rt())}function Ut(t,e){var n=t.stateNode;if(null===n)return null;var r=Zr(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Bt=!1;if(l)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(mt){Bt=!1}var Vt=!1,Kt=null,zt=!1,Wt=null,Ht={onError:function(t){Vt=!0,Kt=t}};function Gt(t,e,n,r,i,o,a,s,u){Vt=!1,Kt=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}.apply(Ht,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Xt(t){if(Qt(t)!==t)throw Error(a(188))}function $t(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xt(i),t;if(o===r)return Xt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Jt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var Zt,te,ee,ne,re=!1,ie=[],oe=null,ae=null,se=null,ue=new Map,ce=new Map,he=[],le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function de(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":se=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function pe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=fe(e,n,r,i,o),null!==e&&(null!==(e=$r(e))&&te(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=Xr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Yt(n)))return t.blockedOn=e,void ne(t.lanePriority,function(){o.unstable_runWithPriority(t.priority,function(){ee(n)})})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=$r(n))&&te(e),t.blockedOn=n,!1;e.shift()}return!0}function ge(t,e,n){ve(t)&&n.delete(e)}function ye(){for(re=!1;0<ie.length;){var t=ie[0];if(null!==t.blockedOn){null!==(t=$r(t.blockedOn))&&Zt(t);break}for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ie.shift()}null!==oe&&ve(oe)&&(oe=null),null!==ae&&ve(ae)&&(ae=null),null!==se&&ve(se)&&(se=null),ue.forEach(ge),ce.forEach(ge)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,re||(re=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ye)))}function we(t){function e(e){return be(e,t)}if(0<ie.length){be(ie[0],t);for(var n=1;n<ie.length;n++){var r=ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==se&&be(se,t),ue.forEach(e),ce.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)me(n),null===n.blockedOn&&he.shift()}function _e(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ee={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionend:_e("Transition","TransitionEnd")},Se={},Te={};function Ie(t){if(Se[t])return Se[t];if(!Ee[t])return t;var e,n=Ee[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}l&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete Ee.animationend.animation,delete Ee.animationiteration.animation,delete Ee.animationstart.animation),"TransitionEvent"in window||delete Ee.transitionend.transition);var Me=Ie("animationend"),ke=Ie("animationiteration"),Ce=Ie("animationstart"),Ae=Ie("transitionend"),Oe=new Map,Re=new Map,Ne=["abort","abort",Me,"animationEnd",ke,"animationIteration",Ce,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ae,"transitionEnd","waiting","waiting"];function xe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),Oe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Pe=8;function De(t){if(0!==(1&t))return Pe=15,1;if(0!==(2&t))return Pe=14,2;if(0!==(4&t))return Pe=13,4;var e=24&t;return 0!==e?(Pe=12,e):0!==(32&t)?(Pe=11,32):0!==(e=192&t)?(Pe=10,e):0!==(256&t)?(Pe=9,256):0!==(e=3584&t)?(Pe=8,e):0!==(4096&t)?(Pe=7,4096):0!==(e=4186112&t)?(Pe=6,e):0!==(e=62914560&t)?(Pe=5,e):67108864&t?(Pe=4,67108864):0!==(134217728&t)?(Pe=3,134217728):0!==(e=805306368&t)?(Pe=2,e):0!==(1073741824&t)?(Pe=1,1073741824):(Pe=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Pe=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Pe=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=De(u),i=Pe):0!==(s&=o)&&(r=De(s),i=Pe)}else 0!==(o=n&~a)?(r=De(o),i=Pe):0!==s&&(r=De(s),i=Pe);if(0===r)return 0;if(r=n&((0>(r=31-Ve(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(De(e),i<=Pe)return e;Pe=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ve(e)),r|=t[n],e&=~i;return r}function Le(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Fe(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?Fe(10,e):t;case 10:return 0===(t=Ue(192&~e))?Fe(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&(0===(t=Ue(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function Be(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qe(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ve(e)]=n}var Ve=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ke(t)/ze|0)|0},Ke=Math.log,ze=Math.LN2;var We=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ge=!0;function Qe(t,e,n,r){jt||Pt();var i=Xe,o=jt;jt=!0;try{xt(i,t,e,n,r)}finally{(jt=o)||Ft()}}function Ye(t,e,n,r){He(We,Xe.bind(null,t,e,n,r))}function Xe(t,e,n,r){var i;if(Ge)if((i=0===(4&e))&&0<ie.length&&-1<le.indexOf(t))t=fe(null,t,e,n,r),ie.push(t);else{var o=$e(t,e,n,r);if(null===o)i&&de(t,r);else{if(i){if(-1<le.indexOf(t))return t=fe(o,t,e,n,r),void ie.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return oe=pe(oe,t,e,n,r,i),!0;case"dragenter":return ae=pe(ae,t,e,n,r,i),!0;case"mouseover":return se=pe(se,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,pe(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,pe(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;de(t,r)}Ar(t,e,r,null,n)}}}function $e(t,e,n,r){var i=It(r);if(null!==(i=Xr(i))){var o=Qt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Yt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ar(t,e,r,i,n),null}var Je=null,Ze=null,tn=null;function en(){if(tn)return tn;var t,e,n=Ze,r=n.length,i="value"in Je?Je.value:Je.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return tn=i.slice(t,1<e?1-e:void 0)}function nn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function an(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var sn,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(hn),fn=i({},hn,{view:0,detail:0}),dn=an(fn),pn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(sn=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=sn=0,cn=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:un}}),mn=an(pn),vn=an(i({},pn,{dataTransfer:0})),gn=an(i({},fn,{relatedTarget:0})),yn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=an(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function In(){return Tn}var Mn=an(i({},fn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=nn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(t){return"keypress"===t.type?nn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?nn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),kn=an(i({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=an(i({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Nn=l&&"CompositionEvent"in window,xn=null;l&&"documentMode"in document&&(xn=document.documentMode);var Pn=l&&"TextEvent"in window&&!xn,Dn=l&&(!Nn||xn&&8<xn&&11>=xn),jn=String.fromCharCode(32),Ln=!1;function Fn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function Kn(t,e,n,r){Ot(r),0<(e=Rr(e,"onChange")).length&&(n=new ln("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zn=null,Wn=null;function Hn(t){Sr(t,0)}function Gn(t){if($(Jr(t)))return t}function Qn(t,e){if("change"===t)return e}var Yn=!1;if(l){var Xn;if(l){var $n="oninput"in document;if(!$n){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),$n="function"===typeof Jn.oninput}Xn=$n}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function Zn(){zn&&(zn.detachEvent("onpropertychange",tr),Wn=zn=null)}function tr(t){if("value"===t.propertyName&&Gn(Wn)){var e=[];if(Kn(e,Wn,t,It(t)),t=Hn,jt)t(e);else{jt=!0;try{Nt(t,e)}finally{jt=!1,Ft()}}}}function er(t,e,n){"focusin"===t?(Zn(),Wn=n,(zn=e).attachEvent("onpropertychange",tr)):"focusout"===t&&Zn()}function nr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(Wn)}function rr(t,e){if("click"===t)return Gn(e)}function ir(t,e){if("input"===t||"change"===t)return Gn(e)}var or="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ar=Object.prototype.hasOwnProperty;function sr(t,e){if(or(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(e,n[r])||!or(t[n[r]],e[n[r]]))return!1;return!0}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=ur(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ur(r)}}function hr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var fr=l&&"documentMode"in document&&11>=document.documentMode,dr=null,pr=null,mr=null,vr=!1;function gr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==dr||dr!==J(r)||("selectionStart"in(r=dr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&sr(mr,r)||(mr=r,0<(r=Rr(pr,"onSelect")).length&&(e=new ln("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}xe("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),xe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),xe(Ne,2);for(var yr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),br=0;br<yr.length;br++)Re.set(yr[br],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Er(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Gt.apply(this,arguments),Vt){if(!Vt)throw Error(a(198));var h=Kt;Vt=!1,Kt=null,zt||(zt=!0,Wt=h)}}(r,e,void 0,t),t.currentTarget=null}function Sr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Er(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Er(i,s,c),o=u}}}if(zt)throw t=Wt,zt=!1,Wt=null,t}function Tr(t,e){var n=ti(e),r=t+"__bubble";n.has(r)||(Cr(e,t,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){t[Ir]||(t[Ir]=!0,s.forEach(function(e){_r.has(e)||kr(e,!1,t,null),kr(e,!0,t,null)}))}function kr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&_r.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ti(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Cr(o,t,i,e),a.add(s))}function Cr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Qe;break;case 1:i=Ye;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ar(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Xr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Lt)return t(e,n);Lt=!0;try{Dt(t,e,n)}finally{Lt=!1,Ft()}}(function(){var r=o,i=It(n),a=[];t:{var s=Oe.get(t);if(void 0!==s){var u=ln,c=t;switch(t){case"keypress":if(0===nn(n))break t;case"keydown":case"keyup":u=Mn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Me:case ke:case Ce:u=yn;break;case Ae:u=An;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var h=0!==(4&e),l=!h&&"scroll"===t,f=h?null!==s?s+"Capture":null:s;h=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Ut(p,f))&&h.push(Or(p,m,d)))),l)break;p=p.return}0<h.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[Qr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(l=Qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(h=mn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=kn,m="onPointerLeave",f="onPointerEnter",p="pointer"),l=null==u?s:Jr(u),d=null==c?s:Jr(c),(s=new h(m,p+"leave",u,n,i)).target=l,s.relatedTarget=d,m=null,Xr(i)===r&&((h=new h(f,p+"enter",c,n,i)).target=d,h.relatedTarget=l,m=h),l=m,u&&c)t:{for(f=c,p=0,d=h=u;d;d=Nr(d))p++;for(d=0,m=f;m;m=Nr(m))d++;for(;0<p-d;)h=Nr(h),p--;for(;0<d-p;)f=Nr(f),d--;for(;p--;){if(h===f||null!==f&&h===f.alternate)break t;h=Nr(h),f=Nr(f)}h=null}else h=null;null!==u&&xr(a,s,u,h,!1),null!==c&&null!==l&&xr(a,l,c,h,!0)}if("select"===(u=(s=r?Jr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(Vn(s))if(Yn)v=ir;else{v=nr;var g=er}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=rr);switch(v&&(v=v(t,r))?Kn(a,v,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?Jr(r):window,t){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(dr=g,pr=r,mr=null);break;case"focusout":mr=pr=dr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,gr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":gr(a,n,i)}var y;if(Nn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Fn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Ze="value"in(Je=i)?Je.value:Je.textContent,Bn=!0)),0<(g=Rr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Pn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Ln=!0,jn);case"textInput":return(t=e.data)===jn&&Ln?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Nn&&Fn(t,e)?(t=en(),tn=Ze=Je=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Sr(a,e)})}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ut(t,n))&&r.unshift(Or(t,o,i)),null!=(o=Ut(t,e))&&r.push(Or(t,o,i))),t=t.return}return r}function Nr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function xr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ut(n,o))&&a.unshift(Or(n,u,s)):i||null!=(u=Ut(n,o))&&a.push(Or(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Pr(){}var Dr=null,jr=null;function Lr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Fr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Ur="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function qr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Vr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var zr=0;var Wr=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Wr,Gr="__reactProps$"+Wr,Qr="__reactContainer$"+Wr,Yr="__reactEvents$"+Wr;function Xr(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[Hr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[Hr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function $r(t){return!(t=t[Hr]||t[Qr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Jr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Zr(t){return t[Gr]||null}function ti(t){var e=t[Yr];return void 0===e&&(e=t[Yr]=new Set),e}var ei=[],ni=-1;function ri(t){return{current:t}}function ii(t){0>ni||(t.current=ei[ni],ei[ni]=null,ni--)}function oi(t,e){ei[++ni]=t.current,t.current=e}var ai={},si=ri(ai),ui=ri(!1),ci=ai;function hi(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function li(t){return null!==(t=t.childContextTypes)&&void 0!==t}function fi(){ii(ui),ii(si)}function di(t,e,n){if(si.current!==ai)throw Error(a(168));oi(si,e),oi(ui,n)}function pi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,G(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,ci=si.current,oi(si,t),oi(ui,ui.current),!0}function vi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=pi(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,ii(ui),ii(si),oi(si,t)):ii(ui),oi(ui,n)}var gi=null,yi=null,bi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,_i=o.unstable_cancelCallback,Ei=o.unstable_shouldYield,Si=o.unstable_requestPaint,Ti=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,Ci=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Ri={},Ni=void 0!==Si?Si:function(){},xi=null,Pi=null,Di=!1,ji=Ti(),Li=1e4>ji?Ti:function(){return Ti()-ji};function Fi(){switch(Ii()){case Mi:return 99;case ki:return 98;case Ci:return 97;case Ai:return 96;case Oi:return 95;default:throw Error(a(332))}}function Ui(t){switch(t){case 99:return Mi;case 98:return ki;case 97:return Ci;case 96:return Ai;case 95:return Oi;default:throw Error(a(332))}}function Bi(t,e){return t=Ui(t),bi(t,e)}function qi(t,e,n){return t=Ui(t),wi(t,e,n)}function Vi(){if(null!==Pi){var t=Pi;Pi=null,_i(t)}Ki()}function Ki(){if(!Di&&null!==xi){Di=!0;var t=0;try{var e=xi;Bi(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),xi=null}catch(n){throw null!==xi&&(xi=xi.slice(t+1)),wi(Mi,Vi),n}finally{Di=!1}}}var zi=_.ReactCurrentBatchConfig;function Wi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Hi=ri(null),Gi=null,Qi=null,Yi=null;function Xi(){Yi=Qi=Gi=null}function $i(t){var e=Hi.current;ii(Hi),t.type._context._currentValue=e}function Ji(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function Zi(t,e){Gi=t,Yi=Qi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Oa=!0),t.firstContext=null)}function to(t,e){if(Yi!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Yi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Qi){if(null===Gi)throw Error(a(308));Qi=e,Gi.dependencies={lanes:0,firstContext:e,responders:null}}else Qi=Qi.next=e;return t._currentValue}var eo=!1;function no(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ro(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ao(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function so(t,e,n,r){var o=t.updateQueue;eo=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,h=c.next;c.next=null,null===s?a=h:s.next=h,s=c;var l=t.alternate;if(null!==l){var f=(l=l.updateQueue).lastBaseUpdate;f!==s&&(null===f?l.firstBaseUpdate=h:f.next=h,l.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,l=h=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==l&&(l=l.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(u=e,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,u);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,f,u):p)||void 0===u)break t;f=i({},f,u);break t;case 2:eo=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(h=l=d,c=f):l=l.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===l&&(c=f),o.baseState=c,o.firstBaseUpdate=h,o.lastBaseUpdate=l,xs|=s,t.lanes=s,t.memoizedState=f}}function uo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var co=(new r.Component).refs;function ho(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var lo={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=iu(),i=ou(t),o=io(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),oo(t,o),au(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=iu(),i=ou(t),o=io(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),oo(t,o),au(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=iu(),r=ou(t),i=io(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),oo(t,i),au(t,r,n)}};function fo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function po(t,e,n){var r=!1,i=ai,o=e.contextType;return"object"===typeof o&&null!==o?o=to(o):(i=li(e)?ci:si.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?hi(t,i):ai),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=lo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lo.enqueueReplaceState(e,e.state,null)}function vo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=co,no(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=to(o):(o=li(e)?ci:si.current,i.context=hi(t,o)),so(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ho(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&lo.enqueueReplaceState(i,i.state,null),so(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var go=Array.isArray;function yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===co&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function bo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Du(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Uu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=yo(t,e,n),r.return=t,r):((r=ju(n.type,n.key,n.props,null,t.mode,r)).ref=yo(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function l(t,e,n,r,o){return null===e||7!==e.tag?((e=Lu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Uu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case E:return(n=ju(e.type,e.key,e.props,null,t.mode,n)).ref=yo(t,null,e),n.return=t,n;case S:return(e=Bu(e,t.mode,n)).return=t,e}if(go(e)||V(e))return(e=Lu(e,t.mode,n,null)).return=t,e;bo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?l(t,e,n.props.children,r,i):c(t,e,n,r):null;case S:return n.key===i?h(t,e,n,r):null}if(go(n)||V(n))return null!==i?null:l(t,e,n,r,null);bo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===T?l(e,t,r.props.children,i,r.key):c(e,t,r,i);case S:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(go(r)||V(r))return l(e,t=t.get(n)||null,r,i,null);bo(e,r)}return null}function m(i,a,s,u){for(var c=null,h=null,l=a,m=a=0,v=null;null!==l&&m<s.length;m++){l.index>m?(v=l,l=null):v=l.sibling;var g=d(i,l,s[m],u);if(null===g){null===l&&(l=v);break}t&&l&&null===g.alternate&&e(i,l),a=o(g,a,m),null===h?c=g:h.sibling=g,h=g,l=v}if(m===s.length)return n(i,l),c;if(null===l){for(;m<s.length;m++)null!==(l=f(i,s[m],u))&&(a=o(l,a,m),null===h?c=l:h.sibling=l,h=l);return c}for(l=r(i,l);m<s.length;m++)null!==(v=p(l,i,m,s[m],u))&&(t&&null!==v.alternate&&l.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return t&&l.forEach(function(t){return e(i,t)}),c}function v(i,s,u,c){var h=V(u);if("function"!==typeof h)throw Error(a(150));if(null==(u=h.call(u)))throw Error(a(151));for(var l=h=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=g);break}t&&m&&null===b.alternate&&e(i,m),s=o(b,s,v),null===l?h=b:l.sibling=b,l=b,m=g}if(y.done)return n(i,m),h;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,v),null===l?h=y:l.sibling=y,l=y);return h}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===l?h=y:l.sibling=y,l=y);return t&&m.forEach(function(t){return e(i,t)}),h}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case E:t:{for(h=o.key,c=r;null!==c;){if(c.key===h){switch(c.tag){case 7:if(o.type===T){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=yo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===T?((r=Lu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=ju(o.type,o.key,o.props,null,t.mode,u)).ref=yo(t,r,o),u.return=t,t=u)}return s(t);case S:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Bu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Uu(o,t.mode,u)).return=t,t=r),s(t);if(go(o))return m(t,r,o,u);if(V(o))return v(t,r,o,u);if(h&&bo(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(t.type)||"Component"))}return n(t,r)}}var _o=wo(!0),Eo=wo(!1),So={},To=ri(So),Io=ri(So),Mo=ri(So);function ko(t){if(t===So)throw Error(a(174));return t}function Co(t,e){switch(oi(Mo,e),oi(Io,t),oi(To,So),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ii(To),oi(To,e)}function Ao(){ii(To),ii(Io),ii(Mo)}function Oo(t){ko(Mo.current);var e=ko(To.current),n=dt(e,t.type);e!==n&&(oi(Io,t),oi(To,n))}function Ro(t){Io.current===t&&(ii(To),ii(Io))}var No=ri(0);function xo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Po=null,Do=null,jo=!1;function Lo(t,e){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Fo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Uo(t){if(jo){var e=Do;if(e){var n=e;if(!Fo(t,e)){if(!(e=Vr(n.nextSibling))||!Fo(t,e))return t.flags=-1025&t.flags|2,jo=!1,void(Po=t);Lo(Po,n)}Po=t,Do=Vr(e.firstChild)}else t.flags=-1025&t.flags|2,jo=!1,Po=t}}function Bo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Po=t}function qo(t){if(t!==Po)return!1;if(!jo)return Bo(t),jo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Fr(e,t.memoizedProps))for(e=Do;e;)Lo(t,e),e=Vr(e.nextSibling);if(Bo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Do=Vr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Do=null}}else Do=Po?Vr(t.stateNode.nextSibling):null;return!0}function Vo(){Do=Po=null,jo=!1}var Ko=[];function zo(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var Wo=_.ReactCurrentDispatcher,Ho=_.ReactCurrentBatchConfig,Go=0,Qo=null,Yo=null,Xo=null,$o=!1,Jo=!1;function Zo(){throw Error(a(321))}function ta(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function ea(t,e,n,r,i,o){if(Go=o,Qo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wo.current=null===t||null===t.memoizedState?Ma:ka,t=n(r,i),Jo){o=0;do{if(Jo=!1,!(25>o))throw Error(a(301));o+=1,Xo=Yo=null,e.updateQueue=null,Wo.current=Ca,t=n(r,i)}while(Jo)}if(Wo.current=Ia,e=null!==Yo&&null!==Yo.next,Go=0,Xo=Yo=Qo=null,$o=!1,e)throw Error(a(300));return t}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Qo.memoizedState=Xo=t:Xo=Xo.next=t,Xo}function ra(){if(null===Yo){var t=Qo.alternate;t=null!==t?t.memoizedState:null}else t=Yo.next;var e=null===Xo?Qo.memoizedState:Xo.next;if(null!==e)Xo=e,Yo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Yo=t).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?Qo.memoizedState=Xo=t:Xo=Xo.next=t}return Xo}function ia(t,e){return"function"===typeof e?e(t):e}function oa(t){var e=ra(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var h=c.lane;if((Go&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var l={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=l,o=r):u=u.next=l,Qo.lanes|=h,xs|=h}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,or(r,e.memoizedState)||(Oa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function aa(t){var e=ra(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);or(o,e.memoizedState)||(Oa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function sa(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Go&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function ua(t,e,n,r){var i=Is;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Wo.current,c=u.useState(function(){return sa(i,e,n)}),h=c[1],l=c[0];c=Xo;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var v=Qo;return t.memoizedState={refs:d,source:e,subscribe:r},u.useEffect(function(){d.getSnapshot=n,d.setSnapshot=h;var t=o(e._source);if(!or(s,t)){t=n(e._source),or(l,t)||(h(t),t=ou(v),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-Ve(a),c=1<<u;r[u]|=t,a&=~c}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=ou(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n(function(){throw o})}})},[e,r]),or(p,n)&&or(m,e)&&or(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:l}).dispatch=h=Ta.bind(null,Qo,t),c.queue=t,c.baseQueue=null,l=sa(i,e,n),c.memoizedState=c.baseState=l),l}function ca(t,e,n){return ua(ra(),t,e,n)}function ha(t){var e=na();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t}).dispatch=Ta.bind(null,Qo,t),[e.memoizedState,t]}function la(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Qo.updateQueue)?(e={lastEffect:null},Qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function fa(t){return t={current:t},na().memoizedState=t}function da(){return ra().memoizedState}function pa(t,e,n,r){var i=na();Qo.flags|=t,i.memoizedState=la(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=ra();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var a=Yo.memoizedState;if(o=a.destroy,null!==r&&ta(r,a.deps))return void la(e,n,o,r)}Qo.flags|=t,i.memoizedState=la(1|e,n,o,r)}function va(t,e){return pa(516,4,t,e)}function ga(t,e){return ma(516,4,t,e)}function ya(t,e){return ma(4,2,t,e)}function ba(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function wa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,ba.bind(null,e,t),n)}function _a(){}function Ea(t,e){var n=ra();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ta(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sa(t,e){var n=ra();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ta(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ta(t,e,n){var r=iu(),i=ou(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Qo||null!==a&&a===Qo)Jo=$o=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,or(u,s))return}catch(c){}au(t,i,r)}}var Ia={readContext:to,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useMutableSource:Zo,useOpaqueIdentifier:Zo,unstable_isNewReconciler:!1},Ma={readContext:to,useCallback:function(t,e){return na().memoizedState=[t,void 0===e?null:e],t},useContext:to,useEffect:va,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,pa(4,2,ba.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pa(4,2,t,e)},useMemo:function(t,e){var n=na();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=na();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ta.bind(null,Qo,t),[r.memoizedState,t]},useRef:fa,useState:ha,useDebugValue:_a,useDeferredValue:function(t){var e=ha(t),n=e[0],r=e[1];return va(function(){var e=Ho.transition;Ho.transition=1;try{r(t)}finally{Ho.transition=e}},[t]),n},useTransition:function(){var t=ha(!1),e=t[0];return fa(t=function(t,e){var n=Fi();Bi(98>n?98:n,function(){t(!0)}),Bi(97<n?97:n,function(){var n=Ho.transition;Ho.transition=1;try{t(!1),e()}finally{Ho.transition=n}})}.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=na();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ua(r,t,e,n)},useOpaqueIdentifier:function(){if(jo){var t=!1,e=function(t){return{$$typeof:D,toString:t,valueOf:t}}(function(){throw t||(t=!0,n("r:"+(zr++).toString(36))),Error(a(355))}),n=ha(e)[1];return 0===(2&Qo.mode)&&(Qo.flags|=516,la(5,function(){n("r:"+(zr++).toString(36))},void 0,null)),e}return ha(e="r:"+(zr++).toString(36)),e},unstable_isNewReconciler:!1},ka={readContext:to,useCallback:Ea,useContext:to,useEffect:ga,useImperativeHandle:wa,useLayoutEffect:ya,useMemo:Sa,useReducer:oa,useRef:da,useState:function(){return oa(ia)},useDebugValue:_a,useDeferredValue:function(t){var e=oa(ia),n=e[0],r=e[1];return ga(function(){var e=Ho.transition;Ho.transition=1;try{r(t)}finally{Ho.transition=e}},[t]),n},useTransition:function(){var t=oa(ia)[0];return[da().current,t]},useMutableSource:ca,useOpaqueIdentifier:function(){return oa(ia)[0]},unstable_isNewReconciler:!1},Ca={readContext:to,useCallback:Ea,useContext:to,useEffect:ga,useImperativeHandle:wa,useLayoutEffect:ya,useMemo:Sa,useReducer:aa,useRef:da,useState:function(){return aa(ia)},useDebugValue:_a,useDeferredValue:function(t){var e=aa(ia),n=e[0],r=e[1];return ga(function(){var e=Ho.transition;Ho.transition=1;try{r(t)}finally{Ho.transition=e}},[t]),n},useTransition:function(){var t=aa(ia)[0];return[da().current,t]},useMutableSource:ca,useOpaqueIdentifier:function(){return aa(ia)[0]},unstable_isNewReconciler:!1},Aa=_.ReactCurrentOwner,Oa=!1;function Ra(t,e,n,r){e.child=null===t?Eo(e,null,n,r):_o(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return Zi(e,i),r=ea(t,e,n,r,o,i),null===t||Oa?(e.flags|=1,Ra(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Za(t,e,i))}function xa(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Pu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ju(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Pa(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:sr)(i,r)&&t.ref===e.ref)?Za(t,e,o):(e.flags|=1,(t=Du(a,r)).ref=e.ref,t.return=e,e.child=t)}function Pa(t,e,n,r,i,o){if(null!==t&&sr(t.memoizedProps,r)&&t.ref===e.ref){if(Oa=!1,0===(o&i))return e.lanes=t.lanes,Za(t,e,o);0!==(16384&t.flags)&&(Oa=!0)}return La(t,e,n,r,o)}function Da(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},du(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},du(e,t),null;e.memoizedState={baseLanes:0},du(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,du(e,r);return Ra(t,e,i,n),e.child}function ja(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function La(t,e,n,r,i){var o=li(n)?ci:si.current;return o=hi(e,o),Zi(e,i),n=ea(t,e,n,r,o,i),null===t||Oa?(e.flags|=1,Ra(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Za(t,e,i))}function Fa(t,e,n,r,i){if(li(n)){var o=!0;mi(e)}else o=!1;if(Zi(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),po(e,n,r),vo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=to(c):c=hi(e,c=li(n)?ci:si.current);var h=n.getDerivedStateFromProps,l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;l||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(e,a,r,c),eo=!1;var f=e.memoizedState;a.state=f,so(e,r,a,i),u=e.memoizedState,s!==r||f!==u||ui.current||eo?("function"===typeof h&&(ho(e,n,h,r),u=e.memoizedState),(s=eo||fo(e,n,s,r,f,u,c))?(l||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ro(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Wi(e.type,s),a.props=c,l=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=to(u):u=hi(e,u=li(n)?ci:si.current);var d=n.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==l||f!==u)&&mo(e,a,r,u),eo=!1,f=e.memoizedState,a.state=f,so(e,r,a,i);var p=e.memoizedState;s!==l||f!==p||ui.current||eo?("function"===typeof d&&(ho(e,n,d,r),p=e.memoizedState),(c=eo||fo(e,n,c,r,f,p,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ua(t,e,n,r,o,i)}function Ua(t,e,n,r,i,o){ja(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&vi(e,n,!1),Za(t,e,o);r=e.stateNode,Aa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=_o(e,t.child,null,o),e.child=_o(e,null,s,o)):Ra(t,e,s,o),e.memoizedState=r.state,i&&vi(e,n,!0),e.child}function Ba(t){var e=t.stateNode;e.pendingContext?di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&di(0,e.context,!1),Co(t,e.containerInfo)}var qa,Va,Ka,za,Wa={dehydrated:null,retryLane:0};function Ha(t,e,n){var r,i=e.pendingProps,o=No.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),oi(No,1&o),null===t?(void 0!==i.fallback&&Uo(e),t=i.children,o=i.fallback,a?(t=Ga(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Wa,t):"number"===typeof i.unstable_expectedLoadTime?(t=Ga(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Wa,e.lanes=33554432,t):((n=Fu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ya(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Wa,i):(n=Qa(t,e,i.children,n),e.memoizedState=null,n))}function Ga(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Fu(e,i,0,null),n=Lu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Qa(t,e,n,r){var i=t.child;return t=i.sibling,n=Du(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ya(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Du(a,s),null!==t?r=Du(t,r):(r=Lu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Xa(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Ji(t.return,e)}function $a(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(t,e,r.children,n),0!==(2&(r=No.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Xa(t,n);else if(19===t.tag)Xa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oi(No,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===xo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$a(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===xo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$a(e,!0,n,null,o,e.lastEffect);break;case"together":$a(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Za(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),xs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Du(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Du(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ts(t,e){if(!jo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function es(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return li(e.type)&&fi(),null;case 3:return Ao(),ii(ui),ii(si),zo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(qo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Va(e),null;case 5:Ro(e);var o=ko(Mo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=ko(To.current),qo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hr]=e,r[Gr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(t=0;t<wr.length;t++)Tr(wr[t],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":tt(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ut(r,s),Tr("invalid",r)}for(var c in St(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":X(r),rt(r,s,!0);break;case"textarea":X(r),ht(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Pr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===lt.html&&(t=ft(n)),t===lt.html?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Hr]=e,t[Gr]=r,qa(t,e,!1,!1),e.stateNode=t,c=Tt(n,r),n){case"dialog":Tr("cancel",t),Tr("close",t),o=r;break;case"iframe":case"object":case"embed":Tr("load",t),o=r;break;case"video":case"audio":for(o=0;o<wr.length;o++)Tr(wr[o],t);o=r;break;case"source":Tr("error",t),o=r;break;case"img":case"image":case"link":Tr("error",t),Tr("load",t),o=r;break;case"details":Tr("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Tr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Tr("invalid",t);break;default:o=r}St(n,o);var h=o;for(s in h)if(h.hasOwnProperty(s)){var l=h[s];"style"===s?_t(t,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&vt(t,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&gt(t,l):"number"===typeof l&&gt(t,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Tr("scroll",t):null!=l&&w(t,s,l,c))}switch(n){case"input":X(t),rt(t,r,!1);break;case"textarea":X(t),ht(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Pr)}Lr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)za(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=ko(Mo.current),ko(To.current),qo(e)?(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Hr]=e,e.stateNode=r)}return null;case 13:return ii(No),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&qo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&No.current)?0===Os&&(Os=3):(0!==Os&&3!==Os||(Os=4),null===Is||0===(134217727&xs)&&0===(134217727&Ps)||cu(Is,ks))),(r||n)&&(e.flags|=4),null);case 4:return Ao(),Va(e),null===t&&Mr(e.stateNode.containerInfo),null;case 10:return $i(e),null;case 17:return li(e.type)&&fi(),null;case 19:if(ii(No),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)ts(r,!1);else{if(0!==Os||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=xo(t))){for(e.flags|=64,ts(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oi(No,1&No.current|2),e.child}t=t.sibling}null!==r.tail&&Li()>Fs&&(e.flags|=64,s=!0,ts(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=xo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!jo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Li()-r.renderingStartTime>Fs&&1073741824!==n&&(e.flags|=64,s=!0,ts(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Li(),n.sibling=null,e=No.current,oi(No,s?1&e|2:1&e),n):null;case 23:case 24:return pu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function ns(t){switch(t.tag){case 1:li(t.type)&&fi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Ao(),ii(ui),ii(si),zo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Ro(t),null;case 13:return ii(No),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ii(No),null;case 4:return Ao(),null;case 10:return $i(t),null;case 23:case 24:return pu(),null;default:return null}}function rs(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function is(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,ko(To.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Pr)}for(l in St(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var c=o[l];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var h=r[l];if(c=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&h!==c&&(null!=h||null!=c))if("style"===l)if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(l,n)),n=h;else"dangerouslySetInnerHTML"===l?(h=h?h.__html:void 0,c=c?c.__html:void 0,null!=h&&c!==h&&(s=s||[]).push(l,h)):"children"===l?"string"!==typeof h&&"number"!==typeof h||(s=s||[]).push(l,""+h):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=h&&"onScroll"===l&&Tr("scroll",t),s||c===h||(s=[])):"object"===typeof h&&null!==h&&h.$$typeof===D?h.toString():(s=s||[]).push(l,h))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}},za=function(t,e,n,r){n!==r&&(e.flags|=4)};var os="function"===typeof WeakMap?WeakMap:Map;function as(t,e,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vs||(Vs=!0,Ks=r),is(0,e)},n}function ss(t,e,n){(n=io(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return is(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this),is(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var us="function"===typeof WeakSet?WeakSet:Set;function cs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ou(t,n)}else e.current=null}function hs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Wi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&qr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ls(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ku(n,t),Mu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Wi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&uo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}uo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Lr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(t,e){if(yi&&"function"===typeof yi.onCommitFiberUnmount)try{yi.onCommitFiberUnmount(gi,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ku(e,n);else{r=e;try{i()}catch(o){Ou(r,o)}}n=n.next}while(n!==t)}break;case 1:if(cs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Ou(e,o)}break;case 5:cs(e);break;case 4:gs(t,e)}}function ps(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function vs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(gt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=Pr));else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function gs(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ys(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Gr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Tt(t,i),e=Tt(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_t(n,u):"dangerouslySetInnerHTML"===s?vt(n,u):"children"===s?gt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Ls=Li(),fs(e.child,!0)),void bs(e);case 19:return void bs(e);case 17:return;case 23:case 24:return void fs(e,null!==e.memoizedState)}throw Error(a(163))}function bs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new us),e.forEach(function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Fi()?1:2:(0===tu&&(tu=Ns),0===(e=Ue(62914560&~tu))&&(e=4194304))),n=iu(),null!==(t=su(t,e))&&(qe(t,e,n),uu(t,n))}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}function ws(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var _s=Math.ceil,Es=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,Ts=0,Is=null,Ms=null,ks=0,Cs=0,As=ri(0),Os=0,Rs=null,Ns=0,xs=0,Ps=0,Ds=0,js=null,Ls=0,Fs=1/0;function Us(){Fs=Li()+500}var Bs,qs=null,Vs=!1,Ks=null,zs=null,Ws=!1,Hs=null,Gs=90,Qs=[],Ys=[],Xs=null,$s=0,Js=null,Zs=-1,tu=0,eu=0,nu=null,ru=!1;function iu(){return 0!==(48&Ts)?Li():-1!==Zs?Zs:Zs=Li()}function ou(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Fi()?1:2;if(0===tu&&(tu=Ns),0!==zi.transition){0!==eu&&(eu=null!==js?js.pendingLanes:0),t=tu;var e=4186112&~eu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Fi(),0!==(4&Ts)&&98===t?t=Fe(12,tu):t=Fe(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),tu),t}function au(t,e,n){if(50<$s)throw $s=0,Js=null,Error(a(185));if(null===(t=su(t,e)))return null;qe(t,e,n),t===Is&&(Ps|=e,4===Os&&cu(t,ks));var r=Fi();1===e?0!==(8&Ts)&&0===(48&Ts)?hu(t):(uu(t,n),0===Ts&&(Us(),Vi())):(0===(4&Ts)||98!==r&&99!==r||(null===Xs?Xs=new Set([t]):Xs.add(t)),uu(t,n)),js=t}function su(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function uu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ve(s),c=1<<u,h=o[u];if(-1===h){if(0===(c&r)||0!==(c&i)){h=e,De(c);var l=Pe;o[u]=10<=l?h+250:6<=l?h+5e3:-1}}else h<=e&&(t.expiredLanes|=c);s&=~c}if(r=je(t,t===Is?ks:0),e=Pe,0===r)null!==n&&(n!==Ri&&_i(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ri&&_i(n)}15===e?(n=hu.bind(null,t),null===xi?(xi=[n],Pi=wi(Mi,Ki)):xi.push(n),n=Ri):14===e?n=qi(99,hu.bind(null,t)):n=qi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),function t(e){Zs=-1;eu=tu=0;if(0!==(48&Ts))throw Error(a(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=je(e,e===Is?ks:0);if(0===r)return null;var i=r;var o=Ts;Ts|=16;var s=gu();Is===e&&ks===i||(Us(),mu(e,i));for(;;)try{wu();break}catch(u){vu(e,u)}Xi();Es.current=s;Ts=o;null!==Ms?i=0:(Is=null,ks=0,i=Os);if(0!==(Ns&Ps))mu(e,0);else if(0!==i){if(2===i&&(Ts|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(r=Le(e))&&(i=yu(e,r))),1===i)throw n=Rs,mu(e,0),cu(e,r),uu(e,Li()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,i){case 0:case 1:throw Error(a(345));case 2:Su(e);break;case 3:if(cu(e,r),(62914560&r)===r&&10<(i=Ls+500-Li())){if(0!==je(e,0))break;if(((o=e.suspendedLanes)&r)!==r){iu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ur(Su.bind(null,e),i);break}Su(e);break;case 4:if(cu(e,r),(4186112&r)===r)break;for(i=e.eventTimes,o=-1;0<r;){var c=31-Ve(r);s=1<<c,(c=i[c])>o&&(o=c),r&=~s}if(r=o,10<(r=(120>(r=Li()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=Ur(Su.bind(null,e),r);break}Su(e);break;case 5:Su(e);break;default:throw Error(a(329))}}uu(e,Li());return e.callbackNode===n?t.bind(null,e):null}.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function cu(t,e){for(e&=~Ds,e&=~Ps,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ve(e),r=1<<n;t[n]=-1,e&=~r}}function hu(t){if(0!==(48&Ts))throw Error(a(327));if(Iu(),t===Is&&0!==(t.expiredLanes&ks)){var e=ks,n=yu(t,e);0!==(Ns&Ps)&&(n=yu(t,e=je(t,e)))}else n=yu(t,e=je(t,0));if(0!==t.tag&&2===n&&(Ts|=64,t.hydrate&&(t.hydrate=!1,qr(t.containerInfo)),0!==(e=Le(t))&&(n=yu(t,e))),1===n)throw n=Rs,mu(t,0),cu(t,e),uu(t,Li()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Su(t),uu(t,Li()),null}function lu(t,e){var n=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=n)&&(Us(),Vi())}}function fu(t,e){var n=Ts;Ts&=-2,Ts|=8;try{return t(e)}finally{0===(Ts=n)&&(Us(),Vi())}}function du(t,e){oi(As,Cs),Cs|=e,Ns|=e}function pu(){Cs=As.current,ii(As)}function mu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Br(n)),null!==Ms)for(n=Ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&fi();break;case 3:Ao(),ii(ui),ii(si),zo();break;case 5:Ro(r);break;case 4:Ao();break;case 13:case 19:ii(No);break;case 10:$i(r);break;case 23:case 24:pu()}n=n.return}Is=t,Ms=Du(t.current,null),ks=Cs=Ns=e,Os=0,Rs=null,Ds=Ps=xs=0}function vu(t,e){for(;;){var n=Ms;try{if(Xi(),Wo.current=Ia,$o){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}$o=!1}if(Go=0,Xo=Yo=Qo=null,Jo=!1,Ss.current=null,null===n||null===n.return){Os=1,Rs=e,Ms=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=ks,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var l=0!==(1&No.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!l)}}if(d){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=io(-1,1);y.tag=2,oo(s,y)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Ru.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Os&&(Os=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,ao(f,as(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===zs||!zs.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,ao(f,ss(f,o,e));break t}}f=f.return}while(null!==f)}Eu(n)}catch(S){e=S,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function gu(){var t=Es.current;return Es.current=Ia,null===t?Ia:t}function yu(t,e){var n=Ts;Ts|=16;var r=gu();for(Is===t&&ks===e||mu(t,e);;)try{bu();break}catch(i){vu(t,i)}if(Xi(),Ts=n,Es.current=r,null!==Ms)throw Error(a(261));return Is=null,ks=0,Os}function bu(){for(;null!==Ms;)_u(Ms)}function wu(){for(;null!==Ms&&!Ei();)_u(Ms)}function _u(t){var e=Bs(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,null===e?Eu(t):Ms=e,Ss.current=null}function Eu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=es(n,e,Cs)))return void(Ms=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Cs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=ns(e)))return n.flags&=2047,void(Ms=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ms=e);Ms=e=t}while(null!==e);0===Os&&(Os=5)}function Su(t){var e=Fi();return Bi(99,function(t,e){do{Iu()}while(null!==Hs);if(0!==(48&Ts))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-Ve(o),h=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~h}if(null!==Xs&&0===(24&r)&&Xs.has(t)&&Xs.delete(t),t===Is&&(Ms=Is=null,ks=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Ss.current=null,Dr=Ge,lr(s=hr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(h=u.getSelection&&u.getSelection())&&0!==h.rangeCount){u=h.anchorNode,o=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{u.nodeType,c.nodeType}catch(M){u=null;break t}var l=0,f=-1,d=-1,p=0,m=0,v=s,g=null;e:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(f=l+o),v!==c||0!==h&&3!==v.nodeType||(d=l+h),3===v.nodeType&&(l+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break e;if(g===u&&++p===o&&(f=l),g===c&&++m===h&&(d=l),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},Ge=!1,nu=null,ru=!1,qs=r;do{try{Tu()}catch(M){if(null===qs)throw Error(a(330));Ou(qs,M),qs=qs.nextEffect}}while(null!==qs);nu=null,qs=r;do{try{for(s=t;null!==qs;){var b=qs.flags;if(16&b&&gt(qs.stateNode,""),128&b){var w=qs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:vs(qs),qs.flags&=-3;break;case 6:vs(qs),qs.flags&=-3,ys(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,ys(qs.alternate,qs);break;case 4:ys(qs.alternate,qs);break;case 8:gs(s,u=qs);var E=u.alternate;ps(u),null!==E&&ps(E)}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(a(330));Ou(qs,M),qs=qs.nextEffect}}while(null!==qs);if(_=jr,w=hr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&lr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=cr(b,E),o=cr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ge=!!Dr,jr=Dr=null,t.current=n,qs=r;do{try{for(b=t;null!==qs;){var S=qs.flags;if(36&S&&ls(b,qs.alternate,qs),128&S){w=void 0;var T=qs.ref;if(null!==T){var I=qs.stateNode;switch(qs.tag){case 5:w=I;break;default:w=I}"function"===typeof T?T(w):T.current=w}}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(a(330));Ou(qs,M),qs=qs.nextEffect}}while(null!==qs);qs=null,Ni(),Ts=i}else t.current=n;if(Ws)Ws=!1,Hs=t,Gs=e;else for(qs=r;null!==qs;)e=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((S=qs).sibling=null,S.stateNode=null),qs=e;if(0===(r=t.pendingLanes)&&(zs=null),1===r?t===Js?$s++:($s=0,Js=t):$s=0,n=n.stateNode,yi&&"function"===typeof yi.onCommitFiberRoot)try{yi.onCommitFiberRoot(gi,n,void 0,64===(64&n.current.flags))}catch(M){}if(uu(t,Li()),Vs)throw Vs=!1,t=Ks,Ks=null,t;return 0!==(8&Ts)?null:(Vi(),null)}.bind(null,t,e)),null}function Tu(){for(;null!==qs;){var t=qs.alternate;ru||null===nu||(0!==(8&qs.flags)?Jt(qs,nu)&&(ru=!0):13===qs.tag&&ws(t,qs)&&Jt(qs,nu)&&(ru=!0));var e=qs.flags;0!==(256&e)&&hs(t,qs),0===(512&e)||Ws||(Ws=!0,qi(97,function(){return Iu(),null})),qs=qs.nextEffect}}function Iu(){if(90!==Gs){var t=97<Gs?97:Gs;return Gs=90,Bi(t,Cu)}return!1}function Mu(t,e){Qs.push(e,t),Ws||(Ws=!0,qi(97,function(){return Iu(),null}))}function ku(t,e){Ys.push(e,t),Ws||(Ws=!0,qi(97,function(){return Iu(),null}))}function Cu(){if(null===Hs)return!1;var t=Hs;if(Hs=null,0!==(48&Ts))throw Error(a(331));var e=Ts;Ts|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Ou(o,c)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Ou(o,c)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ts=e,Vi(),!0}function Au(t,e,n){oo(t,e=as(0,e=rs(n,e),1)),e=iu(),null!==(t=su(t,1))&&(qe(t,1,e),uu(t,e))}function Ou(t,e){if(3===t.tag)Au(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Au(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){var i=ss(n,t=rs(e,t),1);if(oo(n,i),i=iu(),null!==(n=su(n,1)))qe(n,1,i),uu(n,i);else if("function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Ru(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=iu(),t.pingedLanes|=t.suspendedLanes&n,Is===t&&(ks&n)===n&&(4===Os||3===Os&&(62914560&ks)===ks&&500>Li()-Ls?mu(t,0):Ds|=n),uu(t,e)}function Nu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(t,e,n,r){return new Nu(t,e,n,r)}function Pu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Du(t,e){var n=t.alternate;return null===n?((n=xu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ju(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Pu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case T:return Lu(n.children,i,o,e);case j:s=8,i|=16;break;case I:s=8,i|=1;break;case M:return(t=xu(12,n,e,8|i)).elementType=M,t.type=M,t.lanes=o,t;case O:return(t=xu(13,n,e,i)).type=O,t.elementType=O,t.lanes=o,t;case R:return(t=xu(19,n,e,i)).elementType=R,t.lanes=o,t;case L:return Fu(n,i,o,e);case F:return(t=xu(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case C:s=9;break t;case A:s=11;break t;case N:s=14;break t;case x:s=16,r=null;break t;case P:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=xu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Lu(t,e,n,r){return(t=xu(7,t,r,e)).lanes=n,t}function Fu(t,e,n,r){return(t=xu(23,t,r,e)).elementType=L,t.lanes=n,t}function Uu(t,e,n){return(t=xu(6,t,null,e)).lanes=n,t}function Bu(t,e,n){return(e=xu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Be(0),this.expirationTimes=Be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.mutableSourceEagerHydrationData=null}function Vu(t,e,n,r){var i=e.current,o=iu(),s=ou(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(li(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(li(c)){n=pi(n,c,u);break t}}n=u}else n=ai;return null===e.context?e.context=n:e.pendingContext=n,(e=io(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),oo(i,e),au(i,s,o),s}function Ku(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function zu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Wu(t,e){zu(t,e),(t=t.alternate)&&zu(t,e)}function Hu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new qu(t,e,null!=n&&!0===n.hydrate),e=xu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,no(e),t[Qr]=n.current,Mr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function Gu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ku(a);s.call(t)}}Vu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Hu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ku(a);u.call(t)}}fu(function(){Vu(e,a,t,i)})}return Ku(a)}function Yu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(e))throw Error(a(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Bs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ui.current)Oa=!0;else{if(0===(n&r)){switch(Oa=!1,e.tag){case 3:Ba(e),Vo();break;case 5:Oo(e);break;case 1:li(e.type)&&mi(e);break;case 4:Co(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;oi(Hi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ha(t,e,n):(oi(No,1&No.current),null!==(e=Za(t,e,n))?e.sibling:null);oi(No,1&No.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return Ja(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),oi(No,No.current),r)break;return null;case 23:case 24:return e.lanes=0,Da(t,e,n)}return Za(t,e,n)}Oa=0!==(16384&t.flags)}else Oa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=hi(e,si.current),Zi(e,n),i=ea(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,li(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,no(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&ho(e,r,s,t),i.updater=lo,e.stateNode=i,i._reactInternals=e,vo(e,r,t,n),e=Ua(null,e,r,!0,o,n)}else e.tag=0,Ra(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Pu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===A)return 11;if(t===N)return 14}return 2}(i),t=Wi(i,t),o){case 0:e=La(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=xa(null,e,i,Wi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:Wi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Wi(r,i),n);case 3:if(Ba(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ro(t,e),so(e,r,null,n),(r=e.memoizedState.element)===i)Vo(),e=Za(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Do=Vr(e.stateNode.containerInfo.firstChild),Po=e,o=jo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=Eo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(t,e,r,n),Vo();e=e.child}return e;case 5:return Oo(e),null===t&&Uo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Fr(r,i)?s=null:null!==o&&Fr(r,o)&&(e.flags|=16),ja(t,e),Ra(t,e,s,n),e.child;case 6:return null===t&&Uo(e),null;case 13:return Ha(t,e,n);case 4:return Co(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=_o(e,null,r,n):Ra(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Wi(r,i),n);case 7:return Ra(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ra(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(oi(Hi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=or(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!ui.current){e=Za(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var h=c.firstContext;null!==h;){if(h.context===r&&0!==(h.observedBits&o)){1===u.tag&&((h=io(-1,n&-n)).tag=2,oo(u,h)),u.lanes|=n,null!==(h=u.alternate)&&(h.lanes|=n),Ji(u.return,n),c.lanes|=n;break}h=h.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ra(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Zi(e,n),r=r(i=to(i,o.unstable_observedBits)),e.flags|=1,Ra(t,e,r,n),e.child;case 14:return o=Wi(i=e.type,e.pendingProps),xa(t,e,i,o=Wi(i.type,o),r,n);case 15:return Pa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,li(r)?(t=!0,mi(e)):t=!1,Zi(e,n),po(e,r,i),vo(e,r,i,n),Ua(null,e,r,!0,t,n);case 19:return Ja(t,e,n);case 23:case 24:return Da(t,e,n)}throw Error(a(156,e.tag))},Hu.prototype.render=function(t){Vu(t,this._internalRoot,null,null)},Hu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vu(null,t,null,function(){e[Qr]=null})},Zt=function(t){13===t.tag&&(au(t,4,iu()),Wu(t,4))},te=function(t){13===t.tag&&(au(t,67108864,iu()),Wu(t,67108864))},ee=function(t){if(13===t.tag){var e=iu(),n=ou(t);au(t,n,e),Wu(t,n)}},ne=function(t,e){return e()},Mt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zr(r);if(!i)throw Error(a(90));$(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Nt=lu,xt=function(t,e,n,r,i){var o=Ts;Ts|=4;try{return Bi(98,t.bind(null,e,n,r,i))}finally{0===(Ts=o)&&(Us(),Vi())}},Pt=function(){0===(49&Ts)&&(function(){if(null!==Xs){var t=Xs;Xs=null,t.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,uu(t,Li())})}Vi()}(),Iu())},Dt=function(t,e){var n=Ts;Ts|=2;try{return t(e)}finally{0===(Ts=n)&&(Us(),Vi())}};var Xu={Events:[$r,Jr,Zr,Ot,Rt,Iu,{current:!1}]},$u={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ju={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{gi=Zu.inject(Ju),yi=Zu}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xu,e.createPortal=Yu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ts;if(0!==(48&n))return t(e);Ts|=1;try{if(t)return Bi(99,t.bind(null,e))}finally{Ts=n,Vi()}},e.hydrate=function(t,e,n){if(!Gu(e))throw Error(a(200));return Qu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Gu(e))throw Error(a(200));return Qu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Gu(t))throw Error(a(40));return!!t._reactRootContainer&&(fu(function(){Qu(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0)},e.unstable_batchedUpdates=lu,e.unstable_createPortal=function(t,e){return Yu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return Qu(t,e,n,!1,r)},e.version="17.0.2"},function(t,e,n){"use strict";t.exports=n(142)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var h=null,l=null,f=function t(){if(null!==h)try{var n=e.unstable_now();h(!0,n),h=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==h?setTimeout(r,0,t):(h=t,setTimeout(f,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();w=t+b;try{g(!0,t)?E.postMessage(null):(v=!1,g=null)}catch(n){throw E.postMessage(null),n}}else v=!1},r=function(t){g=t,v||(v=!0,E.postMessage(null))},i=function(t,n){y=d(function(){t(e.unstable_now())},n)},o=function(){p(y),y=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<M(i,e)))break t;t[r]=e,t[n]=i,n=r}}function T(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>M(a,n))void 0!==u&&0>M(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>M(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function M(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],C=[],A=1,O=null,R=3,N=!1,x=!1,P=!1;function D(t){for(var e=T(C);null!==e;){if(null===e.callback)I(C);else{if(!(e.startTime<=t))break;I(C),e.sortIndex=e.expirationTime,S(k,e)}e=T(C)}}function j(t){if(P=!1,D(t),!x)if(null!==T(k))x=!0,r(L);else{var e=T(C);null!==e&&i(j,e.startTime-t)}}function L(t,n){x=!1,P&&(P=!1,o()),N=!0;var r=R;try{for(D(n),O=T(k);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,R=O.priorityLevel;var s=a(O.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?O.callback=s:O===T(k)&&I(k),D(n)}else I(k);O=T(k)}if(null!==O)var u=!0;else{var c=T(C);null!==c&&i(j,c.startTime-n),u=!1}return u}finally{O=null,R=r,N=!1}}var F=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){x||N||(x=!0,r(L))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return T(k)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:A++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,S(C,t),null===T(k)&&t===T(C)&&(P?o():P=!0,i(j,a-s))):(t.sortIndex=u,S(k,t),x||N||(x=!0,r(L))),t},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}},,,,,function(t,e,n){"use strict";var r=n(148);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case l:case f:case a:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case h:case d:case g:case v:case c:return t;default:return e}}case o:return e}}}function S(t){return E(t)===f}e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=h,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||E(t)===l},e.isConcurrentMode=S,e.isContextConsumer=function(t){return E(t)===h},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===d},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===v},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===p||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===c||t.$$typeof===h||t.$$typeof===d||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===y)},e.typeOf=E},,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t,e){var r=n(3),i=n(7),o=n(1),a=n(0),s=n(6),u="@firebase/database",c="0.11.0",h="";function l(t){h=t}var f=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new f(e)}}catch(n){}return new d},m=p("localStorage"),v=p("sessionStorage"),g=new s.Logger("@firebase/database"),y=function(){var t=1;return function(){return t++}}(),b=function(t){var e=Object(o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},w=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=t.apply(null,a):r+="object"===typeof a?Object(o.stringify)(a):a,r+=" "}return r},_=null,E=!0,S=function(t,e){Object(o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.LogLevel.VERBOSE,_=g.log.bind(g),e&&v.set("logging_enabled",!0)):"function"===typeof t?_=t:(_=null,v.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===_&&!0===v.get("logging_enabled")&&S(!0)),_){var n=w.apply(null,t);_(n)}},I=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,Object(a.__spreadArray)([t],Object(a.__read)(e)))}},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+w.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));g.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+w.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));throw g.error(n),new Error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+w.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));g.warn(n)},A=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",R="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===O||e===R)return-1;if(e===O||t===R)return 1;var n=B(t),r=B(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.stringify)(e))},D=function t(e){if("object"!==typeof e||null===e)return Object(o.stringify)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.stringify)(n[a]),i+=":",i+=t(e[n[a]]);return i+="}"},j=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){Object(o.assert)(!A(t),"Invalid JSON number");var e,n,r,i,a;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var h=parseInt(u.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),c+=h}return c.toLowerCase()};var U=new RegExp("^-?(0*)\\d{1,10}$"),B=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw C("Exception was thrown by user callback.",t),e},Math.floor(0))}},V=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},K=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){C('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),W=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(t)},t}(),H=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="ac",Y="websocket",X="long_polling",$=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&m.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function J(t,e,n){var r;if(Object(o.assert)("string"===typeof e,"typeof type must == string"),Object(o.assert)("object"===typeof n,"typeof params must == object"),e===Y)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==X)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return L(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var Z=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.deepCopy)(this.counters_)},t}(),tt={},et={};function nt(t){var e=t.toString();return tt[e]||(tt[e]=new Z),tt[e]}var rt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),it="pLPCommand",ot="pRTLPCB",at=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(t),this.stats_=nt(e),this.urlFn=function(t){return s.appCheckToken&&(t[Q]=s.appCheckToken),J(e,X,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new st(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.__read)(t,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t[Q]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o.isNodeSdk)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.base64Encode)(e),r=j(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),st=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[it+this.uniqueCallbackIdentifier]=e,window[ot+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){T("frame writing exception"),u.stack&&T(u.stack),T(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||T("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ut=null;"undefined"!==typeof MozWebSocket?ut=MozWebSocket:"undefined"!==typeof WebSocket&&(ut=WebSocket);var ct=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=nt(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n,r){var i={v:"5"};return!Object(o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i[Q]=r),J(t,Y,i)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{if(Object(o.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+h+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new ut(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ut(this.connURL,[],a)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ut&&!e.forceDisallow_},e.previouslyFailed=function(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){m.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.jsonEval)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=j(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ht=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[at,ct]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ct&&ct.isAvailable(),o=i&&!ct.previouslyFailed();if(e.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ct];else{var s=this.transports_=[];try{for(var u=Object(a.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var h=c.value;h&&h.isAvailable()&&s.push(h)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),lt=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new ht(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=K(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?M("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),K(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ft=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),dt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(a.__spreadArray)([],Object(a.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),pt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(dt),mt=32,vt=768,gt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function yt(){return new gt("")}function bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wt(t){return t.pieces_.length-t.pieceNum_}function _t(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new gt(t.pieces_,e)}function Et(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function St(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Tt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new gt(e,0)}function It(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof gt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new gt(n,0)}function Mt(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){var n=bt(t),r=bt(e);if(null===n)return e;if(n===r)return kt(_t(t),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ct(t,e){for(var n=St(t,0),r=St(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function At(t,e){if(wt(t)!==wt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ot(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(wt(t)>wt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Rt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=St(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.stringLength)(this.parts_[n]);Nt(this)}}();function Nt(t){if(t.byteLength_>vt)throw new Error(t.errorPrefix_+"has a key path longer than "+vt+" bytes ("+t.byteLength_+").");if(t.parts_.length>mt)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mt+") or object contains a cycle "+xt(t))}function xt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Pt,Dt,jt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(dt),Lt=1e3,Ft=3e5,Ut=function(t){function e(n,r,i,a,s,u,c,h){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.appCheckTokenProvider_=c,l.authOverride_=h,l.id=e.nextPersistentConnectionId_++,l.log_=I("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Lt,l.maxReconnectDelay_=Ft,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,h&&!Object(o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return jt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&pt.getInstance().on("online",l.onOnline_,l),l}return Object(a.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.stringify)(i)),Object(o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o.contains)(t,"w")){var n=Object(o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):M("Unrecognized action received from server: "+Object(o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,h,l,f,d,p,m,v,g=this;return Object(a.__generator)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,r())},l=function(t){Object(o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)},this.realtime_={close:h,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],m=d[1],u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,c=new lt(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){C(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},s)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&C(v),h()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new gt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){T("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var h=c.value;this.sendListen_(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+h.replace(/\./g,"-")]=1,Object(o.isMobileCordova)()?t["framework.cordova"]=1:Object(o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=pt.getInstance().currentlyOnline();return Object(o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ft),Bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Bt(O,t),r=new Bt(O,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Bt.MIN},t}(),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Pt},set:function(t){Pt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return new Bt(R,Pt)},e.prototype.makePost=function(t,e){return Object(o.assert)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Bt(t,Pt)},e.prototype.toString=function(){return".key"},e}(qt),Kt=new Vt,zt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Wt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Gt.EMPTY_NODE,this.right=null!=o?o:Gt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Gt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ht=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Gt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new zt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new zt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new zt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new zt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ht,t}();function Qt(t,e){return N(t.name,e.name)}function Yt(t,e){return N(t,e)}var Xt,$t,Jt,Zt=function(t){return"number"===typeof t?"number:"+F(t):"string:"+t},te=function(t){if(t.isLeafNode()){var e=t.val();Object(o.assert)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o.contains)(e,".sv"),"Priority must be a string or number.")}else Object(o.assert)(t===Dt||t.isEmpty(),"priority of unexpected type.");Object(o.assert)(t===Dt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ee=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),te(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Xt},set:function(t){Xt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Mt(e)?this:".priority"===bt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=bt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.assert)(".priority"!==r||1===wt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.assert)(i>=0,"Unknown leaf type: "+n),Object(o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ne,re,ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return new Bt(R,new ee("[PRIORITY-POST]",Jt))},e.prototype.makePost=function(t,e){var n=$t(t);return new Bt(e,new ee("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),oe=Math.log(2),ae=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/oe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),se=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),h=e(u+1,i);return o=t[u],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,c,h)}(i+1,a),c=t[i],h=n?n(c):c;s(new Wt(h,c.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,Wt.BLACK):(a(h,Wt.BLACK),a(h,Wt.RED))}return i}(new ae(t.length));return new Gt(r||e,i)},ue={},ce=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.assert)(ue&&ie,"ChildrenNode.ts has not been loaded"),ne=ne||new t({".priority":ue},{".priority":ie})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gt?e:null},t.prototype.hasIndex=function(t){return Object(o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.assert)(e!==Kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Bt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?se(i,e.getCompare()):ue;var h=e.toString(),l=Object(a.__assign)({},this.indexSet_);l[h]=e;var f=Object(a.__assign)({},this.indexes_);return f[h]=r,new t(f,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.map)(this.indexes_,function(t,i){var a=Object(o.safeGet)(r.indexSet_,i);if(Object(o.assert)(a,"Missing index implementation for "+i),t===ue){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Bt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),se(s,a.getCompare())}return ue}var h=n.get(e.name),l=t;return h&&(l=l.remove(new Bt(e.name,h))),l.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.map)(this.indexes_,function(t){if(t===ue)return t;var r=n.get(e.name);return r?t.remove(new Bt(e.name,r)):t}),this.indexSet_)},t}(),he=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&te(this.priorityNode_),this.children_.isEmpty()&&Object(o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return re||(re=new t(new Gt(Yt),null,ce.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||re},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?re:e},t.prototype.getChild=function(t){var e=bt(t);return null===e?this:this.getImmediateChild(e).getChild(_t(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Bt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?re:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=bt(t);if(null===n)return e;Object(o.assert)(".priority"!==bt(t)||1===wt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(_t(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ie,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Zt(this.getPriority().val())+":"),this.forEachChild(ie,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===le?-1:0},t.prototype.withIndex=function(e){if(e===Kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(ie),r=e.getIterator(ie),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),le=new(function(t){function e(){return t.call(this,new Gt(Yt),he.EMPTY_NODE,ce.Default)||this}return Object(a.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return he.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(he));Object.defineProperties(Bt,{MIN:{value:new Bt(O,he.EMPTY_NODE)},MAX:{value:new Bt(R,le)}}),Vt.__EMPTY_NODE=he.EMPTY_NODE,ee.__childrenNodeConstructor=he,Dt=le,function(t){Jt=t}(le);var fe=!0;function de(t,e){if(void 0===e&&(e=null),null===t)return he.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.assert)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new ee(t,de(e));if(t instanceof Array||!fe){var n=he.EMPTY_NODE;return L(t,function(e,r){if(Object(o.contains)(t,e)&&"."!==e.substring(0,1)){var i=de(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(de(e))}var r=[],i=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=de(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Bt(t,n)))}}),0===r.length)return he.EMPTY_NODE;var a=se(r,Qt,function(t){return t.name},Yt);if(i){var s=se(r,ie.getCompare());return new he(a,de(e),new ce({".priority":s},{".priority":ie}))}return new he(a,de(e),ce.Default)}!function(t){$t=t}(de);var pe=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.assert)(!Mt(e)&&".priority"!==bt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=de(t),r=he.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bt(e,r)},e.prototype.maxPost=function(){var t=he.EMPTY_NODE.updateChild(this.indexPath_,le);return new Bt(R,t)},e.prototype.toString=function(){return St(this.indexPath_,0).join("/")},e}(qt),me=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return Bt.MAX},e.prototype.makePost=function(t,e){var n=de(t);return new Bt(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),ve="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ge=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=ve.charAt(n%64),n=Math.floor(n/64);Object(o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ve.charAt(e[r]);return Object(o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),ye=function(t){if("2147483647"===t)return"-";var e=B(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return R;var o=n[i],a=ve.charAt(ve.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},be=function(t){if("-2147483648"===t)return O;var e=B(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ve.charAt(ve.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function we(t){return{type:"value",snapshotNode:t}}function _e(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ee(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Se(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Te=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(Ee(e,s)):Object(o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_e(e,n)):a.trackChildChange(Se(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(ie,function(t,r){e.hasChild(t)||n.trackChildChange(Ee(t,r))}),e.isLeafNode()||e.forEachChild(ie,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Se(e,r,i))}else n.trackChildChange(_e(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?he.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ie=function(){function t(e){this.indexedFilter_=new Te(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Bt(e,n))||(n=he.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=he.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(he.EMPTY_NODE);var i=this;return e.forEachChild(ie,function(t,e){i.matches(new Bt(t,e))||(r=r.updateImmediateChild(t,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Me=function(){function t(t){this.rangedFilter_=new Ie(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Bt(e,n))||(n=he.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=he.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=he.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(he.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(t,e){return h(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var l=!1;i.hasNext();){a=i.getNext();!l&&c(s,a)<=0&&(l=!0),l&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.assert)(u.numChildren()===this.limit_,"");var c=new Bt(e,n),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,h,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Se(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ee(e,f));var m=u.updateImmediateChild(e,he.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(_e(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?t:l&&a(h,c)>=0?(null!=i&&(i.trackChildChange(Ee(h.name,h.node)),i.trackChildChange(_e(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(h.name,he.EMPTY_NODE)):t},t}(),ke=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ie},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Ce(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ae(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Oe(t,e){var n=t.copy();return n.index_=e,n}function Re(t){var e,n={};return t.isDefault()?n:(t.index_===ie?e="$priority":t.index_===me?e="$value":t.index_===Kt?e="$key":(Object(o.assert)(t.index_ instanceof pe,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.stringify)(e),t.startSet_&&(n.startAt=Object(o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n)}function Ne(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}var xe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=I("p:rest:"),o.listens_={},o}return Object(a.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var h=Re(t._queryParams);this.restRequest_(s+".json",h,function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.safeGet)(a.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Re(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=Object(a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var h=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.querystring)(e);r.log_("Sending REST request for "+h);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+h+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=Object(o.jsonEval)(l.responseText)}catch(e){C("Failed to parse JSON response for "+h+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&C("Got unsuccessful REST response for "+h+" Status: "+l.status),n(l.status);n=null}},l.open("GET",h,!0),l.send()})},e}(ft),Pe=function(){function t(){this.rootNode_=he.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function De(){return{value:null,children:new Map}}function je(t,e,n){if(Mt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=bt(e);t.children.has(r)||t.children.set(r,De()),je(t.children.get(r),e=_t(e),n)}}function Le(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Le(r,new gt(e.toString()+"/"+t),n)})}var Fe,Ue=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(a.__assign)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Be=1e4,qe=3e4,Ve=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ue(t);var n=Be+(qe-Be)*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,function(e,i){i>0&&Object(o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function Ke(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fe||(Fe={}));var ze,We=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Fe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Mt(this.path)){if(null!=this.affectedTree.value)return Object(o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new gt(e));return new t(yt(),n,this.revert)}return Object(o.assert)(bt(this.path)===e,"operationForChild called for unrelated child."),new t(_t(this.path),this.affectedTree,this.revert)},t}(),He=function(){function t(t,e){this.source=t,this.path=e,this.type=Fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Mt(this.path)?new t(this.source,yt()):new t(this.source,_t(this.path))},t}(),Ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Fe.OVERWRITE}return t.prototype.operationForChild=function(e){return Mt(this.path)?new t(this.source,yt(),this.snap.getImmediateChild(e)):new t(this.source,_t(this.path),this.snap)},t}(),Qe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Fe.MERGE}return t.prototype.operationForChild=function(e){if(Mt(this.path)){var n=this.children.subtree(new gt(e));return n.isEmpty()?null:n.value?new Ge(this.source,yt(),n.value):new t(this.source,yt(),n)}return Object(o.assert)(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,_t(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ye=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;var e=bt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Xe=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function $e(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.assertionError)("Should only compare child_ events.");var r=new Bt(e.childName,e.snapshotNode),i=new Bt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_),e)}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Je(t,e){return{eventCache:t,serverCache:e}}function Ze(t,e,n,r){return Je(new Ye(e,n,r),t.serverCache)}function tn(t,e,n,r){return Je(t.eventCache,new Ye(e,n,r))}function en(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rn=function(){return ze||(ze=new Gt(x)),ze},on=function(){function t(t,e){void 0===e&&(e=rn()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new gt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:yt(),value:this.value};if(Mt(t))return null;var n=bt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(_t(t),e);return null!=i?{path:It(new gt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(Mt(e))return this;var n=bt(e),r=this.children.get(n);return null!==r?r.subtree(_t(e)):new t(null)},t.prototype.set=function(e,n){if(Mt(e))return new t(n,this.children);var r=bt(e),i=(this.children.get(r)||new t(null)).set(_t(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Mt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=bt(e),r=this.children.get(n);if(r){var i=r.remove(_t(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Mt(t))return this.value;var e=bt(t),n=this.children.get(e);return n?n.get(_t(t)):null},t.prototype.setTree=function(e,n){if(Mt(e))return n;var r=bt(e),i=(this.children.get(r)||new t(null)).setTree(_t(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(yt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(It(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,yt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Mt(t))return null;var i=bt(t),o=this.children.get(i);return o?o.findOnPath_(_t(t),It(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,yt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Mt(e))return this;this.value&&r(n,this.value);var i=bt(e),o=this.children.get(i);return o?o.foreachOnPath_(_t(e),It(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(yt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(It(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),an=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new on(null))},t}();function sn(t,e,n){if(Mt(e))return new an(new on(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=kt(i,e);return o=o.updateChild(a,n),new an(t.writeTree_.set(i,o))}var s=new on(n),u=t.writeTree_.setTree(e,s);return new an(u)}function un(t,e,n){var r=t;return L(n,function(t,n){r=sn(r,It(e,t),n)}),r}function cn(t,e){if(Mt(e))return an.empty();var n=t.writeTree_.setTree(e,new on(null));return new an(n)}function hn(t,e){return null!=ln(t,e)}function ln(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function fn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ie,function(t,n){e.push(new Bt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Bt(t,n.value))}),e}function dn(t,e){if(Mt(e))return t;var n=ln(t,e);return new an(null!=n?new on(n):t.writeTree_.subtree(e))}function pn(t){return t.writeTree_.isEmpty()}function mn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(o.assert)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=t(It(e,n),a,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(It(e,".priority"),i)),r}(yt(),t.writeTree_,e)}function vn(t,e){return An(e,t)}function gn(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&yn(u,r.path)?i=!1:Ot(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(t){t.visibleWrites=wn(t.allWrites,bn,yt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=cn(t.visibleWrites,r.path):L(r.children,function(e){t.visibleWrites=cn(t.visibleWrites,It(r.path,e))});return!0}return!1}function yn(t,e){if(t.snap)return Ot(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ot(It(t.path,n),e))return!0;return!1}function bn(t){return t.visible}function wn(t,e,n){for(var r=an.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)Ot(n,s)?r=sn(r,u=kt(n,s),a.snap):Ot(s,n)&&(u=kt(s,n),r=sn(r,yt(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.assertionError)("WriteRecord should have .snap or .children");if(Ot(n,s))r=un(r,u=kt(n,s),a.children);else if(Ot(s,n))if(Mt(u=kt(s,n)))r=un(r,yt(),a.children);else{var c=Object(o.safeGet)(a.children,bt(u));if(c){var h=c.getChild(_t(u));r=sn(r,yt(),h)}}}}}return r}function _n(t,e,n,r,i){if(r||i){var o=dn(t.visibleWrites,e);if(!i&&pn(o))return n;if(i||null!=n||hn(o,yt())){return mn(wn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Ot(t.path,e)||Ot(e,t.path))},e),n||he.EMPTY_NODE)}return null}var a=ln(t.visibleWrites,e);if(null!=a)return a;var s=dn(t.visibleWrites,e);return pn(s)?n:null!=n||hn(s,yt())?mn(s,n||he.EMPTY_NODE):null}function En(t,e,n,r){return _n(t.writeTree,t.treePath,e,n,r)}function Sn(t,e){return function(t,e,n){var r=he.EMPTY_NODE,i=ln(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ie,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=dn(t.visibleWrites,e);return n.forEachChild(ie,function(t,e){var n=mn(dn(o,new gt(t)),e);r=r.updateImmediateChild(t,n)}),fn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return fn(dn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function Tn(t,e,n,r){return function(t,e,n,r,i){Object(o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=It(e,n);if(hn(t.visibleWrites,a))return null;var s=dn(t.visibleWrites,a);return pn(s)?i.getChild(n):mn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function In(t,e){return function(t,e){return ln(t.visibleWrites,e)}(t.writeTree,It(t.treePath,e))}function Mn(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=dn(t.visibleWrites,e),c=ln(u,yt());if(null!=c)s=c;else{if(null==n)return[];s=mn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var h=[],l=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&h.length<i;)0!==l(d,r)&&h.push(d),d=f.getNext();return h}(t.writeTree,t.treePath,e,n,r,i,o)}function kn(t,e,n){return function(t,e,n,r){var i=It(e,n),o=ln(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?mn(dn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Cn(t,e){return An(It(t.treePath,e),t.writeTree)}function An(t,e){return{treePath:t,writeTree:e}}var On=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Se(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ee(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,_e(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Se(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Rn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Nn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ye(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=Mn(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();function xn(t,e,n,r,i){var a,s,u=new On;if(n.type===Fe.OVERWRITE){var c=n;c.source.fromUser?a=jn(t,e,c.path,c.snap,r,i,u):(Object(o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!Mt(c.path),a=Dn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Fe.MERGE){var h=n;h.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=It(n,r);Ln(e,bt(c))&&(s=jn(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=It(n,r);Ln(e,bt(c))||(s=jn(t,s,c,u,i,o,a))}),s}(t,e,h.path,h.children,r,i,u):(Object(o.assert)(h.source.fromServer,"Unknown source."),s=h.source.tagged||e.serverCache.isFiltered(),a=Un(t,e,h.path,h.children,r,i,s,u))}else if(n.type===Fe.ACK_USER_WRITE){var l=n;a=l.revert?function(t,e,n,r,i,a){var s;if(null!=In(r,n))return e;var u=new Nn(r,e,i),c=e.eventCache.getNode(),h=void 0;if(Mt(n)||".priority"===bt(n)){var l=void 0;if(e.serverCache.isFullyInitialized())l=En(r,nn(e));else{var f=e.serverCache.getNode();Object(o.assert)(f instanceof he,"serverChildren would be complete if leaf node"),l=Sn(r,f)}l=l,h=t.filter.updateFullNode(c,l,a)}else{var d=bt(n),p=kn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(h=null!=p?t.filter.updateChild(c,d,p,_t(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,he.EMPTY_NODE,_t(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=En(r,nn(e))).isLeafNode()&&(h=t.filter.updateFullNode(h,s,a))}return s=e.serverCache.isFullyInitialized()||null!=In(r,yt()),Ze(e,h,s,t.filter.filtersNodes())}(t,e,l.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=In(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Mt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Mt(n)){var c=new on(null);return u.getNode().forEachChild(Kt,function(t,e){c=c.set(new gt(t),e)}),Un(t,e,n,c,i,o,s,a)}return e}var h=new on(null);return r.foreach(function(t,e){var r=It(n,t);u.isCompleteForPath(r)&&(h=h.set(t,u.getNode().getChild(r)))}),Un(t,e,n,h,i,o,s,a)}(t,e,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Fe.LISTEN_COMPLETE)throw Object(o.assertionError)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache,a=tn(e,o.getNode(),o.isFullyInitialized()||Mt(n),o.isFiltered());return Pn(t,a,n,r,Rn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(we(en(e)))}}(e,a,f),{viewCache:a,changes:f}}function Pn(t,e,n,r,i,a){var s=e.eventCache;if(null!=In(r,n))return e;var u=void 0,c=void 0;if(Mt(n))if(Object(o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var h=nn(e),l=Sn(r,h instanceof he?h:he.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),l,a)}else{var f=En(r,nn(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=bt(n);if(".priority"===d){Object(o.assert)(1===wt(n),"Can't have a priority with additional path components");var p=s.getNode(),m=Tn(r,n,p,c=e.serverCache.getNode());u=null!=m?t.filter.updatePriority(p,m):s.getNode()}else{var v=_t(n),g=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var y=Tn(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(v,y):s.getNode().getImmediateChild(d)}else g=kn(r,d,e.serverCache);u=null!=g?t.filter.updateChild(s.getNode(),d,g,v,i,a):s.getNode()}}return Ze(e,u,s.isFullyInitialized()||Mt(n),t.filter.filtersNodes())}function Dn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,h=a?t.filter:t.filter.getIndexedFilter();if(Mt(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),l,null)}else{var f=bt(n);if(!c.isCompleteForPath(n)&&wt(n)>1)return e;var d=_t(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?h.updatePriority(c.getNode(),p):h.updateChild(c.getNode(),f,p,d,Rn,null)}var m=tn(e,u,c.isFullyInitialized()||Mt(n),h.filtersNodes());return Pn(t,m,n,i,new Nn(i,m,o),s)}function jn(t,e,n,r,i,o,a){var s,u,c=e.eventCache,h=new Nn(i,e,o);if(Mt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ze(e,u,!0,t.filter.filtersNodes());else{var l=bt(n);if(".priority"===l)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ze(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=_t(n),d=c.getNode().getImmediateChild(l),p=void 0;if(Mt(f))p=r;else{var m=h.getCompleteChild(l);p=null!=m?".priority"===Et(f)&&m.getChild(Tt(f)).isEmpty()?m:m.updateChild(f,r):he.EMPTY_NODE}if(d.equals(p))s=e;else s=Ze(e,t.filter.updateChild(c.getNode(),l,p,f,h,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Ln(t,e){return t.eventCache.isCompleteForChild(e)}function Fn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Un(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=Mt(n)?r:new on(null).setTree(n,r);var h=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(h.hasChild(n)){var u=Fn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Dn(t,c,new gt(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!h.hasChild(n)&&!u){var l=Fn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Dn(t,c,new gt(n),l,i,o,a,s)}}),c}var Bn,qn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Te(r.getIndex()),o=(n=r).loadsAllData()?new Te(n.getIndex()):n.hasLimit()?new Me(n):new Ie(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(he.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(he.EMPTY_NODE,s.getNode(),null),h=new Ye(u,a.isFullyInitialized(),i.filtersNodes()),l=new Ye(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Je(l,h),this.eventGenerator_=new Xe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Vn(t,e){var n=nn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Mt(e)&&!n.getImmediateChild(bt(e)).isEmpty())?n.getChild(e):null}function Kn(t){return 0===t.eventRegistrations_.length}function zn(t,e,n){var r=[];if(n){Object(o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Wn(t,e,n,r){e.type===Fe.MERGE&&null!==e.source.queryId&&(Object(o.assert)(nn(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.assert)(en(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=xn(t.processor_,s,e,n,r);return i=t.processor_,a=u.viewCache,Object(o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Hn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Hn(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))}),$e(t,i,"child_removed",e,r,n),$e(t,i,"child_added",e,r,n),$e(t,i,"child_moved",o,r,n),$e(t,i,"child_changed",e,r,n),$e(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}var Gn,Qn=function(){return function(){this.views=new Map}}();function Yn(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Wn(c,e,n,r)}var h=[];try{for(var l=Object(a.__values)(t.views.values()),f=l.next();!f.done;f=l.next()){c=f.value;h=h.concat(Wn(c,e,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return h}function Xn(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=En(n,i?r:null),u=!1;s?u=!0:r instanceof he?(s=Sn(n,r),u=!1):(s=he.EMPTY_NODE,u=!1);var c=Je(new Ye(s,u,!1),new Ye(r,i,!1));return new qn(e,c)}return a}function $n(t,e,n,r,i,o){var a=Xn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,function(t,e){r.push(_e(t,e))}),n.isFullyInitialized()&&r.push(we(n.getNode())),Hn(t,r,n.getNode(),e)}(a,n)}function Jn(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],h=[],l=rr(t);if("default"===u)try{for(var f=Object(a.__values)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p=Object(a.__read)(d.value,2),m=p[0],v=p[1];h=h.concat(zn(v,n,r)),Kn(v)&&(t.views.delete(m),v.query._queryParams.loadsAllData()||c.push(v.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(v=t.views.get(u))&&(h=h.concat(zn(v,n,r)),Kn(v)&&(t.views.delete(u),v.query._queryParams.loadsAllData()||c.push(v.query)));return l&&!rr(t)&&c.push(new(Object(o.assert)(Bn,"Reference.ts has not been loaded"),Bn)(e._repo,e._path)),{removed:c,events:h}}function Zn(t){var e,n,r=[];try{for(var i=Object(a.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function tr(t,e){var n,r,i=null;try{for(var o=Object(a.__values)(t.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Vn(u,e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(t,e){if(e._queryParams.loadsAllData())return ir(t);var n=e._queryIdentifier;return t.views.get(n)}function nr(t,e){return null!=er(t,e)}function rr(t){return null!=ir(t)}function ir(t){var e,n;try{for(var r=Object(a.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var or=1,ar=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new on(null),this.pendingWriteTree_={visibleWrites:an.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function sr(t,e,n,r,i){return function(t,e,n,r,i){Object(o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=sn(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?mr(t,new Ge({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ur(t,e,n,r){!function(t,e,n,r){Object(o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=un(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=on.fromObject(n);return mr(t,new Qe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function cr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(gn(t.pendingWriteTree_,e)){var i=new on(null);return null!=r.snap?i=i.set(yt(),!0):L(r.children,function(t){i=i.set(new gt(t),!0)}),mr(t,new We(r.path,i,n))}return[]}function hr(t,e,n){return mr(t,new Ge({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function lr(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||nr(o,e))){var s=Jn(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t._queryParams.loadsAllData()}),h=t.syncPointTree_.findOnPath(i,function(t,e){return rr(e)});if(c&&!h){var l=t.syncPointTree_.subtree(i);if(!l.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&rr(e)){var r=ir(e);return[r]}var i=[];return e&&(i=Zn(e)),L(n,function(t,e){i=i.concat(e)}),i})}(l),d=0;d<f.length;++d){var p=f[d],m=p.query,v=vr(t,p);t.listenProvider_.startListening(Er(m),gr(t,m),v.hashFn,v.onComplete)}}if(!h&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(Er(e),null)}else u.forEach(function(e){var n=t.queryToTagMap.get(yr(e));t.listenProvider_.stopListening(Er(e),n)});!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=yr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function fr(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=kt(t,r);i=i||tr(e,n),a=a||rr(e)});var s,u=t.syncPointTree_.get(r);(u?(a=a||rr(u),i=i||tr(u,yt())):(u=new Qn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=he.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=tr(e,yt());n&&(i=i.updateImmediateChild(t,n))}));var c=nr(u,e);if(!c&&!e._queryParams.loadsAllData()){var h=yr(e);Object(o.assert)(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var l=or++;t.queryToTagMap.set(h,l),t.tagToQueryMap.set(l,h)}var f=$n(u,e,n,vn(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=er(u,e);f=f.concat(function(t,e,n){var r=e._path,i=gr(t,e),a=vr(t,n),s=t.listenProvider_.startListening(Er(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.assert)(!rr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!Mt(t)&&e&&rr(e))return[ir(e).query];var r=[];return e&&(r=r.concat(Zn(e).map(function(t){return t.query}))),L(n,function(t,e){r=r.concat(e)}),r}),h=0;h<c.length;++h){var l=c[h];t.listenProvider_.stopListening(Er(l),gr(t,l))}return s}(t,e,d))}return f}function dr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=tr(n,kt(t,e));if(r)return r});return _n(r,e,i,n,!0)}function pr(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=kt(t,n);r=r||tr(e,i)});var i=t.syncPointTree_.get(n);i?r=r||tr(i,yt()):(i=new Qn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ye(r,!0,!1):null;return function(t){return en(t.viewCache_)}(Xn(i,e,vn(t.pendingWriteTree_,e._path),o?a.getNode():he.EMPTY_NODE,o))}function mr(t,e){return function t(e,n,r,i){if(Mt(e.path))return function t(e,n,r,i){var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var a=[];n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=Cn(i,n),c=e.operationForChild(n);c&&(a=a.concat(t(c,o,s,u)))});o&&(a=a.concat(Yn(o,e,i,r)));return a}(e,n,r,i);var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var a=[],s=bt(e.path),u=e.operationForChild(s),c=n.children.get(s);if(c&&u){var h=r?r.getImmediateChild(s):null,l=Cn(i,s);a=a.concat(t(u,c,h,l))}return o&&(a=a.concat(Yn(o,e,i,r))),a}(e,t.syncPointTree_,null,vn(t.pendingWriteTree_,yt()))}function vr(t,e){var n=e.query,r=gr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||he.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=br(t,n);if(r){var i=wr(r),o=i.path,a=i.queryId,s=kt(o,e);return _r(t,o,new He(Ke(a),s))}return[]}(t,n._path,r):function(t,e){return mr(t,new He({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return lr(t,n,null,i)}}}function gr(t,e){var n=yr(e);return t.queryToTagMap.get(n)}function yr(t){return t._path.toString()+"$"+t._queryIdentifier}function br(t,e){return t.tagToQueryMap.get(e)}function wr(t){var e=t.indexOf("$");return Object(o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new gt(t.substr(0,e))}}function _r(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.assert)(r,"Missing sync point for query tag that we're tracking"),Yn(r,n,vn(t.pendingWriteTree_,e),null)}function Er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.assert)(Gn,"Reference.ts has not been loaded"),Gn)(t._repo,t._path):t}var Sr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Tr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=It(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return dr(this.syncTree_,this.path_)},t}(),Ir=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Mr=function(t,e,n){return t&&"object"===typeof t?(Object(o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?kr(t[".sv"],e,n):"object"===typeof t[".sv"]?Cr(t[".sv"],e):void Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},kr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.assert)(!1,"Unexpected server value: "+t)}},Cr=function(t,e,n){t.hasOwnProperty("increment")||Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ar=function(t,e,n,r){return Rr(e,new Tr(n,t),r)},Or=function(t,e,n){return Rr(t,new Sr(e),n)};function Rr(t,e,n){var r,i=t.getPriority().val(),o=Mr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Mr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new ee(s,de(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ee(o))),u.forEachChild(ie,function(t,i){var o=Rr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var Nr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function xr(t,e){for(var n=e instanceof gt?e:new gt(e),r=t,i=bt(n);null!==i;){var a=Object(o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Nr(i,r,a),i=bt(n=_t(n))}return r}function Pr(t){return t.node.value}function Dr(t,e){t.node.value=e,Ur(t)}function jr(t){return t.node.childCount>0}function Lr(t,e){L(t.node.children,function(n,r){e(new Nr(n,t,r))})}function Fr(t){return new gt(null===t.parent?t.name:Fr(t.parent)+"/"+t.name)}function Ur(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Pr(t)&&!jr(t)}(n),i=Object(o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ur(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ur(t))}(t.parent,t.name,t)}var Br=/[\[\].#$\/\u0000-\u001F\u007F]/,qr=/[\[\].#$\u0000-\u001F\u007F]/,Vr=function(t){return"string"===typeof t&&0!==t.length&&!Br.test(t)},Kr=function(t){return"string"===typeof t&&0!==t.length&&!qr.test(t)},zr=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!A(t)||t&&"object"===typeof t&&Object(o.contains)(t,".sv")},Wr=function(t,e,n,r){r&&void 0===e||Hr(Object(o.errorPrefix)(t,"value"),e,n)},Hr=function t(e,n,r){var i=r instanceof gt?new Rt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+xt(i));if("function"===typeof n)throw new Error(e+"contains a function "+xt(i)+" with contents = "+n.toString());if(A(n))throw new Error(e+"contains "+n.toString()+" "+xt(i));if("string"===typeof n&&n.length>10485760/3&&Object(o.stringLength)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+xt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Vr(n)))throw new Error(e+" contains an invalid key ("+n+") "+xt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;c=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=Object(o.stringLength)(c),Nt(u),t(e,r,i),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.stringLength)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&s)throw new Error(e+' contains ".value" child '+xt(i)+" in addition to actual children.")}},Gr=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o.errorPrefix)(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(e,function(t,e){var r=new gt(t);if(Hr(i,e,It(n,r)),".priority"===Et(r)&&!zr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=St(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ct);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&Ot(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Qr=function(t,e,n){if(!n||void 0!==e){if(A(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yr=function(t,e,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xr=function(t,e,n,r){if((!r||void 0!==n)&&!Kr(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$r=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xr(t,e,n,r)},Jr=function(t,e){if(".info"===bt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Zr=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!Vr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kr(t)}(n))throw new Error(Object(o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ti=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function ei(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||At(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ni(t,e,n){ei(t,n),ii(t,function(t){return At(t,e)})}function ri(t,e,n){ei(t,n),ii(t,function(t){return Ot(t,e)||Ot(e,t)})}function ii(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(oi(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function oi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();_&&T("event: "+n.toString()),q(r)}}}var ai="repo_interrupt",si=25,ui=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=De(),this.transactionQueueTree_=new Nr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function ci(t,e,n){if(t.stats_=nt(t.repoInfo_),t.forceRestClient_||V())t.server_=new xe(t.repoInfo_,function(e,n,r,i){fi(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return di(t,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ut(t.repoInfo_,e,function(e,n,r,i){fi(t,e,n,r,i)},function(e){di(t,e)},function(e){!function(t,e){L(e,function(e,n){pi(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=function(t,e){var n=t.toString();return et[n]||(et[n]=e()),et[n]}(t.repoInfo_,function(){return new Ve(t.stats_,t.server_)}),t.infoData_=new Pe,t.infoSyncTree_=new ar({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=hr(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),pi(t,"connected",!1),t.serverSyncTree_=new ar({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);ri(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function hi(t){var e=t.infoData_.getNode(new gt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function li(t){return Ir({timestamp:hi(t)})}function fi(t,e,n,r,i){t.dataUpdateCount++;var a=new gt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=Object(o.map)(n,function(t){return de(t)});s=function(t,e,n,r){var i=br(t,r);if(i){var o=wr(i),a=o.path,s=o.queryId,u=kt(a,e),c=on.fromObject(n);return _r(t,a,new Qe(Ke(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=de(n);s=function(t,e,n,r){var i=br(t,r);if(null!=i){var o=wr(i),a=o.path,s=o.queryId,u=kt(a,e);return _r(t,a,new Ge(Ke(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var h=Object(o.map)(n,function(t){return de(t)});s=function(t,e,n){var r=on.fromObject(n);return mr(t,new Qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,h)}else{var l=de(n);s=hr(t.serverSyncTree_,a,l)}var f=a;s.length>0&&(f=Ii(t,a)),ri(t.eventQueue_,f,s)}function di(t,e){pi(t,"connected",e),!1===e&&function(t){_i(t,"onDisconnectEvents");var e=li(t),n=De();Le(t.onDisconnect_,yt(),function(r,i){var o=Ar(r,i,t.serverSyncTree_,e);je(n,r,o)});var r=[];Le(n,yt(),function(e,n){r=r.concat(hr(t.serverSyncTree_,e,n));var i=Ai(t,e);Ii(t,i)}),t.onDisconnect_=De(),ri(t.eventQueue_,yt(),r)}(t)}function pi(t,e,n){var r=new gt("/.info/"+e),i=de(n);t.infoData_.updateSnapshot(r,i);var o=hr(t.infoSyncTree_,r,i);ri(t.eventQueue_,r,o)}function mi(t){return t.nextWriteId_++}function vi(t,e,n,r,i){_i(t,"set",{path:e.toString(),value:n,priority:r});var o=li(t),a=de(n,r),s=dr(t.serverSyncTree_,e),u=Or(a,s,o),c=mi(t),h=sr(t.serverSyncTree_,e,u,c,!0);ei(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||C("set at "+e+" failed: "+n);var a=cr(t.serverSyncTree_,c,!o);ri(t.eventQueue_,e,a),Ei(t,i,n,r)});var l=Ai(t,e);Ii(t,l),ri(t.eventQueue_,l,[])}function gi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&function t(e,n){if(Mt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(ie,function(t,n){je(e,new gt(t),n)}),t(e,n)}if(e.children.size>0){var i=bt(n);return n=_t(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),Ei(t,n,r,i)})}function yi(t,e,n,r){var i=de(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&je(t.onDisconnect_,e,i),Ei(t,r,n,o)})}function bi(t,e,n){var r;r=".info"===bt(e._path)?lr(t.infoSyncTree_,e,n):lr(t.serverSyncTree_,e,n),ni(t.eventQueue_,e._path,r)}function wi(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ai)}function _i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),T.apply(void 0,Object(a.__spreadArray)([r],Object(a.__read)(e)))}function Ei(t,e,n,r){e&&q(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function Si(t,e,n){return dr(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Ti(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ci(t,e),Pr(e)){var n=ki(t,e);Object(o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=Si(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=kt(e,c.path);a=a.updateChild(h,c.currentOutputSnapshotRaw)}var l=a.val(!0),f=e;t.server_.put(f.toString(),l,function(r){_i(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(cr(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);Ci(t,xr(t.transactionQueueTree_,e)),Ti(t,t.transactionQueueTree_),ri(t.eventQueue_,e,i);for(var s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(var s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{C("transaction at "+f.toString()+" failed: "+r);for(var s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ii(t,e)}},s)}(t,Fr(e),n)}else jr(e)&&Lr(e,function(e){Ti(t,e)})}function Ii(t,e){var n=Mi(t,e),r=Fr(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c,h=e[s],l=kt(n,h.path),f=!1;if(Object(o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)f=!0,u=h.abortReason,i=i.concat(cr(t.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=si)f=!0,u="maxretry",i=i.concat(cr(t.serverSyncTree_,h.currentWriteId,!0));else{var d=Si(t,h.path,a);h.currentInputSnapshot=d;var p=e[s].update(d.val());if(void 0!==p){Hr("transaction failed: Data returned ",p,h.path);var m=de(p),v="object"===typeof p&&null!=p&&Object(o.contains)(p,".priority");v||(m=m.updatePriority(d.getPriority()));var g=h.currentWriteId,y=li(t),b=Or(m,d,y);h.currentOutputSnapshotRaw=m,h.currentOutputSnapshotResolved=b,h.currentWriteId=mi(t),a.splice(a.indexOf(g),1),i=(i=i.concat(sr(t.serverSyncTree_,h.path,b,h.currentWriteId,h.applyLocally))).concat(cr(t.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(cr(t.serverSyncTree_,h.currentWriteId,!0))}ri(t.eventQueue_,n,i),i=[],f&&(e[s].status=2,c=e[s].unwatcher,setTimeout(c,Math.floor(0)),e[s].onComplete&&("nodata"===u?r.push(function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}):r.push(function(){return e[s].onComplete(new Error(u),!1,null)})))},u=0;u<e.length;u++)s(u);Ci(t,t.transactionQueueTree_);for(var u=0;u<r.length;u++)q(r[u]);Ti(t,t.transactionQueueTree_)}(t,ki(t,n),r),r}function Mi(t,e){var n,r=t.transactionQueueTree_;for(n=bt(e);null!==n&&void 0===Pr(r);)r=xr(r,n),n=bt(e=_t(e));return r}function ki(t,e){var n=[];return function t(e,n,r){var i=Pr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Lr(n,function(n){t(e,n,r)})}(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function Ci(t,e){var n=Pr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Dr(e,n.length>0?n:void 0)}Lr(e,function(e){Ci(t,e)})}function Ai(t,e){var n=Fr(Mi(t,e)),r=xr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){Oi(t,e)}),Oi(t,r),function t(e,n,r,i){r&&!i&&n(e),Lr(e,function(e){t(e,n,!0,i)}),r&&i&&n(e)}(r,function(e){Oi(t,e)}),n}function Oi(t,e){var n=Pr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(cr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Dr(e,void 0):n.length=a+1,ri(t.eventQueue_,Fr(e),i);for(s=0;s<r.length;s++)q(r[s])}}var Ri=function(t,e){var n=Ni(t),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new gt(n.pathString)}},Ni=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof t){var h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));var l=t.indexOf("/");-1===l&&(l=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(l,f)),l<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(l,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(a.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(h=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(h+1),10)):h=e.length;var p=e.slice(0,h);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},xi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.stringify)(this.snapshot.exportVal())},t}(),Pi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Di=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),ji=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return gi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Jr("OnDisconnect.remove",this._path);var t=new o.Deferred;return yi(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Jr("OnDisconnect.set",this._path),Wr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return yi(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Jr("OnDisconnect.setWithPriority",this._path),Wr("OnDisconnect.setWithPriority",t,this._path,!1),Qr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=de(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&je(t.onDisconnect_,e,o),Ei(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Jr("OnDisconnect.update",this._path),Gr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if(Object(o.isEmpty)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=de(r);je(t.onDisconnect_,It(e,n),i)}),Ei(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Li=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Mt(this._path)?null:Et(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ne(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ne(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=At(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Fi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ui(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==O)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==R)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===ie){if(null!=e&&!zr(e)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.assert)(t.getIndex()instanceof pe||t.getIndex()===me,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var qi=function(t){function e(e,n){return t.call(this,e,n,new ke,!1)||this}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Tt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Li),Vi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new gt(e),r=Wi(this.ref,e);return new t(this._node.getChild(n),r,ie)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Wi(n.ref,r),ie))})},t.prototype.hasChild=function(t){var e=new gt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ki(t,e){return(t=Object(o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Wi(t._root,e):t._root}function zi(t,e){(t=Object(o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=Ri(e,t._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ki(t,n.path.toString())}function Wi(t,e){return null===bt((t=Object(o.getModularInstance)(t))._path)?$r("child","path",e,!1):Xr("child","path",e,!1),new qi(t._repo,It(t._path,e))}function Hi(t,e){t=Object(o.getModularInstance)(t),Jr("set",t._path),Wr("set",e,t._path,!1);var n=new o.Deferred;return vi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Gi(t,e){Gr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){_i(t,"update",{path:e.toString(),value:n});var i=!0,o=li(t),a={};if(L(n,function(n,r){i=!1,a[n]=Ar(It(e,n),de(r),t.serverSyncTree_,o)}),i)T("update() called with empty data.  Don't do anything."),Ei(0,r,"ok",void 0);else{var s=mi(t),u=ur(t.serverSyncTree_,e,a,s);ei(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||C("update at "+e+" failed: "+n);var a=cr(t.serverSyncTree_,s,!o),u=a.length>0?Ii(t,e):e;ri(t.eventQueue_,u,a),Ei(0,r,n,i)}),L(n,function(n){var r=Ai(t,It(e,n));Ii(t,r)}),ri(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function Qi(t){return function(t,e){var n=pr(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=de(n).withIndex(e._queryParams.getIndex()),i=hr(t.serverSyncTree_,e._path,r);return ni(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return _i(t,"get for query "+Object(o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(o.getModularInstance)(t))._repo,t).then(function(e){return new Vi(e,new qi(t._repo,t._path),t._queryParams.getIndex())})}var Yi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new xi("value",this,new Vi(t.snapshotNode,new qi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Pi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Xi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Pi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.assert)(null!=t.childName,"Child events should have a childName.");var n=Wi(new qi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new xi(t.type,this,new Vi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function $i(t,e,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){bi(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Di(n,o||void 0),c="value"===e?new Yi(u):new Xi(e,u);return function(t,e,n){var r;r=".info"===bt(e._path)?fr(t.infoSyncTree_,e,n):fr(t.serverSyncTree_,e,n),ni(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return bi(t._repo,t,c)}}function Ji(t,e,n,r){return $i(t,"value",e,n,r)}function Zi(t,e,n,r){return $i(t,"child_added",e,n,r)}function to(t,e,n,r){return $i(t,"child_changed",e,n,r)}function eo(t,e,n,r){return $i(t,"child_moved",e,n,r)}function no(t,e,n,r){return $i(t,"child_removed",e,n,r)}function ro(t,e,n){var r=null,i=n?new Di(n):null;"value"===e?r=new Yi(i):e&&(r=new Xi(e,i)),bi(t._repo,t,r)}var io=function(){return function(){}}(),oo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Wr("endAt",this._value,t._path,!0);var e=Ae(t._queryParams,this._value,this._key);if(Bi(e),Ui(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var ao=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Wr("endBefore",this._value,t._path,!1);var e=function(t,e,n){var r;return t.index_===Kt?("string"===typeof e&&(e=be(e)),r=Ae(t,e,n)):r=Ae(t,e,null==n?O:be(n)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Bi(e),Ui(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var so=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Wr("startAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Bi(e),Ui(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var uo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Wr("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===Kt?("string"===typeof e&&(e=ye(e)),r=Ce(t,e,n)):r=Ce(t,e,null==n?R:ye(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Bi(e),Ui(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var co=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)},e}(io);var ho=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)},e}(io);var lo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByChild");var e=new gt(this._path);if(Mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new pe(e),r=Oe(t._queryParams,n);return Ui(r),new Li(t._repo,t._path,r,!0)},e}(io);var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByKey");var e=Oe(t._queryParams,Kt);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByPriority");var e=Oe(t._queryParams,ie);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByValue");var e=Oe(t._queryParams,me);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var vo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(Wr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oo(this._value,this._key)._apply(new so(this._value,this._key)._apply(t))},e}(io);function go(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.getModularInstance)(t);try{for(var u=Object(a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}!function(t){Object(o.assert)(!Bn,"__referenceConstructor has already been defined"),Bn=t}(qi),function(t){Object(o.assert)(!Gn,"__referenceConstructor has already been defined"),Gn=t}(qi);var yo="FIREBASE_DATABASE_EMULATOR_HOST",bo={},wo=!1;function _o(e,n,r,i,o){var a=i||e.options.databaseURL;void 0===a&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",e.options.projectId),a=e.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Ri(a,o),c=u.repoInfo,h=void 0;"undefined"!==typeof t&&(h=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"})[yo]),h?(s=!0,a="http://"+h+"?ns="+c.namespace,c=(u=Ri(a,o)).repoInfo):s=!u.repoInfo.secure;var l=o&&s?new H(H.OWNER):new W(e.name,e.options,n);Zr("Invalid Firebase Database URL",u),Mt(u.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(t,e,n,r){var i=bo[e.name];i||(i={},bo[e.name]=i);var o=i[t.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(t,wo,n,r),i[t.toURLString()]=o,o}(c,e,l,new z(e.name,r));return new Eo(f,e)}var Eo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new qi(this._repo,yt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return null!==this._rootInternal&&(!function(t,e){var n=bo[e];n&&n[t.key]===t||k("Database "+e+"("+t.repoInfo_+") has already been deleted."),wi(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&k("Cannot call "+t+" on a deleted database.")},t}();function So(t,e,n,r){void 0===r&&(r={}),(t=Object(o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:Object(o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);a=new H(s)}!function(t,e,n,r){t.repoInfo_=new $(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}function To(t){var e;(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(ai)}var Io={".sv":"timestamp"};var Mo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function ko(t,e,n){var r;if(t=Object(o.getModularInstance)(t),Jr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Ji(t,function(){});return function(t,e,n,r,i,a){_i(t,"transaction on "+e);var s={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(t,e,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Hr("transaction failed: Data returned ",c,s.path),s.status=0;var h=xr(t.transactionQueueTree_,e),l=Pr(h)||[];l.push(s),Dr(h,l);var f=void 0;"object"===typeof c&&null!==c&&Object(o.contains)(c,".priority")?(f=Object(o.safeGet)(c,".priority"),Object(o.assert)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(dr(t.serverSyncTree_,e)||he.EMPTY_NODE).getPriority().val();var d=li(t),p=de(c,f),m=Or(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=mi(t);var v=sr(t.serverSyncTree_,e,m,s.currentWriteId,s.applyLocally);ri(t.eventQueue_,e,v),Ti(t,t.transactionQueueTree_)}}(t._repo,t._path,e,function(e,n,r){var i=null;e?a.reject(e):(i=new Vi(r,new qi(t._repo,t._path),ie),a.resolve(new Mo(n,i)))},s,i),a.promise}var Co=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Ao=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Oo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Xr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Xr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ro=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;Object(o.validateArgCount)("Query.on",2,4,arguments.length),Object(o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Oo(s.database,t),e)};c.userCallback=n,c.context=u.context;var h=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Ji(this._delegate,c,h),n;case"child_added":return Zi(this._delegate,c,h),n;case"child_removed":return no(this._delegate,c,h),n;case"child_changed":return to(this._delegate,c,h),n;case"child_moved":return eo(this._delegate,c,h),n;default:throw new Error(Object(o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.validateArgCount)("Query.off",0,3,arguments.length),function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",t,!0),Object(o.validateCallback)("Query.off","callback",e,!0),Object(o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,ro(this._delegate,t,r)}else ro(this._delegate,t)},t.prototype.get=function(){var t=this;return Qi(this._delegate).then(function(e){return new Oo(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;Object(o.validateArgCount)("Query.once",1,4,arguments.length),Object(o.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Oo(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var h=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Ji(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":Zi(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":no(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":to(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":eo(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Object(o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,go(this._delegate,function(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new co(t)}(e)))},t.prototype.limitToLast=function(e){return Object(o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,go(this._delegate,function(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ho(t)}(e)))},t.prototype.orderByChild=function(e){return Object(o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,go(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xr("orderByChild","path",t,!1),new lo(t)}(e)))},t.prototype.orderByKey=function(){return Object(o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,go(this._delegate,new fo))},t.prototype.orderByPriority=function(){return Object(o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,go(this._delegate,new po))},t.prototype.orderByValue=function(){return Object(o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,go(this._delegate,new mo))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,go(this._delegate,function(t,e){return void 0===t&&(t=null),Yr("startAt","key",e,!0),new so(t,e)}(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,go(this._delegate,function(t,e){return Yr("startAfter","key",e,!0),new uo(t,e)}(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,go(this._delegate,function(t,e){return Yr("endAt","key",e,!0),new oo(t,e)}(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,go(this._delegate,function(t,e){return Yr("endBefore","key",e,!0),new ao(t,e)}(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,go(this._delegate,function(t,e){return Yr("equalTo","key",e,!0),new vo(t,e)}(e,n)))},t.prototype.toString=function(){return Object(o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new No(this.database,new qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),No=function(t){function e(e,n){var r=t.call(this,e,new Li(n._repo,n._path,new ke,!1))||this;return r.database=e,r._delegate=n,r}return Object(a.__extends)(e,t),e.prototype.getKey=function(){return Object(o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,Wi(this._delegate,t))},e.prototype.getParent=function(){Object(o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.validateArgCount)("Reference.set",1,2,arguments.length),Object(o.validateCallback)("Reference.set","onComplete",e,!0);var n=Hi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jr("Reference.update",this._delegate._path),Object(o.validateCallback)("Reference.update","onComplete",e,!0);var i=Gi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(t,e,n){if(Jr("setWithPriority",t._path),Wr("setWithPriority",e,t._path,!1),Qr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return vi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(o.validateArgCount)("Reference.remove",0,1,arguments.length),Object(o.validateCallback)("Reference.remove","onComplete",t,!0);var e,n=(e=this._delegate,Jr("remove",e._path),Hi(e,null));return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.transaction=function(t,e,n){var r=this;Object(o.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(o.validateCallback)("Reference.transaction","onComplete",e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.errorPrefix)(t,e)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=ko(this._delegate,t,{applyLocally:n}).then(function(t){return new Ao(t.committed,new Oo(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){Object(o.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=function(t,e){t=Object(o.getModularInstance)(t),Jr("setPriority",t._path),Qr("setPriority",e,!1);var n=new o.Deferred;return vi(t._repo,It(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(o.validateArgCount)("Reference.push",0,2,arguments.length),Object(o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(t,e){t=Object(o.getModularInstance)(t),Jr("push",t._path),Wr("push",e,t._path,!0);var n,r=hi(t._repo),i=ge(r),a=Wi(t,i),s=Wi(t,i);return n=null!=e?Hi(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Jr("Reference.onDisconnect",this._delegate._path),new Co(new ji(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ro),xo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),So(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof No){var e=zi(this._delegate,t.toString());return new No(this,e)}e=Ki(this._delegate,t);return new No(this,e)},t.prototype.refFromURL=function(t){Object(o.validateArgCount)("database.refFromURL",1,1,arguments.length);var e=zi(this._delegate,t);return new No(this,e)},t.prototype.goOffline=function(){return Object(o.validateArgCount)("database.goOffline",0,0,arguments.length),t=this._delegate,(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOffline"),void wi(t._repo);var t},t.prototype.goOnline=function(){return Object(o.validateArgCount)("database.goOnline",0,0,arguments.length),To(this._delegate)},t.ServerValue={TIMESTAMP:Io,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();var Po=Object.freeze({__proto__:null,forceLongPolling:function(){ct.forceDisallow(),at.forceAllow()},forceWebSockets:function(){at.forceDisallow()},isWebSocketsAvailable:function(){return ct.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ue(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,a=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",function(){return o},"PRIVATE")),{instance:new xo(_o(e,c,void 0,n,u),e),namespace:a}}}),Do=Ut;Ut.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ut.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var jo=lt,Lo=$,Fo=Object.freeze({__proto__:null,DataConnection:Do,RealTimeConnection:jo,hijackHash:function(t){var e=Ut.prototype.put;return Ut.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ut.prototype.put=e}},ConnectionTarget:Lo,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){wo=t}(t)}}),Uo=xo.ServerValue;!function(t){l(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new xo(_o(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:No,Query:Ro,Database:xo,DataSnapshot:Oo,enableLogging:S,INTERNAL:Po,ServerValue:Uo,TEST_ACCESS:Fo}).setMultipleInstances(!0));t.registerVersion(u,c),Object(o.isNodeSdk)()&&(e.exports=n)}(r.default)}).call(this,n(9),n(166)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(3),i=n(7),o=n(0),a=n(1),s=n(6);function u(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c,h=u(r),l=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",l),d=new Map,p={activated:!1,tokenObservers:[]},m={enabled:!1};function v(t){return d.get(t)||p}function g(t,e){d.set(t,e)}function y(){return m}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w="exchangeRecaptchaToken",_="exchangeDebugToken",E={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},S=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function T(){return self.grecaptcha}function I(t){if(!v(t).activated)throw f.create("use-before-activation",{appName:t.name})}function M(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,a,s,u,c,h,l,d,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw h=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:h.message});case 8:if(!(l=c.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(l[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function k(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+w+"?key="+o,body:{recaptcha_token:e}}}function C(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+_+"?key="+o,body:{debug_token:e}}}var A="firebase-app-check-database",O=1,R="firebase-app-check-store",N="debug-token",x=null;function P(){return x||(x=new Promise(function(t,e){try{var n=indexedDB.open(A,O);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(f.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(R,{keyPath:"compositeKey"})}}}catch(r){e(f.create("storage-open",{originalErrorMessage:r.message}))}}))}function D(t){return L(F(t))}function j(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return n=o.sent(),r=n.transaction(R,"readwrite"),i=r.objectStore(R),a=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){a.onsuccess=function(e){t()},r.onerror=function(t){var n;e(f.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function L(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return e=o.sent(),n=e.transaction(R,"readonly"),r=n.objectStore(R),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(f.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function F(t){return t.options.appId+"-"+t.name}var U=new s.Logger("@firebase/app-check");function B(t,e){return a.isIndexedDBAvailable()?function(t,e){return j(F(t),e)}(t,e).catch(function(t){U.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function q(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L(N)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),(r=e,j(N,r)).catch(function(t){return U.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}function V(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var K={error:"UNKNOWN_ERROR"};function z(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,s,u,c,h,l,f,d,p;return o.__generator(this,function(m){switch(m.label){case 0:return I(t),r=v(t),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(u=m.sent())&&Q(u)&&(i=u,g(t,o.__assign(o.__assign({},r),{token:i})),G(t,{token:i.token})),m.label=2;case 2:return!n&&i&&Q(i)?[2,{token:i.token}]:y().enabled?(h=M,l=C,f=[t],[4,V()]):[3,6];case 3:return[4,h.apply(void 0,[l.apply(void 0,f.concat([m.sent()])),e])];case 4:return c=m.sent(),[4,B(t,c)];case 5:return m.sent(),g(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return m.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=m.sent(),[3,9];case 8:return d=m.sent(),U.error(d),s=d,[3,9];case 9:return i?[3,10]:(p=function(t){return{token:(e=K,a.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(s),[3,12]);case 10:return p={token:i.token},g(t,o.__assign(o.__assign({},r),{token:i})),[4,B(t,i)];case 11:m.sent(),m.label=12;case 12:return G(t,p),[2,p]}})})}function W(t,e,n,r,i){var a=v(t),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(t,e){var n=this;return new S(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return v(t).token?[3,2]:[4,z(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,z(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=v(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0},E.RETRIAL_MIN_WAIT,E.RETRIAL_MAX_WAIT)}(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&Q(a.token)){var h=a.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else null==a.token&&a.cachedTokenPromise.then(function(t){t&&Q(t)&&r({token:t.token})}).catch(function(){});g(t,u)}function H(t,e){var n=v(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),g(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function G(t,e){for(var n=0,r=v(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function Q(t){return t.expireTimeMillis-Date.now()>0}var Y="https://www.google.com/recaptcha/api.js";function X(t,e){var n=v(t),r=new a.Deferred;g(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=T();return u?u.ready(function(){J(t,e,u,i),r.resolve(u)}):function(t){var e=document.createElement("script");e.src=""+Y,e.onload=t,document.head.appendChild(e)}(function(){var n=T();if(!n)throw new Error("no recaptcha");n.ready(function(){J(t,e,n,i),r.resolve(n)})}),r.promise}function $(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return I(t),[4,v(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=v(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function J(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),a=v(t);g(t,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Z=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,$(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),f.create("recaptcha-error");case 4:return[2,M(k(this._app,t),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,X(t,this._siteKey).catch(function(){})},t}(),tt=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=a.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}})})},t.prototype.initialize=function(t){this._app=t},t}();function et(t,e,n,r){var i=v(t);if(i.activated)throw f.create("already-activated",{appName:t.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,D(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),U.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}(t).then(function(e){return e&&Q(e)&&g(t,o.__assign(o.__assign({},v(t)),{token:e})),e}),s.provider="string"===typeof e?new Z(e):e instanceof Z||e instanceof tt?e:new tt({getToken:e.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,g(t,s),s.provider.initialize(t,n)}function nt(t,e){return{app:t,activate:function(n,r){return et(t,n,e,r)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=v(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),g(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)},getToken:function(n){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,z(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(t,e,n)},onTokenChanged:function(n,r,i){return function(t,e,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),W(t,e,"EXTERNAL",o,a),function(){return H(t,o)}}(t,e,n,r)},INTERNAL:{delete:function(){for(var e=0,n=v(t).tokenObservers;e<n.length;e++){var r=n[e];H(t,r.next)}return Promise.resolve()}}}}var rt="@firebase/app-check",it="0.3.2",ot="appCheck",at="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component(ot,function(t){return nt(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Z,CustomProvider:tt}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(at).initialize()})),t.INTERNAL.registerComponent(new i.Component(at,function(t){return function(t,e){return{getToken:function(n){return z(t,e,n)},addTokenListener:function(n){return W(t,e,"INTERNAL",n)},removeTokenListener:function(e){return H(t,e)}}}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(rt,it)}(h.default),function(){var t=a.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new a.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(q())}}()},function(t,e,n){"use strict";n(77)},function(t,e,n){(function(e,n){t.exports=function(){"use strict";!function(t){var e,n,r,i,o,a,s,u,c,h;function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return t="string"!=typeof t?String(t):t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function g(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(r&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(i&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&r&&s(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,n=m(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=v(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(t,e){var n,r=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(n=e.method||this.method||"GET",t=n.toUpperCase(),-1<c.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))}),e}function E(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}t.fetch||(e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,(o="ArrayBuffer"in t)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&-1<a.indexOf(Object.prototype.toString.call(t))}),p.prototype.append=function(t,e){t=l(t),e=f(e);var n=this.map[t];this.map[t]=n?n+","+e:e},p.prototype.delete=function(t){delete this.map[l(t)]},p.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},p.prototype.set=function(t,e){this.map[l(t)]=f(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),d(t)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),d(t)},p.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),d(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t},h=[301,302,303,307,308],E.redirect=function(t,e){if(-1===h.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},t.Headers=p,t.Request=w,t.Response=E,t.fetch=function(t,e){return new Promise(function(n,i){var o=new w(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",t=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),e=n.shift().trim();e&&(n=n.join(":").trim(),t.append(e,n))}),t)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new E(r,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}function i(t){try{return!!t()}catch(t){return!0}}function o(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function a(t){return w.call(t).slice(8,-1)}function s(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function u(t){return E(s(t))}function c(t){return"object"==typeof t?null!==t:"function"==typeof t}function h(t,e){if(!c(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!c(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!c(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!c(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function l(t){return Object(s(t))}function f(t){return M?I.createElement(t):{}}function d(t){if(!c(t))throw TypeError(String(t)+" is not an object");return t}function p(e,n){try{N(m,e,n)}catch(t){m[e]=n}return n}var m=($=function(t){return t&&t.Math==Math&&t})("object"==typeof globalThis&&globalThis)||$("object"==typeof window&&window)||$("object"==typeof self&&self)||$("object"==typeof t&&t)||function(){return this}()||Function("return this")(),v=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),g={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,b={f:y&&!g.call({1:2},1)?function(t){return!!(t=y(this,t))&&t.enumerable}:g},w={}.toString,_="".split,E=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==a(t)?_.call(t,""):Object(t)}:Object,S={}.hasOwnProperty,T=Object.hasOwn||function(t,e){return S.call(l(t),e)},I=m.document,M=c(I)&&c(I.createElement),k=!v&&!i(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a}),C=Object.getOwnPropertyDescriptor,A={f:v?C:function(t,e){if(t=u(t),e=h(e,!0),k)try{return C(t,e)}catch(t){}if(T(t,e))return o(!b.f.call(t,e),t[e])}},O=Object.defineProperty,R={f:v?O:function(t,e,n){if(d(t),e=h(e,!0),d(n),k)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=v?function(t,e,n){return R.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t},x=m[Ae="__core-js_shared__"]||p(Ae,{}),P=Function.toString;function D(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Q+Y).toString(36)}"function"!=typeof x.inspectSource&&(x.inspectSource=function(t){return P.call(t)});var j,L,F,U,B,q,V,K,z=x.inspectSource,W="function"==typeof(Rt=m.WeakMap)&&/native code/.test(z(Rt)),H=!1,G=r(function(t){(t.exports=function(t,e){return x[t]||(x[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),Q=0,Y=Math.random(),X=G("keys"),$=function(t){return X[t]||(X[t]=D(t))},J={},Z="Object already initialized",t=m.WeakMap;function tt(t){return"function"==typeof t?t:void 0}function et(t,e){return arguments.length<2?tt(ft[t])||tt(m[t]):ft[t]&&ft[t][e]||m[t]&&m[t][e]}function nt(t){return isNaN(t=+t)?0:(0<t?pt:dt)(t)}function rt(t){return 0<t?mt(nt(t),9007199254740991):0}function it(t,e){var n,r=u(t),i=0,o=[];for(n in r)!T(J,n)&&T(r,n)&&o.push(n);for(;e.length>i;)T(r,n=e[i++])&&(~yt(o,n)||o.push(n));return o}function ot(t,e){for(var n=St(e),r=R.f,i=A.f,o=0;o<n.length;o++){var a=n[o];T(t,a)||r(t,a,i(e,a))}}function at(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,u=a?m:s?m[o]||p(o,{}):(m[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=Ot(u,n))&&i.value:u[n],!At(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;ot(r,i)}(t.sham||i&&i.sham)&&N(r,"sham",!0),lt(u,n,r,t)}}function st(){}function ut(t){return"<script>"+t+"</"+Bt+">"}V=W||x.state?(j=x.state||(x.state=new t),L=j.get,F=j.has,U=j.set,B=function(t,e){if(F.call(j,t))throw new TypeError(Z);return e.facade=t,U.call(j,t,e),e},q=function(t){return L.call(j,t)||{}},function(t){return F.call(j,t)}):(K=$("state"),J[K]=!0,B=function(t,e){if(T(t,K))throw new TypeError(Z);return e.facade=t,N(t,K,e),e},q=function(t){return T(t,K)?t[K]:{}},function(t){return T(t,K)});var ct,ht={set:B,get:q,has:V,enforce:function(t){return V(t)?q(t):B(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=q(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},lt=r(function(t){var e=ht.get,n=ht.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||T(i,"name")||N(i,"name",e),(o=n(i)).source||(o.source=r.join("string"==typeof e?e:""))),t!==m?(a?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=i:N(t,e,i)):s?t[e]=i:p(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||z(this)})}),ft=m,dt=Math.ceil,pt=Math.floor,mt=Math.min,vt=Math.max,gt=Math.min,yt=((g=function(t){return function(e,n,r){var i,o=u(e),a=rt(o.length),s=function(t,e){return(t=nt(t))<0?vt(t+e,0):gt(t,e)}(r,a);if(t&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}})(!0),g(!1)),bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wt=bt.concat("length","prototype"),_t={f:Object.getOwnPropertyNames||function(t){return it(t,wt)}},Et={f:Object.getOwnPropertySymbols},St=et("Reflect","ownKeys")||function(t){var e=_t.f(d(t)),n=Et.f;return n?e.concat(n(t)):e},Tt=/#|\.prototype\./,It=(Ae=function(t,e){return(t=Mt[It(t)])==Ct||t!=kt&&("function"==typeof e?i(e):!!e)}).normalize=function(t){return String(t).replace(Tt,".").toLowerCase()},Mt=Ae.data={},kt=Ae.NATIVE="N",Ct=Ae.POLYFILL="P",At=Ae,Ot=A.f,Rt=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Nt=$("IE_PROTO"),xt=Object.prototype,Pt=Rt?Object.getPrototypeOf:function(t){return t=l(t),T(t,Nt)?t[Nt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xt:null},Dt=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return d(n),function(t){if(!c(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),jt=Object.keys||function(t){return it(t,bt)},Lt=v?Object.defineProperties:function(t,e){d(t);for(var n,r=jt(e),i=r.length,o=0;o<i;)R.f(t,n=r[o++],e[n]);return t},Ft=et("document","documentElement"),Ut="prototype",Bt="script",qt=$("IE_PROTO"),Vt=function(){try{ct=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;Vt=ct?function(t){t.write(ut("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ct):((t=f("iframe")).style.display="none",Ft.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(ut("document.F=Object")),t.close(),t.F);for(var e=bt.length;e--;)delete Vt[Ut][bt[e]];return Vt()};J[qt]=!0;var Kt=Object.create||function(t,e){var n;return null!==t?(st[Ut]=d(t),n=new st,st[Ut]=null,n[qt]=t):n=Vt(),void 0===e?n:Lt(n,e)},W=et("navigator","userAgent")||"",g=(t=m.process)&&t.versions;function zt(t){return T(Xt,t)&&(Yt||"string"==typeof Xt[t])||(Yt&&T($t,t)?Xt[t]=$t[t]:Xt[t]=Jt("Symbol."+t)),Xt[t]}function Wt(t){return void 0!==t&&(Zt.Array===t||ee[te]===t)}function Ht(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Gt(t,e,n){if(Ht(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}(Ae=g&&g.v8)?xe=(Ne=Ae.split("."))[0]<4?1:Ne[0]+Ne[1]:W&&(!(Ne=W.match(/Edge\/(\d+)/))||74<=Ne[1])&&(Ne=W.match(/Chrome\/(\d+)/))&&(xe=Ne[1]);var Qt=xe&&+xe,Yt=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Qt&&Qt<41}),Rt=Yt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Xt=G("wks"),$t=m.Symbol,Jt=Rt?$t:$t&&$t.withoutSetter||D,Zt={},te=zt("iterator"),ee=Array.prototype;function ne(t){if(null!=t)return t[ce]||t["@@iterator"]||Zt[ue(t)]}function re(t){var e=t.return;return void 0!==e&&d(e.call(t)).value}function ie(t,e){this.stopped=t,this.result=e}function oe(t,e,n){function r(t){return o&&re(o),new ie(!0,t)}function i(t){return f?(d(t),m?v(t[0],t[1],r):v(t[0],t[1])):m?v(t,r):v(t)}var o,a,s,u,c,h,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),v=Gt(e,l,1+f+m);if(p)o=t;else{if("function"!=typeof(p=ne(t)))throw TypeError("Target is not iterable");if(Wt(p)){for(a=0,s=rt(t.length);a<s;a++)if((u=i(t[a]))&&u instanceof ie)return u;return new ie(!1)}o=p.call(t)}for(c=o.next;!(h=c.call(o)).done;){try{u=i(h.value)}catch(t){throw re(o),t}if("object"==typeof u&&u&&u instanceof ie)return u}return new ie(!1)}(t={})[zt("toStringTag")]="z";var g="[object z]"===String(t),ae=zt("toStringTag"),se="Arguments"==a(function(){return arguments}()),ue=g?a:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ae))?t:se?a(e):"Object"==(t=a(e))&&"function"==typeof e.callee?"Arguments":t},ce=zt("iterator"),he=function t(e,n){var r=this;return r instanceof t?(Dt&&(r=Dt(new Error(void 0),Pt(r))),void 0!==n&&N(r,"message",String(n)),oe(e,(n=[]).push,{that:n}),N(r,"errors",n),r):new t(e,n)};function le(t,e,n){for(var r in e)lt(t,r,e[r],n);return t}function fe(t,e,n){t&&!T(t=n?t:t.prototype,ge)&&ve(t,ge,{configurable:!0,value:e})}function de(t){var e=et(t),t=R.f;v&&e&&!e[ye]&&t(e,ye,{configurable:!0,get:function(){return this}})}function pe(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}he.prototype=Kt(Error.prototype,{constructor:o(5,he),message:o(5,""),name:o(5,"AggregateError")}),at({global:!0},{AggregateError:he}),g||lt(Object.prototype,"toString",g?{}.toString:function(){return"[object "+ue(this)+"]"},{unsafe:!0});var me=m.Promise,ve=R.f,ge=zt("toStringTag"),ye=zt("species"),be=zt("iterator"),we=!1;try{var _e=0,Ee={next:function(){return{done:!!_e++}},return:function(){we=!0}};Ee[be]=function(){return this},Array.from(Ee,function(){throw 2})}catch(La){}function Se(t,e){if(!e&&!we)return!1;var n=!1;try{var r={};r[be]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function Te(t,e){var n;return void 0===(t=d(t).constructor)||null==(n=d(t)[Ce])?e:Ht(n)}function Ie(t){var e;Le.hasOwnProperty(t)&&(e=Le[t],delete Le[t],e())}function Me(t){return function(){Ie(t)}}var ke,Ce=zt("species"),Ae=/(?:iphone|ipod|ipad).*applewebkit/i.test(W),Oe="process"==a(m.process),Re=m.location,Ne=m.setImmediate,xe=m.clearImmediate,Pe=m.process,t=m.MessageChannel,De=m.Dispatch,je=0,Le={},Fe="onreadystatechange",g=function(t){Ie(t.data)},Ee=function(t){m.postMessage(t+"",Re.protocol+"//"+Re.host)};Ne&&xe||(Ne=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Le[++je]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ke(je),je},xe=function(t){delete Le[t]},Oe?ke=function(t){Pe.nextTick(Me(t))}:De&&De.now?ke=function(t){De.now(Me(t))}:t&&!Ae?(Ge=(t=new t).port2,t.port1.onmessage=g,ke=Gt(Ge.postMessage,Ge,1)):m.addEventListener&&"function"==typeof postMessage&&!m.importScripts&&Re&&"file:"!==Re.protocol&&!i(Ee)?(ke=Ee,m.addEventListener("message",g,!1)):ke=Fe in f("script")?function(t){Ft.appendChild(f("script"))[Fe]=function(){Ft.removeChild(this),Ie(t)}}:function(t){setTimeout(Me(t),0)});var Ue,Be,qe,Ve,Ke,ze,We,He,Ge={set:Ne,clear:xe},Ee=/web0s(?!.*chrome)/i.test(W),g=A.f,Qe=Ge.set,Ne=m.MutationObserver||m.WebKitMutationObserver,xe=m.document,Ye=m.process,W=m.Promise;function Xe(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=Ht(e),this.reject=Ht(n)}function $e(t,e){return d(t),c(e)&&e.constructor===t?e:((0,(t=hn.f(t)).resolve)(e),t.promise)}function Je(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function Ze(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e}function tn(t,e){var n;t.notified||(t.notified=!0,n=t.reactions,cn(function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],h=i?c.ok:c.fail,l=c.resolve,f=c.reject,d=c.domain;try{h?(i||(2===t.rejection&&On(t),t.rejection=1),!0===h?a=r:(d&&d.enter(),a=h(r),d&&(d.exit(),u=!0)),a===c.promise?f(bn("Promise-chain cycle")):(s=Ze(a))?s.call(a,l,f):l(a)):f(r)}catch(r){d&&!u&&d.exit(),f(r)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Cn(t)}))}function en(t,e,n){var r,i;Tn?((r=wn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),m.dispatchEvent(r)):r={promise:e,reason:n},!In&&(i=m["on"+t])?i(r):t===Mn&&function(t,e){var n=m.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function nn(t,e,n){return function(r){t(e,r,n)}}function rn(t,e,n){t.done||(t.done=!0,(t=n||t).value=e,t.state=2,tn(t,!0))}(g=(g=g(m,"queueMicrotask"))&&g.value)||(Ue=function(){var t,e;for(Oe&&(t=Ye.domain)&&t.exit();Be;){e=Be.fn,Be=Be.next;try{e()}catch(t){throw Be?Ve():qe=void 0,t}}qe=void 0,t&&t.enter()},Ve=Ae||Oe||Ee||!Ne||!xe?W&&W.resolve?((We=W.resolve(void 0)).constructor=W,He=We.then,function(){He.call(We,Ue)}):Oe?function(){Ye.nextTick(Ue)}:function(){Qe.call(m,Ue)}:(Ke=!0,ze=xe.createTextNode(""),new Ne(Ue).observe(ze,{characterData:!0}),function(){ze.data=Ke=!Ke}));var on,an,sn,un,cn=g||function(t){t={fn:t,next:void 0},qe&&(qe.next=t),Be||(Be=t,Ve()),qe=t},hn={f:function(t){return new Xe(t)}},ln="object"==typeof window,fn=Ge.set,dn=zt("species"),pn="Promise",mn=ht.get,vn=ht.set,gn=ht.getterFor(pn),xe=me&&me.prototype,yn=me,Ne=xe,bn=m.TypeError,wn=m.document,_n=m.process,En=hn.f,Sn=En,Tn=!!(wn&&wn.createEvent&&m.dispatchEvent),In="function"==typeof PromiseRejectionEvent,Mn="unhandledrejection",kn=!1,Ge=(g=At(pn,function(){var t=z(yn)!==String(yn);if(!t&&66===Qt)return!0;if(51<=Qt&&/native code/.test(yn))return!1;function e(t){t(function(){},function(){})}var n=new yn(function(t){t(1)});return(n.constructor={})[dn]=e,!(kn=n.then(function(){})instanceof e)||!t&&ln&&!In}))||!Se(function(t){yn.all(t).catch(function(){})}),Cn=function(t){fn.call(m,function(){var e,n=t.facade,r=t.value,i=An(t);if(i&&(e=Je(function(){Oe?_n.emit("unhandledRejection",r,n):en(Mn,n,r)}),t.rejection=Oe||An(t)?2:1,e.error))throw e.value})},An=function(t){return 1!==t.rejection&&!t.parent},On=function(t){fn.call(m,function(){var e=t.facade;Oe?_n.emit("rejectionHandled",e):en("rejectionhandled",e,t.value)})},Rn=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw bn("Promise can't be resolved itself");var i=Ze(n);i?cn(function(){var r={done:!1};try{i.call(n,nn(t,r,e),nn(rn,r,e))}catch(n){rn(r,n,e)}}):(e.value=n,e.state=1,tn(e,!1))}catch(n){rn({done:!1},n,e)}}};if(g&&(Ne=(yn=function(t){pe(this,yn,pn),Ht(t),on.call(this);var e=mn(this);try{t(nn(Rn,e),nn(rn,e))}catch(t){rn(e,t)}}).prototype,(on=function(t){vn(this,{type:pn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=le(Ne,{then:function(t,e){var n=gn(this),r=En(Te(this,yn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Oe?_n.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&tn(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),an=function(){var t=new on,e=mn(t);this.promise=t,this.resolve=nn(Rn,e),this.reject=nn(rn,e)},hn.f=En=function(t){return t===yn||t===sn?new an:Sn(t)},"function"==typeof me&&xe!==Object.prototype)){un=xe.then,kn||(lt(xe,"then",function(t,e){var n=this;return new yn(function(t,e){un.call(n,t,e)}).then(t,e)},{unsafe:!0}),lt(xe,"catch",Ne.catch,{unsafe:!0}));try{delete xe.constructor}catch(La){}Dt&&Dt(xe,Ne)}at({global:!0,wrap:!0,forced:g},{Promise:yn}),fe(yn,pn,!1),de(pn),sn=et(pn),at({target:pn,stat:!0,forced:g},{reject:function(t){var e=En(this);return e.reject.call(void 0,t),e.promise}}),at({target:pn,stat:!0,forced:g},{resolve:function(t){return $e(this,t)}}),at({target:pn,stat:!0,forced:Ge},{all:function(t){var e=this,n=En(e),r=n.resolve,i=n.reject,o=Je(function(){var n=Ht(e.resolve),o=[],a=0,s=1;oe(t,function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then(function(t){c||(c=!0,o[u]=t,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=En(e),r=n.reject,i=Je(function(){var i=Ht(e.resolve);oe(t,function(t){i.call(e,t).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),at({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=hn.f(e),r=n.resolve,i=n.reject,o=Je(function(){var n=Ht(e.resolve),i=[],o=0,a=1;oe(t,function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then(function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))},function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var Nn="No one promise resolved";at({target:"Promise",stat:!0},{any:function(t){var e=this,n=hn.f(e),r=n.resolve,i=n.reject,o=Je(function(){var n=Ht(e.resolve),o=[],a=0,s=1,u=!1;oe(t,function(t){var c=a++,h=!1;o.push(void 0),s++,n.call(e,t).then(function(t){h||u||(u=!0,r(t))},function(t){h||u||(h=!0,o[c]=t,--s||i(new(et("AggregateError"))(o,Nn)))})}),--s||i(new(et("AggregateError"))(o,Nn))});return o.error&&i(o.value),n.promise}}),at({target:"Promise",proto:!0,real:!0,forced:xe=!!me&&i(function(){me.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=Te(this,et("Promise")),n="function"==typeof t;return this.then(n?function(n){return $e(e,t()).then(function(){return n})}:t,n?function(n){return $e(e,t()).then(function(){throw n})}:t)}}),"function"==typeof me&&(Ir=et("Promise").prototype.finally,me.prototype.finally!==Ir&&lt(me.prototype,"finally",Ir,{unsafe:!0}));var xn,g={codeAt:(Ne=function(t){return function(e,n){var r,i=String(s(e)),o=nt(n),e=i.length;return o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:Ne(!0)},Pn=zt("iterator"),Ge=!1;function Dn(){return this}function jn(){return this}function Ln(t,e,n,r,i,a,s){function u(t){if(t===i&&m)return m;if(!Bn&&t in d)return d[t];switch(t){case"keys":case Vn:case Kn:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=Kt(Fn,{next:o(1,n)}),fe(t,e,!1),Zt[e]=Dn}(n,e,r);var c,h,l=e+" Iterator",f=!1,d=t.prototype,p=d[qn]||d["@@iterator"]||i&&d[i],m=!Bn&&p||u(i);if((r="Array"==e&&d.entries||p)&&(t=Pt(r.call(new t)),Un!==Object.prototype&&t.next&&(Pt(t)!==Un&&(Dt?Dt(t,Un):"function"!=typeof t[qn]&&N(t,qn,jn)),fe(t,l,!0))),i==Vn&&p&&p.name!==Vn&&(f=!0,m=function(){return p.call(this)}),d[qn]!==m&&N(d,qn,m),Zt[e]=m,i)if(c={values:u(Vn),keys:a?m:u("keys"),entries:u(Kn)},s)for(h in c)!Bn&&!f&&h in d||lt(d,h,c[h]);else at({target:e,proto:!0,forced:Bn||f},c);return c}[].keys&&("next"in(Er=[].keys())?(si=Pt(Pt(Er)))!==Object.prototype&&(xn=si):Ge=!0),xe=null==xn||i(function(){var t={};return xn[Pn].call(t)!==t}),T(xn=xe?{}:xn,Pn)||N(xn,Pn,function(){return this});var Fn=(Ir={IteratorPrototype:xn,BUGGY_SAFARI_ITERATORS:Ge}).IteratorPrototype,Un=Ir.IteratorPrototype,Bn=Ir.BUGGY_SAFARI_ITERATORS,qn=zt("iterator"),Vn="values",Kn="entries",zn=g.charAt,Wn="String Iterator",Hn=ht.set,Gn=ht.getterFor(Wn);Ln(String,"String",function(t){Hn(this,{type:Wn,string:String(t),index:0})},function(){var t=Gn(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=zn(e,n),t.index+=n.length,{value:n,done:!1})});var Qn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Yn=zt("unscopables"),Xn=Array.prototype;null==Xn[Yn]&&R.f(Xn,Yn,{configurable:!0,value:Kt(null)});var Ne=function(t){Xn[Yn][t]=!0},$n="Array Iterator",Jn=ht.set,Zn=ht.getterFor($n),tr=Ln(Array,"Array",function(t,e){Jn(this,{type:$n,target:u(t),index:0,kind:e})},function(){var t=Zn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Zt.Arguments=Zt.Array,Ne("keys"),Ne("values"),Ne("entries");var er,nr=zt("iterator"),rr=zt("toStringTag"),ir=tr.values;for(er in Qn){var or=m[er],ar=or&&or.prototype;if(ar){if(ar[nr]!==ir)try{N(ar,nr,ir)}catch(La){ar[nr]=ir}if(ar[rr]||N(ar,rr,er),Qn[er])for(var sr in tr)if(ar[sr]!==tr[sr])try{N(ar,sr,tr[sr])}catch(La){ar[sr]=tr[sr]}}}function ur(t,e){var n;return new(void 0===(n=cr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||cr(n.prototype))||c(n)&&null===(n=n[hr]))?void 0:n)?Array:n)(0===e?0:e)}ft.Promise,at({target:"Promise",stat:!0},{try:function(t){var e=hn.f(this),t=Je(t);return(t.error?e.reject:e.resolve)(t.value),e.promise}});var cr=Array.isArray||function(t){return"Array"==a(t)},hr=zt("species"),lr=[].push,fr=(si={forEach:(Er=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,h,f){for(var d,p,m=l(u),v=E(m),g=Gt(c,h,3),y=rt(v.length),b=0,f=f||ur,w=e?f(u,y):n||a?f(u,0):void 0;b<y;b++)if((s||b in v)&&(p=g(d=v[b],b,m),t))if(e)w[b]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:lr.call(w,d)}else switch(t){case 4:return!1;case 7:lr.call(w,d)}return o?-1:r||i?i:w}})(0),map:Er(1),filter:Er(2),some:Er(3),every:Er(4),find:Er(5),findIndex:Er(6),filterOut:Er(7)}).find,dr=!0;(xe="find")in[]&&Array(1)[xe](function(){dr=!1}),at({target:"Array",proto:!0,forced:dr},{find:function(t){return fr(this,t,1<arguments.length?arguments[1]:void 0)}}),Ne(xe);var pr=Function.call;(Ge=function(t,e,n){return Gt(pr,m[t].prototype[e],n)})("Array","find");var mr=si.findIndex,vr=!0;function gr(t,e,n){(e=h(e))in t?R.f(t,e,o(0,n)):t[e]=n}(Ir="findIndex")in[]&&Array(1)[Ir](function(){vr=!1}),at({target:"Array",proto:!0,forced:vr},{findIndex:function(t){return mr(this,t,1<arguments.length?arguments[1]:void 0)}}),Ne(Ir),Ge("Array","findIndex"),at({target:"Array",stat:!0,forced:g=!Se(function(t){Array.from(t)})},{from:function(t){var e,n,r,i,o,a,s=l(t),u="function"==typeof this?this:Array,c=arguments.length,h=1<c?arguments[1]:void 0,f=void 0!==h,t=ne(s),p=0;if(f&&(h=Gt(h,2<c?arguments[2]:void 0,2)),null==t||u==Array&&Wt(t))for(n=new u(e=rt(s.length));p<e;p++)a=f?h(s[p],p):s[p],gr(n,p,a);else for(o=(i=t.call(s)).next,n=new u;!(r=o.call(i)).done;p++)a=f?function(t,e,n,r){try{return e(d(n)[0],n[1])}catch(e){throw re(t),e}}(i,h,[r.value,p]):r.value,gr(n,p,a);return n.length=p,n}}),ft.Array.from;var yr,br=si.some;at({target:"Array",proto:!0,forced:!(Er=!!(yr=[].some)&&i(function(){yr.call(null,function(){throw 1},1)}))},{some:function(t){return br(this,t,1<arguments.length?arguments[1]:void 0)}}),Ge("Array","some");var wr,xe="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ne=R.f,_r=(Ir=m.Int8Array)&&Ir.prototype,Er=(g=m.Uint8ClampedArray)&&g.prototype,Sr=Ir&&Pt(Ir),Tr=_r&&Pt(_r),Ir=((g=Object.prototype).isPrototypeOf,zt("toStringTag")),Mr=D("TYPED_ARRAY_TAG"),kr=xe&&!!Dt&&"Opera"!==ue(m.opera),xe=!1,Cr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ar={BigInt64Array:8,BigUint64Array:8};for(wr in Cr)m[wr]||(kr=!1);if((!kr||"function"!=typeof Sr||Sr===Function.prototype)&&(Sr=function(){throw TypeError("Incorrect invocation")},kr))for(wr in Cr)m[wr]&&Dt(m[wr],Sr);if((!kr||!Tr||Tr===g)&&(Tr=Sr.prototype,kr))for(wr in Cr)m[wr]&&Dt(m[wr].prototype,Tr);if(kr&&Pt(Er)!==Tr&&Dt(Er,Tr),v&&!T(Tr,Ir))for(wr in xe=!0,Ne(Tr,Ir,{get:function(){return c(this)?this[Mr]:void 0}}),Cr)m[wr]&&N(m[wr],Mr,wr);var Er=function(t){if(function(t){return!!c(t)&&(t=ue(t),T(Cr,t)||T(Ar,t))}(t))return t;throw TypeError("Target is not a typed array")},Ne=function(t,e,n){if(v){if(n)for(var r in Cr)if((r=m[r])&&T(r.prototype,t))try{delete r.prototype[t]}catch(t){}Tr[t]&&!n||lt(Tr,t,!n&&kr&&_r[t]||e)}},Ir=zt("iterator"),xe=m.Uint8Array,Or=tr.values,Rr=tr.keys,Nr=tr.entries,xr=Er,Er=Ne,xe=!!(Ne=xe&&xe.prototype[Ir])&&("values"==Ne.name||null==Ne.name),Ne=function(){return Or.call(xr(this))};Er("entries",function(){return Nr.call(xr(this))}),Er("keys",function(){return Rr.call(xr(this))}),Er("values",Ne,!xe),Er(Ir,Ne,!xe);var Pr=Object.assign,Dr=Object.defineProperty,Ne=!Pr||i(function(){if(v&&1!==Pr({b:1},Pr(Dr({},"a",{enumerable:!0,get:function(){Dr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Pr({},t)[n]||jt(Pr({},e)).join("")!=r})?function(t,e){for(var n=l(t),r=arguments.length,i=1,o=Et.f,a=b.f;i<r;)for(var s,u=E(arguments[i++]),c=o?jt(u).concat(o(u)):jt(u),h=c.length,f=0;f<h;)s=c[f++],v&&!a.call(u,s)||(n[s]=u[s]);return n}:Pr;at({target:"Object",stat:!0,forced:Object.assign!==Ne},{assign:Ne}),ft.Object.assign;var jr=b.f,Lr=(Ne={entries:(xe=function(t){return function(e){for(var n,r=u(e),i=jt(r),o=i.length,a=0,s=[];a<o;)n=i[a++],v&&!jr.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}})(!0),values:xe(!1)}).entries;at({target:"Object",stat:!0},{entries:function(t){return Lr(t)}}),ft.Object.entries;var Fr=Ne.values;function Ur(t){if(c(e=t)&&(void 0!==(n=e[Br])?n:"RegExp"==a(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}at({target:"Object",stat:!0},{values:function(t){return Fr(t)}}),ft.Object.values;var Br=zt("match"),qr=zt("match");at({target:"String",proto:!0,forced:!(xe=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[qr]=!1,"/./"[e](n)}catch(t){}}return!1})("includes")},{includes:function(t){return!!~String(s(this)).indexOf(Ur(t),1<arguments.length?arguments[1]:void 0)}}),Ge("String","includes");var Vr,Ne=A.f,Kr="".startsWith,zr=Math.min,xe=xe("startsWith");at({target:"String",proto:!0,forced:!(Vr=!(xe||!(Vr=Ne(String.prototype,"startsWith"))||Vr.writable))&&!xe},{startsWith:function(t){var e=String(s(this));Ur(t);var n=rt(zr(1<arguments.length?arguments[1]:void 0,e.length)),t=String(t);return Kr?Kr.call(e,t,n):e.slice(n,n+t.length)===t}}),Ge("String","startsWith"),at({target:"String",proto:!0},{repeat:function(t){var e=String(s(this)),n="",r=nt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),Ge("String","repeat");var Wr=zt("species"),Hr=zt("isConcatSpreadable"),Gr=9007199254740991,Qr="Maximum allowed index exceeded",xe=51<=Qt||!i(function(){var t=[];return t[Hr]=!1,t.concat()[0]!==t}),Ge=51<=Qt||!i(function(){var t=[];return(t.constructor={})[Wr]=function(){return{foo:1}},1!==t.concat(Boolean).foo});function Yr(t){var e=ft.Symbol||(ft.Symbol={});T(e,t)||ni(e,t,{value:ei.f(t)})}function Xr(t,e){var n=gi[t]=Kt(li[ai]);return ui(n,{type:oi,tag:t,description:e}),v||(n.description=e),n}function $r(t,e){d(t);var n=u(e),e=jt(n).concat(Mi(n));return ri(e,function(e){v&&!Ii.call(n,e)||Ti(t,e,n[e])}),t}at({target:"Array",proto:!0,forced:!xe||!Ge},{concat:function(t){for(var e,n,r,i=l(this),o=ur(i,0),a=0,s=-1,u=arguments.length;s<u;s++)if(function(t){if(!c(t))return!1;var e=t[Hr];return void 0!==e?!!e:cr(t)}(r=-1===s?i:arguments[s])){if(n=rt(r.length),Gr<a+n)throw TypeError(Qr);for(e=0;e<n;e++,a++)e in r&&gr(o,a,r[e])}else{if(Gr<=a)throw TypeError(Qr);gr(o,a++,r)}return o.length=a,o}});var Jr=_t.f,Zr={}.toString,ti="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ge={f:function(t){return ti&&"[object Window]"==Zr.call(t)?function(t){try{return Jr(t)}catch(t){return ti.slice()}}(t):Jr(u(t))}},ei={f:zt},ni=R.f,ri=si.forEach,ii=$("hidden"),oi="Symbol",ai="prototype",si=zt("toPrimitive"),ui=ht.set,ci=ht.getterFor(oi),hi=Object[ai],li=m.Symbol,fi=et("JSON","stringify"),di=A.f,pi=R.f,mi=Ge.f,vi=b.f,gi=G("symbols"),yi=G("op-symbols"),bi=G("string-to-symbol-registry"),wi=G("symbol-to-string-registry"),$=G("wks"),_i=!(G=m.QObject)||!G[ai]||!G[ai].findChild,Ei=v&&i(function(){return 7!=Kt(pi({},"a",{get:function(){return pi(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=di(hi,e);r&&delete hi[e],pi(t,e,n),r&&t!==hi&&pi(hi,e,r)}:pi,Si=Rt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof li},Ti=function t(e,n,r){return e===hi&&t(yi,n,r),d(e),n=h(n,!0),d(r),T(gi,n)?(r.enumerable?(T(e,ii)&&e[ii][n]&&(e[ii][n]=!1),r=Kt(r,{enumerable:o(0,!1)})):(T(e,ii)||pi(e,ii,o(1,{})),e[ii][n]=!0),Ei(e,n,r)):pi(e,n,r)},Ii=function(t){var e=h(t,!0),t=vi.call(this,e);return!(this===hi&&T(gi,e)&&!T(yi,e))&&(!(t||!T(this,e)||!T(gi,e)||T(this,ii)&&this[ii][e])||t)},G=function(t,e){var n=u(t),t=h(e,!0);if(n!==hi||!T(gi,t)||T(yi,t))return!(e=di(n,t))||!T(gi,t)||T(n,ii)&&n[ii][t]||(e.enumerable=!0),e},Rt=function(t){var t=mi(u(t)),e=[];return ri(t,function(t){T(gi,t)||T(J,t)||e.push(t)}),e},Mi=function(t){var e=t===hi,t=mi(e?yi:u(t)),n=[];return ri(t,function(t){!T(gi,t)||e&&!T(hi,t)||n.push(gi[t])}),n};Yt||(lt((li=function(){if(this instanceof li)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t);return v&&_i&&Ei(hi,e,{configurable:!0,set:function t(n){this===hi&&t.call(yi,n),T(this,ii)&&T(this[ii],e)&&(this[ii][e]=!1),Ei(this,e,o(1,n))}}),Xr(e,t)})[ai],"toString",function(){return ci(this).tag}),lt(li,"withoutSetter",function(t){return Xr(D(t),t)}),b.f=Ii,R.f=Ti,A.f=G,_t.f=Ge.f=Rt,Et.f=Mi,ei.f=function(t){return Xr(zt(t),t)},v&&(pi(li[ai],"description",{configurable:!0,get:function(){return ci(this).description}}),lt(hi,"propertyIsEnumerable",Ii,{unsafe:!0}))),at({global:!0,wrap:!0,forced:!Yt,sham:!Yt},{Symbol:li}),ri(jt($),function(t){Yr(t)}),at({target:oi,stat:!0,forced:!Yt},{for:function(t){var e=String(t);return T(bi,e)?bi[e]:(t=li(e),bi[e]=t,wi[t]=e,t)},keyFor:function(t){if(!Si(t))throw TypeError(t+" is not a symbol");if(T(wi,t))return wi[t]},useSetter:function(){_i=!0},useSimple:function(){_i=!1}}),at({target:"Object",stat:!0,forced:!Yt,sham:!v},{create:function(t,e){return void 0===e?Kt(t):$r(Kt(t),e)},defineProperty:Ti,defineProperties:$r,getOwnPropertyDescriptor:G}),at({target:"Object",stat:!0,forced:!Yt},{getOwnPropertyNames:Rt,getOwnPropertySymbols:Mi}),at({target:"Object",stat:!0,forced:i(function(){Et.f(1)})},{getOwnPropertySymbols:function(t){return Et.f(l(t))}}),fi&&at({target:"JSON",stat:!0,forced:Ui=!Yt||i(function(){var t=li();return"[null]"!=fi([t])||"{}"!=fi({a:t})||"{}"!=fi(Object(t))})},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((c(r=e)||void 0!==t)&&!Si(t))return cr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Si(e))return e}),i[1]=e,fi.apply(null,i)}}),li[ai][si]||N(li[ai],si,li[ai].valueOf),fe(li,oi),J[ii]=!0,Yr("asyncIterator");var ki,Ci,Ai,Oi,Ri,G=R.f,Ni=m.Symbol;!v||"function"!=typeof Ni||"description"in Ni.prototype&&void 0===Ni().description||(ki={},ot(Ci=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ci?new Ni(t):void 0===t?Ni():Ni(t);return""===t&&(ki[e]=!0),e},Ni),(Vi=Ci.prototype=Ni.prototype).constructor=Ci,Ai=Vi.toString,Oi="Symbol(test)"==String(Ni("test")),Ri=/^Symbol\((.*)\)[^)]+$/,G(Vi,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=Ai.call(t);return T(ki,t)?"":""===(e=Oi?e.slice(7,-1):e.replace(Ri,"$1"))?void 0:e}}),at({global:!0,forced:!0},{Symbol:Ci})),Yr("hasInstance"),Yr("isConcatSpreadable"),Yr("iterator"),Yr("match"),Yr("matchAll"),Yr("replace"),Yr("search"),Yr("species"),Yr("split"),Yr("toPrimitive"),Yr("toStringTag"),Yr("unscopables"),fe(m.JSON,"JSON",!0),fe(Math,"Math",!0),at({global:!0},{Reflect:{}}),fe(m.Reflect,"Reflect",!0),ft.Symbol,Yr("asyncDispose"),Yr("dispose"),Yr("matcher"),Yr("metadata"),Yr("observable"),Yr("patternMatch"),Yr("replaceAll"),ei.f("iterator");var xi=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Pi=r(function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=R.f,r=D("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!c(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!T(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!T(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return xi&&a.REQUIRED&&o(t)&&!T(t,r)&&e(t),t}};J[r]=!0}),Rt=function(t,e,n){function r(t){var e=v[t];lt(v,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(f&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return f&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(f&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var o,a,s,u,h,l=-1!==t.indexOf("Map"),f=-1!==t.indexOf("Weak"),d=l?"set":"add",p=m[t],v=p&&p.prototype,g=p,y={};return At(t,"function"!=typeof p||!(f||v.forEach&&!i(function(){(new p).entries().next()})))?(g=n.getConstructor(e,t,l,d),Pi.REQUIRED=!0):At(t,!0)&&(a=(o=new g)[d](f?{}:-0,1)!=o,s=i(function(){o.has(1)}),u=Se(function(t){new p(t)}),h=!f&&i(function(){for(var t=new p,e=5;e--;)t[d](e,e);return!t.has(-0)}),u||(((g=e(function(e,n){pe(e,g,t);var r,i,o,a=(a=new p,r=e,e=g,Dt&&"function"==typeof(i=r.constructor)&&i!==e&&c(o=i.prototype)&&o!==e.prototype&&Dt(a,o),a);return null!=n&&oe(n,a[d],{that:a,AS_ENTRIES:l}),a})).prototype=v).constructor=g),(s||h)&&(r("delete"),r("has"),l&&r("get")),(h||a)&&r(d),f&&v.clear&&delete v.clear),y[t]=g,at({global:!0,forced:g!=p},y),fe(g,t),f||n.setStrong(g,t,l),g},Di=R.f,ji=Pi.fastKey,Li=ht.set,Fi=ht.getterFor,Ui={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=a(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=ji(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),v?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t(function(t,i){pe(t,o,e),Li(t,{type:e,index:Kt(null),first:void 0,last:void 0,size:0}),v||(t.size=0),null!=i&&oe(i,t[r],{that:t,AS_ENTRIES:n})}),a=Fi(e),s=function(t,e){var n,r=a(t),t=ji(e);if("F"!==t)return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return le(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,v?t.size=0:this.size=0},delete:function(t){var e,n=a(this),r=s(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),v?n.size--:this.size--),!!r},forEach:function(t){for(var e,n=a(this),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),le(o.prototype,n?{get:function(t){return(t=s(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),v&&Di(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=Fi(e),o=Fi(r);Ln(t,e,function(t,e){Li(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),de(e)}};function Bi(){for(var t,e=d(this),n=Ht(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function qi(t){return Map.prototype.entries.call(t)}Rt("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Ui),ft.Map,at({target:"Map",stat:!0},{from:si=function(t){var e,n,r,i,o=arguments.length,a=1<o?arguments[1]:void 0;return Ht(this),(e=void 0!==a)&&Ht(a),null==t?new this:(n=[],e?(r=0,i=Gt(a,2<o?arguments[2]:void 0,2),oe(t,function(t){n.push(i(t,r++))})):oe(t,n.push,{that:n}),new this(n))}}),at({target:"Map",stat:!0},{of:G=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),at({target:"Map",proto:!0,real:!0,forced:H},{deleteAll:function(){return Bi.apply(this,arguments)}}),at({target:"Map",proto:!0,real:!0,forced:H},{emplace:function(t,e){var n=d(this),e=n.has(t)&&"update"in e?e.update(n.get(t),t,n):e.insert(t,n);return n.set(t,e),e}}),at({target:"Map",proto:!0,real:!0,forced:H},{every:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return!oe(n,function(t,n,i){if(!r(n,t,e))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Map",proto:!0,real:!0,forced:H},{filter:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3),i=new(Te(e,et("Map"))),o=Ht(i.set);return oe(n,function(t,n){r(n,t,e)&&o.call(i,t,n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),at({target:"Map",proto:!0,real:!0,forced:H},{find:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return oe(n,function(t,n,i){if(r(n,t,e))return i(n)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),at({target:"Map",proto:!0,real:!0,forced:H},{findKey:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return oe(n,function(t,n,i){if(r(n,t,e))return i(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),at({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;Ht(e);var r=Ht(n.has),i=Ht(n.get),o=Ht(n.set);return oe(t,function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])}),n}}),at({target:"Map",proto:!0,real:!0,forced:H},{includes:function(t){return oe(qi(d(this)),function(e,n,r){if((i=n)===(n=t)||i!=i&&n!=n)return r();var i},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;Ht(e);var r=Ht(n.set);return oe(t,function(t){r.call(n,e(t),t)}),n}}),at({target:"Map",proto:!0,real:!0,forced:H},{keyOf:function(t){return oe(qi(d(this)),function(e,n,r){if(n===t)return r(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),at({target:"Map",proto:!0,real:!0,forced:H},{mapKeys:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3),i=new(Te(e,et("Map"))),o=Ht(i.set);return oe(n,function(t,n){o.call(i,r(n,t,e),n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),at({target:"Map",proto:!0,real:!0,forced:H},{mapValues:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3),i=new(Te(e,et("Map"))),o=Ht(i.set);return oe(n,function(t,n){o.call(i,t,r(n,t,e))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),at({target:"Map",proto:!0,real:!0,forced:H},{merge:function(t){for(var e=d(this),n=Ht(e.set),r=0;r<arguments.length;)oe(arguments[r++],n,{that:e,AS_ENTRIES:!0});return e}}),at({target:"Map",proto:!0,real:!0,forced:H},{reduce:function(t){var e=d(this),n=qi(e),r=arguments.length<2,i=r?void 0:arguments[1];if(Ht(t),oe(n,function(n,o){i=r?(r=!1,o):t(i,o,n,e)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),at({target:"Map",proto:!0,real:!0,forced:H},{some:function(t){var e=d(this),n=qi(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return oe(n,function(t,n,i){if(r(n,t,e))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Map",proto:!0,real:!0,forced:H},{update:function(t,e){var n=d(this),r=arguments.length;Ht(e);var i=n.has(t);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(t):Ht(2<r?arguments[2]:void 0)(t,n),n.set(t,e(r,t,n)),n}});var Vi=function(t,e){var n,r=d(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(t)?(n=r.get(t),"function"==typeof e&&(n=e(n),r.set(t,n))):"function"==typeof i&&(n=i(),r.set(t,n)),n};function Ki(t){return Set.prototype.values.call(t)}at({target:"Map",proto:!0,real:!0,forced:H},{upsert:Vi}),at({target:"Map",proto:!0,real:!0,forced:H},{updateOrInsert:Vi}),Rt("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Ui),ft.Set,at({target:"Set",stat:!0},{from:si}),at({target:"Set",stat:!0},{of:G}),at({target:"Set",proto:!0,real:!0,forced:H},{addAll:function(){return function(){for(var t=d(this),e=Ht(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),at({target:"Set",proto:!0,real:!0,forced:H},{deleteAll:function(){return Bi.apply(this,arguments)}}),at({target:"Set",proto:!0,real:!0,forced:H},{every:function(t){var e=d(this),n=Ki(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return!oe(n,function(t,n){if(!r(t,t,e))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:H},{difference:function(t){var e=d(this),n=new(Te(e,et("Set")))(e),r=Ht(n.delete);return oe(t,function(t){r.call(n,t)}),n}}),at({target:"Set",proto:!0,real:!0,forced:H},{filter:function(t){var e=d(this),n=Ki(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3),i=new(Te(e,et("Set"))),o=Ht(i.add);return oe(n,function(t){r(t,t,e)&&o.call(i,t)},{IS_ITERATOR:!0}),i}}),at({target:"Set",proto:!0,real:!0,forced:H},{find:function(t){var e=d(this),n=Ki(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return oe(n,function(t,n){if(r(t,t,e))return n(t)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),at({target:"Set",proto:!0,real:!0,forced:H},{intersection:function(t){var e=d(this),n=new(Te(e,et("Set"))),r=Ht(e.has),i=Ht(n.add);return oe(t,function(t){r.call(e,t)&&i.call(n,t)}),n}}),at({target:"Set",proto:!0,real:!0,forced:H},{isDisjointFrom:function(t){var e=d(this),n=Ht(e.has);return!oe(t,function(t,r){if(!0===n.call(e,t))return r()},{INTERRUPTED:!0}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:H},{isSubsetOf:function(t){var e=function(t){var e=ne(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return d(e.call(t))}(this),n=d(t),r=n.has;return"function"!=typeof r&&(n=new(et("Set"))(t),r=Ht(n.has)),!oe(e,function(t,e){if(!1===r.call(n,t))return e()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:H},{isSupersetOf:function(t){var e=d(this),n=Ht(e.has);return!oe(t,function(t,r){if(!1===n.call(e,t))return r()},{INTERRUPTED:!0}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:H},{join:function(t){var e=d(this),n=Ki(e),e=void 0===t?",":String(t),t=[];return oe(n,t.push,{that:t,IS_ITERATOR:!0}),t.join(e)}}),at({target:"Set",proto:!0,real:!0,forced:H},{map:function(t){var e=d(this),n=Ki(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3),i=new(Te(e,et("Set"))),o=Ht(i.add);return oe(n,function(t){o.call(i,r(t,t,e))},{IS_ITERATOR:!0}),i}}),at({target:"Set",proto:!0,real:!0,forced:H},{reduce:function(t){var e=d(this),n=Ki(e),r=arguments.length<2,i=r?void 0:arguments[1];if(Ht(t),oe(n,function(n){i=r?(r=!1,n):t(i,n,n,e)},{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),at({target:"Set",proto:!0,real:!0,forced:H},{some:function(t){var e=d(this),n=Ki(e),r=Gt(t,1<arguments.length?arguments[1]:void 0,3);return oe(n,function(t,n){if(r(t,t,e))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:H},{symmetricDifference:function(t){var e=d(this),n=new(Te(e,et("Set")))(e),r=Ht(n.delete),i=Ht(n.add);return oe(t,function(t){r.call(n,t)||i.call(n,t)}),n}}),at({target:"Set",proto:!0,real:!0,forced:H},{union:function(t){var e=d(this),e=new(Te(e,et("Set")))(e);return oe(t,Ht(e.add),{that:e}),e}});var zi=Math.floor;at({target:"Number",stat:!0},{isInteger:function(t){return!c(t)&&isFinite(t)&&zi(t)===t}}),ft.Number.isInteger,at({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),ft.Number.isNaN;var Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Hi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Gi=function(){return(Gi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Qi(t,e,n,r){return new(n=n||Promise)(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function Yi(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Xi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ji(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function Zi(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function to(t){return t=Zi(t),oo.encodeByteArray(t,!0)}function eo(t){try{return oo.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var no={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ro=function(t,e){if(!t)throw io(e)},io=function(t){return new Error("Firebase Database ("+no.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},oo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(h=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[h],n[c])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zi(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ao=function(t){return to(t).replace(/\./g,"")};function so(t){return uo(void 0,t)}function uo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=uo(t[n],e[n]));return t}var co=(ho.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},ho);function ho(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}function lo(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,e=t.sub||t.user_id;if(!e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return t=Gi({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}}},t),[ao(JSON.stringify({alg:"none",type:"JWT"})),ao(JSON.stringify(t)),""].join(".")}function fo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function po(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fo())}function mo(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return}}function vo(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function go(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yo(){return!0===no.NODE_ADMIN}function bo(){return"indexedDB"in self&&null!=indexedDB}function wo(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function _o(){return!(!navigator||!navigator.cookieEnabled)}var Eo,So="FirebaseError",To=(Hi(Io,Eo=Error),Io);function Io(t,e,n){return(e=Eo.call(this,e)||this).code=t,e.customData=n,e.name=So,Object.setPrototypeOf(e,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Mo.prototype.create),e}var Mo=(ko.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(Co,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new To(o,t,i)},ko);function ko(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Co=/\{\$([^}]+)}/g;function Ao(t){return JSON.parse(t)}function Oo(t){return JSON.stringify(t)}function Ro(t){var e={},n={},r={},i="";try{var o=t.split("."),e=Ao(eo(o[0])||""),n=Ao(eo(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function No(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Po(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var jo=(Lo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Lo.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4],r=0;r<80;r++)var l=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782),i=(a<<5|a>>>27)+o+h+l+n[r]&4294967295,h=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},Lo.prototype.update=function(t,e){if(null!=t){for(var n=(e=void 0===e?t.length:e)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},Lo.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},Lo);function Lo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function Fo(t,e){return(e=new Uo(t,e)).subscribe.bind(e)}var Uo=(Bo.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},Bo.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},Bo.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},Bo.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=qo),void 0===r.error&&(r.error=qo),void 0===r.complete&&(r.complete=qo),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),n},Bo.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Bo.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},Bo.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},Bo.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},Bo);function Bo(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}function qo(){}function Vo(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Ko(t,e){return t+" failed: "+e+" argument "}function zo(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Ko(t,e)+"must be a valid function.")}function Wo(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Ko(t,e)+"must be a valid context object.")}function Ho(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var Go=1e3,Qo=2,Yo=144e5,Xo=.5;function $o(t,e,n){return void 0===n&&(n=Qo),n=(e=void 0===e?Go:e)*Math.pow(n,t),t=Math.round(Xo*n*(Math.random()-.5)*2),Math.min(Yo,n+t)}function Jo(t){return t&&t._delegate?t._delegate:t}var Zo=(ta.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},ta.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},ta.prototype.setServiceProps=function(t){return this.serviceProps=t,this},ta.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},ta);function ta(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var ea="[DEFAULT]",na=(ra.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)&&(t=new co,this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}return this.instancesDeferred.get(e).promise},ra.prototype.getImmediate=function(t){var e=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),t=null!==(t=null==t?void 0:t.optional)&&void 0!==t&&t;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(t)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(e){if(t)return null;throw e}},ra.prototype.getComponent=function(){return this.component},ra.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ea})}catch(t){}try{for(var r=Xi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=$i(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},ra.prototype.clearInstance=function(t){this.instancesDeferred.delete(t=void 0===t?ea:t),this.instancesOptions.delete(t),this.instances.delete(t)},ra.prototype.delete=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ji(Ji([],$i(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),$i(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},ra.prototype.isComponentSet=function(){return null!=this.component},ra.prototype.isInitialized=function(t){return this.instances.has(t=void 0===t?ea:t)},ra.prototype.getOptions=function(t){return this.instancesOptions.get(t=void 0===t?ea:t)||{}},ra.prototype.initialize=function(t){var e,n,r=(t=void 0===t?{}:t).options,r=void 0===r?{}:r,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var a=Xi(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=$i(s.value,2),c=u[0],h=u[1];i===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},ra.prototype.onInit=function(t,e){var n=this.normalizeInstanceIdentifier(e),r=null!==(e=this.onInitCallbacks.get(n))&&void 0!==e?e:new Set;return r.add(t),this.onInitCallbacks.set(n,r),(e=this.instances.get(n))&&t(e,n),function(){r.delete(t)}},ra.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=Xi(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},ra.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,t=this.instances.get(e);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===ea?void 0:n,options:r}),this.instances.set(e,t),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(t,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,t)}catch(t){}return t||null},ra.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=ea),!this.component||this.component.multipleInstances?t:ea},ra.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ra);function ra(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var ia=(oa.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},oa.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},oa.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new na(t,this);return this.providers.set(t,e),e},oa.prototype.getProviders=function(){return Array.from(this.providers.values())},oa);function oa(t){this.name=t,this.providers=new Map}var aa,sa=[];function ua(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=la[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Ji(["["+i+"]  "+t.name+":"],n))}}(si=aa=aa||{})[si.DEBUG=0]="DEBUG",si[si.VERBOSE=1]="VERBOSE",si[si.INFO=2]="INFO",si[si.WARN=3]="WARN",si[si.ERROR=4]="ERROR",si[si.SILENT=5]="SILENT";var ca={debug:aa.DEBUG,verbose:aa.VERBOSE,info:aa.INFO,warn:aa.WARN,error:aa.ERROR,silent:aa.SILENT},ha=aa.INFO,la=((G={})[aa.DEBUG]="log",G[aa.VERBOSE]="log",G[aa.INFO]="info",G[aa.WARN]="warn",G[aa.ERROR]="error",G),fa=(Object.defineProperty(da.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in aa))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),da.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ca[t]:t},Object.defineProperty(da.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(da.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),da.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,aa.DEBUG],t)),this._logHandler.apply(this,Ji([this,aa.DEBUG],t))},da.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,aa.VERBOSE],t)),this._logHandler.apply(this,Ji([this,aa.VERBOSE],t))},da.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,aa.INFO],t)),this._logHandler.apply(this,Ji([this,aa.INFO],t))},da.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,aa.WARN],t)),this._logHandler.apply(this,Ji([this,aa.WARN],t))},da.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,aa.ERROR],t)),this._logHandler.apply(this,Ji([this,aa.ERROR],t))},da);function da(t){this.name=t,this._logLevel=ha,this._logHandler=ua,this._userLogHandler=null,sa.push(this)}function pa(t){sa.forEach(function(e){e.setLogLevel(t)})}var si=((H={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",H["bad-app-name"]="Illegal App name: '{$appName}",H["duplicate-app"]="Firebase App named '{$appName}' already exists",H["app-deleted"]="Firebase App named '{$appName}' already deleted",H["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",H["invalid-log-argument"]="First argument to `onLog` must be null or a function.",H),ma=new Mo("app","Firebase",si),va="@firebase/app",ga="[DEFAULT]",ya=((G={})[va]="fire-core",G["@firebase/analytics"]="fire-analytics",G["@firebase/app-check"]="fire-app-check",G["@firebase/auth"]="fire-auth",G["@firebase/database"]="fire-rtdb",G["@firebase/functions"]="fire-fn",G["@firebase/installations"]="fire-iid",G["@firebase/messaging"]="fire-fcm",G["@firebase/performance"]="fire-perf",G["@firebase/remote-config"]="fire-rc",G["@firebase/storage"]="fire-gcs",G["@firebase/firestore"]="fire-fst",G["fire-js"]="fire-js",G["firebase-wrapper"]="fire-js-all",G),ba=new fa("@firebase/app"),wa=(Object.defineProperty(_a.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),_a.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},_a.prototype._getService=function(t,e){void 0===e&&(e=ga),this.checkDestroyed_();var n=this.container.getProvider(t);return n.isInitialized()||"EXPLICIT"!==(null===(t=n.getComponent())||void 0===t?void 0:t.instantiationMode)||n.initialize(),n.getImmediate({identifier:e})},_a.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ga),this.container.getProvider(t).clearInstance(e)},_a.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){ba.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},_a.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},_a.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},_a.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ma.create("app-deleted",{appName:this.name_})},_a);function _a(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=so(t),this.container=new ia(e.name),this._addComponent(new Zo("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}wa.prototype.name&&wa.prototype.options||wa.prototype.delete||console.log("dc");var Ea="8.10.1";function Sa(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=ga),"string"!=typeof(i=o.name)||!i)throw ma.create("bad-app-name",{appName:String(i)});if(No(e,i))throw ma.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=ya[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//),t=e.match(/\s|\//);i||t?(n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),ba.warn(n.join(" "))):o(new Zo(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:pa,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ma.create("invalid-log-argument");!function(t,e){for(var n=0,r=sa;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=ca[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:aa[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:Ea,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"!==e?e:null}}};function i(t){if(!No(e,t=t||ga))throw ma.create("no-app",{appName:t});return e[t]}function o(o){var a,s=o.name;if(n.has(s))return ba.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;n.set(s,o),"PUBLIC"===o.type&&(a=function(t){if("function"!=typeof(t=void 0===t?i():t)[s])throw ma.create("invalid-app-argument",{appName:s});return t[s]()},void 0!==o.serviceProps&&uo(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])});for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}var H=function t(){var e=Sa(wa);return e.INTERNAL=Gi(Gi({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){uo(e,t)},createSubscribe:Fo,ErrorFactory:Mo,deepExtend:uo}),e}(),Ta=(Ia.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null}).filter(function(t){return t}).join(" ")},Ia);function Ia(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(ba.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(Ws=self.firebase.SDK_VERSION)&&0<=Ws.indexOf("LITE")&&ba.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Ma=H.initializeApp;H.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mo()&&ba.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ma.apply(void 0,t)};var ka,Ca=H;(ka=Ca).INTERNAL.registerComponent(new Zo("platform-logger",function(t){return new Ta(t)},"PRIVATE")),ka.registerVersion(va,"0.6.30",void 0),ka.registerVersion("fire-js",""),Ca.registerVersion("firebase","8.10.1","app"),Ca.SDK_VERSION="8.10.1",function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ra(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Ra(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);})},e});var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function _(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function S(t,e,n){this.code=M+t,this.message=e||k[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new S(e.substring(M.length),t.message,t.serverResponse):null}_(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var I,M="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function O(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function R(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,R):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function x(t){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}I=A("__EID__")?"__EID__":void 0,_(R,Error),R.prototype.name="CustomError",_(N,R),N.prototype.name="AssertionError",P.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var L=new P(function(){return new F},function(t){t.reset()});function F(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=L.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=U(t,e)}function W(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length})}function G(){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,J=/</g,Z=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:e<t?1:0}var at=a.navigator;function st(t){return it(Y,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ct(t){for(var e in t)return;return 1}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}Y=at&&(at=at.userAgent)?at:"";var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<lt.length;i++)e=lt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function dt(t,e){t:{try{var n,r=t&&t.ownerDocument;if((n=(n=r&&(r.defaultView||r.parentWindow))||a).Element&&n.Location){var i=n;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function pt(t,e){this.a=t===yt&&e||"",this.b=gt}function mt(t){return t instanceof pt&&t.constructor===pt&&t.b===gt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}pt.prototype.ta=!0,pt.prototype.sa=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt,gt={},yt={};function bt(){if(void 0===vt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){a.console&&a.console.error(t.message)}vt=t}else vt=t}return vt}function wt(t,e){this.a=e===It?t:""}function _t(t){return t instanceof wt&&t.constructor===wt?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n,r=mt(t);if(!Tt.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return t=r.replace(St,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof pt?mt(t):encodeURIComponent(String(t))}),n=t,t=bt(),new wt(n=t?t.createScriptURL(n):n,It)}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={};function Mt(t,e){this.a=e===xt?t:""}function kt(t){return t instanceof Mt&&t.constructor===Mt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Mt.prototype.ta=!0,Mt.prototype.sa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,At=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Mt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),t=Ot.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(At))&&Ct.test(e[1])?new Mt(t,xt):null);var e}function Nt(t){return t instanceof Mt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),new Mt(t=Ot.test(t)?t:"about:invalid#zClosurez",xt))}var xt={},Pt=new Mt("about:invalid#zClosurez",xt);function Dt(t,e,n){this.a=n===jt?t:""}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function Lt(t,e,n,r){return t=t instanceof Mt?t:Nt(t),e=e||a,n=n instanceof pt?mt(n):n||"",e.open(kt(t),n,r,void 0)}function Ft(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Ut(t){return rt.test(t)&&-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf("&")?t.replace($,"&amp;"):t).indexOf("<")?t.replace(J,"&lt;"):t).indexOf(">")?t.replace(Z,"&gt;"):t).indexOf('"')?t.replace(tt,"&quot;"):t).indexOf("'")?t.replace(et,"&#39;"):t).indexOf("\0")&&(t=t.replace(nt,"&#0;")),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=h;var qt,Vt=st("Opera"),Kt=st("Trident")||st("MSIE"),zt=st("Edge"),Wt=zt||Kt,Ht=st("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),Gt=it(Y.toLowerCase(),"webkit")&&!st("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}var Yt="",Xt=(Xt=Y,Ht?/rv:([^\);]+)(\)|;)/.exec(Xt):zt?/Edge\/([\d\.]+)/.exec(Xt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):Gt?/WebKit\/(\S+)/.exec(Xt):Vt?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);Xt&&(Yt=Xt?Xt[1]:""),qt=Kt&&null!=(Xt=Qt())&&Xt>parseFloat(Yt)?String(Xt):Yt;var $t={};function Jt(t){return e=t,n=function(){for(var e=0,n=X(String(qt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(e=ot(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ot(0==a[2].length,0==s[2].length)||ot(a[2],s[2]),a=a[3],s=s[3],0==e););return 0<=e},r=$t,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var Zt=a.document&&Kt&&(Qt()||parseInt(qt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var te=!Kt||9<=Number(Zt);function ee(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ne(t,e){ut(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:oe.hasOwnProperty(n)?t.setAttribute(oe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var re,ie,oe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ae(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function se(t){a.setTimeout(function(){throw t},0)}function ue(t,e){ie||function(){var t;ie=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(le)}):function(){var t=le;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!st("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(re=re||function(){var t=a.MessageChannel;if(void 0===(t=void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!st("Presto")?function(){var t=ae(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}:t)||st("Trident")||st("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Hb,n.Hb=null,t())},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}())(t):a.setImmediate(t)}}(),ce||(ie(),ce=!0),he.add(t,e)}var ce=!1,he=new j;function le(){for(var t,e;e=t=void 0,e=null,(t=he).a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e=e;){try{e.a.call(e.b)}catch(t){se(t)}D(L,e)}ce=!1}function fe(t,e){if(this.a=de,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ie(n,pe,t)},function(t){if(!(t instanceof Ne))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ie(n,me,t)})}catch(t){Ie(this,me,t)}}var de=0,pe=2,me=3;function ve(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ve.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ge=new P(function(){return new ve},function(t){t.reset()});function ye(t,e,n){var r=ge.get();return r.g=t,r.b=e,r.f=n,r}function be(t){if(t instanceof fe)return t;var e=new fe(h);return Ie(e,pe,t),e}function we(t){return new fe(function(e,n){n(t)})}function _e(t,e,n){Me(t,e,n,null)||ue(w(e,t))}function Ee(t){return new fe(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)_e(t[o],w(i,o,!0),w(i,o,!1));else e(r)})}function Se(t,e){t.b||t.a!=pe&&t.a!=me||ke(t),t.f?t.f.next=e:t.b=e,t.f=e}function Te(t,e,n,r){var i=ye(null,null,null);return i.a=new fe(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ne?o(e):t(i)}catch(e){o(e)}}:o}),Se(i.a.c=t,i),i.a}function Ie(t,e,n){var r,i;t.a==de&&(t===n&&(e=me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,ke(t),e!=me||n instanceof Ne||(i=n,(r=t).g=!0,ue(function(){r.g&&Re.call(null,i)}))))}function Me(t,e,n,r){if(t instanceof fe)return Se(t,ye(e||h,n||null,r)),1;if(O(t))return t.then(e,n,r),1;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function ke(t){t.h||(t.h=!0,ue(t.gc,t))}function Ce(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ae(t,e,n,r){if(n==me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Oe(e,n,r);else try{e.c?e.g.call(e.f):Oe(e,n,r)}catch(t){Re.call(null,t)}D(ge,e)}function Oe(t,e,n){e==pe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Te(this,d(t)?t:null,d(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).oa=function(t,e){return(t=ye(t,t,e)).c=!0,Se(this,t),this},t.o=function(t,e){return Te(this,null,t,e)},t.cancel=function(t){var e;this.a==de&&(e=new Ne(t),ue(function(){!function t(e,n){if(e.a==de)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==e?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==de&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ce(r),Ae(r,o,me,n)))}e.c=null}else Ie(e,me,n)}(this,e)},this))},t.$c=function(t){this.a=de,Ie(this,pe,t)},t.ad=function(t){this.a=de,Ie(this,me,t)},t.gc=function(){for(var t;t=Ce(this);)Ae(this,t,this.a,this.i);this.h=!1};var Re=se;function Ne(t){R.call(this,t)}function xe(){this.ya=this.ya,this.pa=this.pa}_(Ne,R);var Pe=0,De={};function je(t){t.ya||(t.ya=!0,t.Da(),0==Pe)||(t=t,t=Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v),delete De[t])}xe.prototype.ya=!(Ne.prototype.name="cancel"),xe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Le=Object.freeze||function(t){return t},Fe=!Kt||9<=Number(Zt),Ue=Kt&&!Jt("9"),Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(t){}return t}();function qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ve(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}qe.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Ve,qe);var Ke=Le({2:"touch",3:"pen",4:"mouse"});Ve.prototype.preventDefault=function(){Ve.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ue)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},Ve.prototype.g=function(){return this.a};var ze="closure_listenable_"+(1e6*Math.random()|0),We=0;function He(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++We,this.wa=this.Qa=!1}function Ge(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function Qe(t){this.src=t,this.a={},this.b=0}function Ye(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ge(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Xe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}Qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xe(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new He(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var $e="closure_lm_"+(1e6*Math.random()|0),Je={};function Ze(t,e,n,r,i){if(r&&r.once)en(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Ze(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?dn(t,e,n,p(r)?!!r.capture:!!r,i):tn(t,e,n,!1,r,i)}function tn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=cn(t);if(c||(t[$e]=c=new Qe(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=un,s=Fe?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r=s).src=t,r.listener=n,t.addEventListener)void 0===(i=Be?i:u)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(on(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function en(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?pn(t,e,n,p(r)?!!r.capture:!!r,i):tn(t,e,n,!0,r,i)}function nn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=ln(n),t&&t[ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Xe(o=t.a[e],n,r,i))&&(Ge(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&cn(t))&&(e=t.a[e.toString()],(n=(t=-1)<(t=e?Xe(e,n,r,i):t)?e[t]:null)&&rn(n))}function rn(t){var e,n,r;"number"!=typeof t&&t&&!t.wa&&((e=t.src)&&e[ze]?Ye(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(on(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cn(e))?(Ye(n,t),0==n.b&&(n.src=null,e[$e]=null)):Ge(t)))}function on(t){return t in Je?Je[t]:Je[t]="on"+t}function an(t,e,n,r){var i=!0;if((t=cn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=sn(o,r),i=i&&!1!==o)}return i}function sn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&rn(t),n.call(r,e)}function un(t,e){if(t.wa)return!0;if(Fe)return sn(t,new Ve(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ve(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=an(r[i],t,!0,e),n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=an(r[i],t,!1,e),n=n&&o}return n}function cn(t){return(t=t[$e])instanceof Qe?t:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(t){return d(t)?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function fn(){xe.call(this),this.v=new Qe(this),(this.bc=this).hb=null}function dn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function pn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function mn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.wa&&u.capture==n&&(a=u.listener,s=u.Wa||u.src,u.Qa&&Ye(t.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function vn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function gn(t){var e=null;return new fe(function(n,r){-1==(e=vn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function yn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function bn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function wn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof wn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function _n(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];En(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)En(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(fn,xe),fn.prototype[ze]=!0,fn.prototype.addEventListener=function(t,e,n,r){Ze(this,t,e,n,r)},fn.prototype.removeEventListener=function(t,e,n,r){nn(this,t,e,n,r)},fn.prototype.dispatchEvent=function(t){var e;if(n=this.hb)for(e=[];n;n=n.hb)e.push(n);var n=this.bc,r=t.type||t;if("string"==typeof t?t=new qe(t,n):t instanceof qe?t.target=t.target||n:(a=t,ft(t=new qe(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=mn(o,r,!0,t)&&a;if(a=mn(o=t.b=n,r,!0,t)&&a,a=mn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=mn(o=t.b=e[i],r,!1,t)&&a;return a},fn.prototype.Da=function(){if(fn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ge(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=wn.prototype).X=function(){_n(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return _n(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return En(this.b,t)?this.b[t]:e},t.set=function(t,e){En(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Tn?(this.i=void 0!==e?e:t.i,In(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,kn(this,Hn(t.b)),this.h=t.h):t&&(n=String(t).match(Sn))?(this.i=!!e,In(this,n[1]||"",!0),this.l=Nn(n[2]||""),this.a=Nn(n[3]||"",!0),Mn(this,n[4]),this.f=Nn(n[5]||"",!0),kn(this,n[6]||"",!0),this.h=Nn(n[7]||"")):(this.i=!!e,this.b=new Bn(null,this.i))}function In(t,e,n){t.c=n?Nn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function kn(t,e,n){var r,i;e instanceof Bn?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(qn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Wn(this,n,t))},r)),r.f=i):(n||(e=xn(e,Fn)),t.b=new Bn(e,t.i))}function Cn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function On(t){return t instanceof Tn?new Tn(t):new Tn(t,void 0)}function Rn(t,e,n,r){var i=new Tn(null,void 0);return t&&In(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Pn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(xn(e,Dn,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(xn(e,Dn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(xn(n,"/"==n.charAt(0)?Ln:jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",xn(n,Un)),t.join("")},Tn.prototype.resolve=function(t){var e=new Tn(this),n=!!t.c;n?In(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=e.f.lastIndexOf("/"))&&(r=e.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?e.f=r:n=""!==t.b.toString(),n?kn(e,Hn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Dn=/[#\/\?@]/g,jn=/[#\?:]/g,Ln=/[#\?]/g,Fn=/[#\?@]/g,Un=/#/g;function Bn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qn(t){t.a||(t.a=new wn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vn(t){var e=bn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Bn(null,void 0);t=yn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Wn(n,i,o):n.add(i,o)}return n}function Kn(t,e){qn(t),e=Gn(t,e),En(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,En((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&_n(t)))}function zn(t,e){return qn(t),e=Gn(t,e),En(t.a.b,e)}function Wn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set(Gn(t,e),Q(n)),t.b+=n.length)}function Hn(t){var e=new Bn;return e.c=t.c,t.a&&(e.a=new wn(t.a),e.b=t.b),e}function Gn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function Qn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Jn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Jn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,t,e),e.join("")}function Yn(){}(t=Bn.prototype).add=function(t,e){qn(this),this.c=null,t=Gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){qn(this),this.a.forEach(function(n,r){B(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){qn(this);var e=[];if("string"==typeof t)zn(this,t)&&(e=G(e,this.a.get(Gn(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return qn(this),this.c=null,zn(this,t=Gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.X(r),o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jn(t,e){e.push('"',t.replace($n,function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e}),'"')}function Zn(){var t=yr();return Kt&&Zt&&11==Zt||/Edge\/\d+/.test(t)}function tr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function er(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(Rt(t)||Pt)),e.location.href=n}function nr(t){return!!((t=(t||yr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function rr(t){t=t||a.window;try{t.close()}catch(t){}}function ir(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),mr(yr())==dr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Mt?n:Rt(void 0!==n.href?n.href:String(n))||Pt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((st("iPhone")&&!st("iPod")&&!st("iPad")||st("iPad")||st("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(a=ae(document,"A"),"HTMLAnchorElement"),e=e instanceof Mt?e:Nt(e),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Lt("",r,n,a),t=kt(e),a&&(Wt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Dt(t=(r=bt())?r.createHTML(t):t,0,jt),r=a.document)&&(r.write((o=t)instanceof Dt&&o.constructor===Dt?o.a:(x("expected object of type SafeHtml, got '"+o+"' of type "+l(o)),"type_error:SafeHtml")),r.close())):(a=Lt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var or=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ar=/^[^@]+@[^@]+$/;function sr(){var t=null;return new fe(function(e){"complete"==a.document.readyState?e():(t=function(){e()},en(window,"load",t))}).o(function(e){throw nn(window,"load",t),e})}function ur(t){return t=t||yr(),!("file:"!==Sr()&&"ionic:"!==Sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function hr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return Ca.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ca.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function fr(){var t=lr();return"ReactNative"===t||"Node"===t}var dr="Firefox",pr="Chrome";function mr(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?dr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":pr:"Safari"}var vr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gr(t,e){e=e||[];var n,r=[],i={};for(n in vr)i[vr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=mr(i=yr()):"Worker"===r&&(r=mr(i=yr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function yr(){return a.navigator&&a.navigator.userAgent||""}function br(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return e=n!=t.length?void 0:e}function wr(){try{var t=a.localStorage,e=Cr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!a.indexedDB}catch(t){return hr()&&!!a.indexedDB}return!1}function _r(){return(Er()||"chrome-extension:"===Sr()||ur())&&!fr()&&wr()&&!hr()}function Er(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return a.location&&a.location.protocol||null}function Tr(t){return!nr(t=t||yr())&&mr(t)!=dr}function Ir(t){return void 0===t?null:Qn(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function Cr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=mr(t=t||yr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Or(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Rr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=yr(),e=lr(),this.b=nr(t)||"ReactNative"===e}function Nr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function xr(){var t=a.document,e=null;return Nr()||!t?be():new fe(function(n){e=function(){Nr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function Pr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Dr(){return br("fireauth.oauthhelper",a)||br("fireauth.iframe",a)}Rr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Er()&&"chrome-extension:"!==Sr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Lr={};function Fr(t){Lr[t]||(Lr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ur={};Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Ur.abcd}catch(t){jr=!1}function Br(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Vr(t){var e={};return qr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,Kr(t[n]));return e}function zr(t){var e=t&&(t[Yr]?"phone":null);if(!(e&&t&&t[Qr]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",t[Qr]),Br(this,"displayName",t[Hr]||null);var n=null;Br(this,"enrollmentTime",n=t[Gr]?new Date(t[Gr]).toUTCString():n),Br(this,"factorId",e)}function Wr(t){try{var e=new Xr(t)}catch(t){e=null}return e}zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Hr="displayName",Gr="enrolledAt",Qr="mfaEnrollmentId",Yr="phoneInfo";function Xr(t){zr.call(this,t),Br(this,"phoneNumber",t[Yr])}function $r(t){var e={},n=t[ei],r=t[ri],i=t[ii];if(t=Wr(t[ni]),!i||i!=Zr&&i!=ti&&!n||i==ti&&!r||i==Jr&&!t)throw Error("Invalid checkActionCode response!");i==ti?(e[ai]=n||null,e[ui]=n||null,e[oi]=r):(e[ai]=r||null,e[ui]=r||null,e[oi]=n||null),e[si]=t||null,Br(this,hi,i),Br(this,ci,Kr(e))}_(Xr,zr),Xr.prototype.w=function(){var t=Xr.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Jr="REVERT_SECOND_FACTOR_ADDITION",Zr="EMAIL_SIGNIN",ti="VERIFY_AND_CHANGE_EMAIL",ei="email",ni="mfaInfo",ri="newEmail",ii="requestType",oi="email",ai="fromEmail",si="multiFactorInfo",ui="previousEmail",ci="data",hi="operation";function li(t){var e=An(t=On(t),fi)||null,n=An(t,di)||null,r=(r=An(t,vi)||null)&&yi[r]||null;if(!e||!n||!r)throw new S("argument-error",fi+", "+di+"and "+vi+" are required in a valid action code URL.");qr(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,pi)||null,languageCode:An(t,mi)||null,tenantId:An(t,gi)||null})}var fi="apiKey",di="oobCode",pi="continueUrl",mi="languageCode",vi="mode",gi="tenantId",yi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Jr,signIn:Zr,verifyAndChangeEmail:ti,verifyEmail:"VERIFY_EMAIL"};function bi(t){try{return new li(t)}catch(t){return null}}function wi(t){if(void 0===(e=t[Ii]))throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[_i])&&"object"==typeof r){var e=r[Ci],n=r[Mi],r=r[ki];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new S("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new S("argument-error",ki+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new S("argument-error",Ci+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new S("missing-android-pkg-name")}}else if(void 0!==r)throw new S("argument-error",_i+" property must be a non null object when specified.");if(this.f=null,(e=t[Ti])&&"object"==typeof e){if("string"==typeof(e=e[Ai])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new S("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ei])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ei+" property must be a non empty string when specified.");this.i=t||null}var _i="android",Ei="dynamicLinkDomain",Si="handleCodeInApp",Ti="iOS",Ii="url",Mi="installApp",ki="minimumVersion",Ci="packageName",Ai="bundleId";function Oi(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Ri=null;function Ni(t){var e=Pi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function xi(t){try{return new Ni(t)}catch(t){return null}}function Pi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ri){Ri={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ri[o]&&(Ri[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i,o,a,s=r[e++];s<128?t[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[e++],t[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[e++]))<<12|(63&(o=r[e++]))<<6|63&r[e++])-65536,t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))):(i=r[e++],o=r[e++],t[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(t.join(""))}catch(t){}return null}Ni.prototype.T=function(){return this.f},Ni.prototype.l=function(){return this.c},Ni.prototype.toString=function(){return this.h};var Di="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ji=["client_id","response_type","scope","redirect_uri","state"],Li={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ji},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ji},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ji},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Di},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Fi(t){for(var e in Li)if(Li[e].fa==t)return Li[e];return null}function Ui(t){var e={};e["facebook.com"]=zi,e["google.com"]=Hi,e["github.com"]=Wi,e["twitter.com"]=Gi;var n=t&&t[qi];try{if(n)return new(e[n]||Ki)(t);if(void 0!==t[Bi])return new Vi(t)}catch(t){}return null}var Bi="idToken",qi="providerId";function Vi(t){var e,n=t[qi];if(n||!t[Bi]||(e=xi(t[Bi]))&&e.b&&(n=e.b),!n)throw Error("Invalid additional user info!");e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Br(this,"providerId",n="anonymous"==n||"custom"==n?null:n),Br(this,"isNewUser",e)}function Ki(t){Vi.call(this,t),Br(this,"profile",Kr((t=kr(t.rawUserInfo||"{}"))||{}))}function zi(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Hi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function Qi(t){var e=An(r=On(t),"link"),n=An(On(e),"link"),r=An(r,"deep_link_id");return An(On(r),"link")||r||n||e||t}function Yi(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Xi:$i}_(Ki,Vi),_(zi,Ki),_(Wi,Ki),_(Hi,Ki),_(Gi,Ki);var Xi="enroll",$i="signin";function Ji(){}function Zi(t,e){return t.then(function(t){if(t[Va]){var n=xi(t[Va]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==M+"user-not-found"?new S("user-mismatch"):t})}function to(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function ro(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function io(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Vn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ro(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Qc=e||[],qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Fi(t)||{}).Ja||null,this.pb=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,ji),this.a=[]}function co(){uo.call(this,"facebook.com")}function ho(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function lo(){uo.call(this,"github.com")}function fo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Ca("profile")}function mo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function vo(){ao.call(this,"twitter.com",Di)}function go(t,e){var n=t;if(!(n=p(n)?n:{oauthToken:t,oauthTokenSecret:e}).oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ro("twitter.com",n,"twitter.com")}function yo(t,e,n){this.a=t,this.f=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bo(t){return t&&t.email&&t.password?new yo(t.email,t.password,t.signInMethod):null}function wo(){qr(this,{providerId:"password",isOAuthProvider:!1})}function _o(t,e){if(!(e=Eo(e)))throw new S("argument-error","Invalid email link!");return new yo(t,e.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(t){return(t=bi(t=Qi(t)))&&t.operation===Zr?t:null}function So(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new S("internal-error");this.a=t,Br(this,"providerId","phone"),this.fa="phone",Br(this,"signInMethod","phone")}function To(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new So(e)}return null}function Io(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||Ca.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qr(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new So({fb:t,eb:e})}function Co(t){if(t.temporaryProof&&t.phoneNumber)return new So({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return ho(n);case"github.com":return fo(n);case"twitter.com":return go(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new to(e,a):new ro(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ao(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Oo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Oo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function No(){this.b=null,this.a=[]}Yi.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Yi.prototype.w=function(){return this.type==Xi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Ji.prototype.ka=function(){},Ji.prototype.b=function(){},Ji.prototype.c=function(){},Ji.prototype.w=function(){},to.prototype.ka=function(t){return cs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,hs(t,n)},to.prototype.c=function(t,e){return Zi(ls(t,eo(this)),e)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ro.prototype.ka=function(t){return cs(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,hs(t,n)},ro.prototype.c=function(t,e){return Zi(ls(t,io(this)),e)},ro.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ka=function(t){return this.Jb=ht(t),this},_(so,ao),_(uo,ao),uo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},uo.prototype.Rb=function(){return Q(this.a)},uo.prototype.credential=function(t,e){if(!(e=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new ro(this.providerId,e,this.providerId)},_(co,uo),Br(co,"PROVIDER_ID","facebook.com"),Br(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(lo,uo),Br(lo,"PROVIDER_ID","github.com"),Br(lo,"GITHUB_SIGN_IN_METHOD","github.com"),_(po,uo),Br(po,"PROVIDER_ID","google.com"),Br(po,"GOOGLE_SIGN_IN_METHOD","google.com"),_(vo,ao),Br(vo,"PROVIDER_ID","twitter.com"),Br(vo,"TWITTER_SIGN_IN_METHOD","twitter.com"),yo.prototype.ka=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Hs(t,bs,{email:this.a,oobCode:this.f}):Hs(t,qs,{email:this.a,password:this.f})},yo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Hs(t,ws,{idToken:e,email:this.a,oobCode:this.f}):Hs(t,xs,{idToken:e,email:this.a,password:this.f})},yo.prototype.c=function(t,e){return Zi(this.ka(t),e)},yo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},qr(wo,{PROVIDER_ID:"password"}),qr(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qr(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ka=function(t){return t.gb(Io(this))},So.prototype.b=function(t,e){var n=Io(this);return n.idToken=e,Hs(t,Ks,n)},So.prototype.c=function(t,e){var n=Io(this);return n.operation="REAUTH",Zi(t=Hs(t,zs,n),e)},So.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return be(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t,i=i&&i.type==Xi?i.Ha().then(function(t){return Hs(n,Ds,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==$i?i.Ha().then(function(e){return e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Hs(n,js,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}):Hs(n,Rs,{phoneNumber:o,recaptchaToken:r});return i.then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t})})},qr(Mo,{PROVIDER_ID:"phone"}),qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Oo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Oo.prototype.T=function(){return this.h},Oo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var xo,Po=null;function Do(t){var e="unauthorized-domain",n=void 0,r=On(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function jo(t,e,n){S.call(this,t,n),(t=e||{}).Kb&&Br(this,"email",t.Kb),t.ea&&Br(this,"phoneNumber",t.ea),t.credential&&Br(this,"credential",t.credential),t.$b&&Br(this,"tenantId",t.$b)}function Lo(t){if(t.code){var e=t.code||"";0==e.indexOf(M)&&(e=e.substring(M.length));var n={credential:Co(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new jo(e,n,t.message)}return null}function Fo(){}function Uo(t){return t.c||(t.c=t.b())}function Bo(){}function qo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Vo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Wo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ho(t){this.f=t,this.b=this.c=this.a=null}function Go(t,e){this.name=t,this.value=e}_(Do,S),_(jo,S),jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&ft(t,e),t},jo.prototype.toJSON=function(){return this.w()},Fo.prototype.c=null,_(Bo,Fo),Bo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},xo=new Bo,_(Vo,Fo),Vo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Vo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wo.prototype.a=null,Wo.prototype.reset=function(t,e,n,r,i){delete this.a},Go.prototype.toString=function(){return this.name};var Qo=new Go("SEVERE",1e3),Yo=new Go("WARNING",900),Xo=new Go("CONFIG",700),$o=new Go("FINE",500);Ho.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c||(e.a?t(e.a):(x("Root logger has no level set."),null))}(this).value)for(d(e)&&(e=e()),t=new Wo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Jo,Zo={},ta=null;function ea(t){var e,n,r;return ta||(ta=new Ho(""),(Zo[""]=ta).c=Xo),(e=Zo[t])||(e=new Ho(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=ea(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,Zo[t]=e),e}function na(t,e){t&&t.log($o,e,void 0)}function ra(t){this.f=t}function ia(t){fn.call(this),this.u=t,this.h=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ea("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ra,Fo),ra.prototype.a=function(){return new ia(this.f)},ra.prototype.b=(Jo={},function(){return Jo}),_(ia,fn);var oa=0;function aa(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function sa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){fn.call(this),this.headers=new wn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ha,this.u=this.S=!1}(t=ia.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this)),this.readyState=oa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,aa(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){var e;this.a&&((e=this.m.decode(t.value||new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?sa:ua)(this),3==this.readyState&&aa(this))},t.tc=function(t){this.a&&(this.response=this.responseText=t,sa(this))},t.sc=function(t){this.a&&(this.response=t,sa(this))},t.Va=function(t){var e=this.i;e&&e.log(Yo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&sa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(ca,fn);var ha="";ca.prototype.b=ea("goog.net.XhrIo");var la=/^https?$/i,fa=["POST","PUT"];function da(t){return"content-type"==t.toLowerCase()}function pa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ma(t),ga(t)}function ma(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function va(t){if(t.c&&void 0!==o)if(t.C[1]&&4==ba(t)&&2==wa(t))na(t.b,_a(t,"Local request error detected and ignored"));else if(t.i&&4==ba(t))vn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ba(t)){na(t.b,_a(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=wa(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(Sn)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!la.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ba(t)?t.a.statusText:""}catch(e){na(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+wa(t)+"]",ma(t)}}finally{ga(t)}}}function ga(t,e){if(t.a){ya(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Qo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ya(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ba(t){return t.a?t.a.readyState:0}function wa(t){try{return 2<ba(t)?t.a.status:-1}catch(t){return-1}}function _a(t,e){return e+" ["+t.P+" "+t.l+" "+wa(t)+"]"}function Ea(t){var e=Pa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Sa(t,e,n){t.a=!0,t.c=n,t.f=!e,ka(t)}function Ta(t){if(t.a){if(!t.v)throw new Aa;t.v=!1}}function Ia(t,e,n,r){t.g.push([e,n,r]),t.a&&ka(t)}function Ma(t){return K(t.g,function(t){return d(t[1])})}function ka(t){var e;t.h&&t.a&&Ma(t)&&(n=t.h,(e=Na[n])&&(a.clearTimeout(e.a),delete Na[n]),t.h=0),t.b&&(t.b.l--,delete t.b);for(var n=t.c,r=e=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.s,n);void 0!==u&&(t.f=t.f&&(u==n||u instanceof Error),t.c=n=u),(O(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){n=r,t.f=!0,Ma(t)||(e=!0)}}t.c=n,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),n instanceof Ea?(Ia(n,u,r),n.C=!0):n.then(u,r)),e&&(n=new Ra(n),Na[n.a]=n,t.h=n.a)}function Aa(){R.call(this)}function Oa(){R.call(this)}function Ra(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ca.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,_a(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(na(this.b,_a(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ga(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ga(this,!0)),ca.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?va(this):this.Jc())},t.Jc=function(){va(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Ea.prototype.cancel=function(t){var e;this.a?this.c instanceof Ea&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Oa,Ta(this),Sa(this,!1,t)))},Ea.prototype.m=function(t,e){this.i=!1,Sa(this,t,e)},Ea.prototype.then=function(t,e,n){var r,i,o=new fe(function(t,e){r=t,i=e});return Ia(this,r,function(t){t instanceof Oa?o.cancel():i(t)}),o.then(t,e,n)},Ea.prototype.$goog_Thenable=!0,_(Aa,R),Aa.prototype.message="Deferred has already fired",Aa.prototype.name="AlreadyCalledError",_(Oa,R),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Na[this.a],this.b};var Na={};function xa(t){var e=document,n=_t(t).toString(),r=ae(document,"SCRIPT"),i={Xb:r,Ma:void 0},o=new Ea(i),s=window.setTimeout(function(){Da(r,!0);var t=new Fa(La,"Timeout reached for loading script "+n);Ta(o),Sa(o,!1,t)},5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Da(r,!1,s),Ta(o),Sa(o,!0,null))},r.onerror=function(){Da(r,!0,s);var t=new Fa(ja,"Error while loading script "+n);Ta(o),Sa(o,!1,t)},ft(i={},{type:"text/javascript",charset:"UTF-8"}),ne(r,i),i=t,dt(t=r,"HTMLScriptElement"),t.src=_t(i),(i=(i=t.ownerDocument&&t.ownerDocument.defaultView)&&i!=a?c(i.document):u=null===u?c(a.document):u)&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),o}function Pa(){var t;this&&this.Xb&&(t=this.Xb)&&"SCRIPT"==t.tagName&&Da(t,!0,this.Ma)}function Da(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var ja=0,La=1;function Fa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Ua(t){this.f=t}function Ba(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ka,this.g=ht(t.secureTokenHeaders||za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Wa,this.a=ht(t.firebaseHeaders||Ha),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&Ca.INTERNAL.node&&Ca.INTERNAL.node.XMLHttpRequest)&&!hr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new ra(self):fr()?this.f=new Ua(n):this.f=new Vo,this.b=null}_(Fa,R),_(Ua,Fo),Ua.prototype.a=function(){return new this.f},Ua.prototype.b=function(){return{}};var qa,Va="idToken",Ka=new Rr(3e4,6e4),za={"Content-Type":"application/x-www-form-urlencoded"},Wa=new Rr(3e4,6e4),Ha={"Content-Type":"application/json"};function Ga(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e&&(t.l=Ya("https://securetoken.googleapis.com/v1/token",e),t.h=Ya("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ya("https://identitytoolkit.googleapis.com/v2/",e))}function Ya(t,e){return t=On(t),e=On(e.url),t.f=t.a+t.f,In(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function Xa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $a(t,e,n,r,i,o,s){var u;(t=((u=mr(u=yr())==pr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||Kt&&Zt&&!(9<Zt))&&!hr()?(qa=qa||new fe(function(t,e){var n,r;n=t,r=e,((window.gapi||{}).client||{}).request?n():(a[Za]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(t,e){Ia(t,null,function(){r(Error("CORS_UNSUPPORTED"))},void 0)}(xa(Et(Ja,{onload:Za}))))}),b(t.s,t)):b(t.u,t))(e,n,r,i,o,s)}Ba.prototype.T=function(){return this.b},Ba.prototype.u=function(t,e,n,r,i,o){if(hr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ca(this.f);o&&(u.g=Math.max(0,o),s=setTimeout(function(){u.dispatchEvent("timeout")},o)),dn(u,"complete",function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return na(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)}),pn(u,"ready",function(){s&&clearTimeout(s),je(this)}),pn(u,"timeout",function(){s&&clearTimeout(s),je(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=(t.D||xo).a(),t.C=t.D?Uo(t.D):Uo(xo),t.a.onreadystatechange=b(t.Wb,t);try{na(t.b,_a(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return na(t.b,_a(t,"Error opening Xhr: "+e.message)),void pa(t,e)}e=r||"";var o,s=new wn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=bn(t),r=yn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=da,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=a.FormData&&e instanceof a.FormData,!z(fa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ya(t),0<t.g&&(t.u=(o=t.a,Kt&&Jt(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),na(t.b,_a(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=vn(t.Ma,t.g,t)),na(t.b,_a(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){na(t.b,_a(t,"Send error: "+e.message)),pa(t,e)}}(u,t,n,r,i)};var Ja=new pt(yt,"https://apis.google.com/js/client.js?onload=%{onload}"),Za="__fcb"+Math.floor(1e6*Math.random()).toString();function ts(t){if("string"!=typeof(t=t.email)||!ar.test(t))throw new S("invalid-email")}function es(t){"email"in t&&ts(t)}function ns(t){if(!t[Va]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,ht(t));throw new S("internal-error")}}function rs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ba.prototype.s=function(t,e,n,r,i){var o=this;qa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ba.prototype.Ab=function(){return Hs(this,Ps,{})},Ba.prototype.Cb=function(t,e){return Hs(this,Ns,{idToken:t,email:e})},Ba.prototype.Db=function(t,e){return Hs(this,xs,{idToken:t,password:e})};var is={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function os(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function as(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ss(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&zn(t=new Bn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function us(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Lo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Lo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Lo(t)):t.errorMessage&&(e=Gs(t.errorMessage)),e)throw e;ns(t)}function cs(t,e){return e.returnIdpCredential=!0,Hs(t,Ls,e)}function hs(t,e){return e.returnIdpCredential=!0,Hs(t,Us,e)}function ls(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Hs(t,Fs,e)}function fs(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ba.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ut(is,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Hs(this,Ns,n)},t.wb=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Hs(this,ks,t)},t.xb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Hs(this,Ts,t)},t.vb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Hs(this,Is,t)},t.Fb=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Hs(this,Ms,t)},t.gb=function(t){return Hs(this,Vs,t)},t.ob=function(t,e){return Hs(this,Os,{oobCode:t,newPassword:e})},t.Sa=function(t){return Hs(this,ps,{oobCode:t})},t.kb=function(t){return Hs(this,ds,{oobCode:t})};var ds={endpoint:"setAccountInfo",A:fs,Z:"email",B:!0},ps={endpoint:"resetPassword",A:fs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},ms={endpoint:"signupNewUser",A:function(t){if(ts(t),!t.password)throw new S("weak-password")},G:ns,V:!0,B:!0},vs={endpoint:"createAuthUri",B:!0},gs={endpoint:"deleteAccount",O:["idToken"]},ys={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},bs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ts,G:ns,V:!0,B:!0},ws={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ts,G:ns,V:!0},_s={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:os,G:ns,B:!0,Na:!0},Es={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:os,G:ns,B:!0,Na:!0},Ss={endpoint:"getAccountInfo"},Ts={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ts(t)},Z:"email",B:!0},Is={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},ks={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ts(t)},Z:"email",B:!0},Cs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},As={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Os={endpoint:"resetPassword",A:fs,Z:"email",B:!0},Rs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ns={endpoint:"setAccountInfo",O:["idToken"],A:es,V:!0},xs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(es(t),!t.password)throw new S("weak-password")},G:ns,V:!0},Ps={endpoint:"signupNewUser",G:ns,V:!0,B:!0},Ds={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ls={endpoint:"verifyAssertion",A:as,Za:ss,G:us,V:!0,B:!0},Fs={endpoint:"verifyAssertion",A:as,Za:ss,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Gs(t.errorMessage);ns(t)},V:!0,B:!0},Us={endpoint:"verifyAssertion",A:function(t){if(as(t),!t.idToken)throw new S("internal-error")},Za:ss,G:us,V:!0},Bs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ns,V:!0,B:!0},qs={endpoint:"verifyPassword",A:function(t){if(ts(t),!t.password)throw new S("wrong-password")},G:ns,V:!0,B:!0},Vs={endpoint:"verifyPhoneNumber",A:rs,G:ns,B:!0},Ks={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");rs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Lo(t);ns(t)}},zs={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:rs,G:ns,B:!0},Ws={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Va]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Hs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.O))return we(new S("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return be(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=On(e+n);Cn(s,"key",t.c),a&&Cn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Cn(s,c,i[c]);return new fe(function(e,n){$a(t,s.toString(),function(t){t?t.error?n(Qs(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:Qn(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function Gs(t){return Qs({error:{errors:[{message:t}],code:400,message:t}})}function Qs(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new S(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",ft(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new S(i[n],e);return new S("internal-error",e=!e&&t?Ir(t):e)}function Ys(t){var e;this.b=t,this.a=null,this.sb=(e=this,(Zs=Zs||new fe(function(t,e){function n(){Or(),br("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Or(),e(Error("Network Error"))},timeout:$s.get()})}var r;br("gapi.iframes.Iframe")?t():br("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){br("gapi.load")?n():e(Error("Network Error"))},be(xa(r=Et(Xs,{onload:r}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw Zs=null,t})).then(function(){return new fe(function(t,n){br("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Js.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})}))}var Xs=new pt(yt,"https://apis.google.com/js/api.js?onload=%{onload}"),$s=new Rr(3e4,6e4),Js=new Rr(5e3,15e3),Zs=null;function tu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Rn((t=On(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Rn("https",this.l,null,"/__/auth/iframe"),this.a=t,Cn(this.a,"apiKey",this.h),Cn(this.a,"appName",this.i),this.b=null,this.c=[]}function eu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function nu(t){try{return Ca.app(t).auth().Ga()}catch(t){return[]}}function ru(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function iu(t){var e=tr();return Hs(t,Cs,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var n=(r=On(e)).c,r=r.a,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?On(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(or.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Do(tr())})}function ou(t){return t.m||(t.m=sr().then(function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=nu(t.b),(i=new tu(t.s,t.g,t.b,t.f)).f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()),t.v=new Ys(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");var e,n;e=t.v,n=function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ro(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",be(n)}return n.status="ERROR",be(n)},e.sb.then(function(){e.a.register("authEvent",n,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t)}),t.m)}function au(t){return t.l||(t.C=t.c?gr(t.c,nu(t.b)):null,t.l=new Ba(t.g,A(t.i),t.C),t.f&&Qa(t.l,t.f)),t.l}function su(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new eu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=ht(u||null),t.f=c,t.zb(h).toString()}function uu(t){if(this.a=t||Ca.INTERNAL.reactNative&&Ca.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function cu(t){this.b=t,this.a={},this.f=b(this.c,this)}tu.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Kn(this.a.b,"v"),this.b?Cn(this.a,"eid",this.b):Kn(this.a.b,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Kn(this.a.b,"fw"),this.a.toString()},eu.prototype.zb=function(t){return this.h=t,this},eu.prototype.toString=function(){var t;if(Cn(t=this.v?Rn((t=On(this.v.url)).c,t.a,t.g,"/emulator/auth/handler"):Rn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Cn(t,"appName",this.c),Cn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ca.app(this.c).auth().la()}catch(t){n=null}for(r in e.pb=n,Cn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[r]=e[r].toString();for(var r=n.Qc,e=ht(e),i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ct(e)||Cn(t,"customParameters",Ir(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Cn(t,"scopes",n.join(",")),this.l?Cn(t,"redirectUrl",this.l):Kn(t.b,"redirectUrl"),this.g?Cn(t,"eventId",this.g):Kn(t.b,"eventId"),this.i?Cn(t,"v",this.i):Kn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!An(t,a)&&Cn(t,a,this.b[a]);return this.h?Cn(t,"tid",this.h):Kn(t.b,"tid"),this.f?Cn(t,"eid",this.f):Kn(t.b,"eid"),(a=nu(this.c)).length&&Cn(t,"fw",a.join(",")),t.toString()},(t=ru.prototype).Pb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){var n,r;r={type:"webStorageSupport"},ou(n=o).then(function(){return t=n.v,e=r,t.sb.then(function(){return new fe(function(n){t.a.send(e.type,e,n,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var t,e}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(n){n||(t&&rr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return e=t,new fe(function(t){return function n(){gn(2e3).then(function(){return e&&!e.closed?n():void t()})}()});var e}).then(function(){if(!a)return gn(n).then(function(){e(r)})})},t.Yb=function(){var t=yr();return!Tr(t)&&!Ar(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return we(new S("popup-blocked"));if(a&&!Tr())return this.ma().o(function(e){rr(t),i(e)}),r(),be();this.a||(this.a=iu(au(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw rr(t),i(e),e});return r(),e}).then(function(){Ao(n),a||er(su(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=iu(au(this)));var i=this;return this.a.then(function(){Ao(e),er(su(i.s,i.g,i.b,t,e,tr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return ou(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new S("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){H(this.h,function(e){return e==t})},(t=uu.prototype).get=function(t){return be(this.a.getItem(t)).then(function(t){return t&&kr(t)})},t.set=function(t,e){return be(this.a.setItem(t,Ir(e)))},t.U=function(t){return be(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var hu,lu=[];function fu(t,e,n){ct(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function du(t){this.a=t}function pu(t){this.c=t,this.b=!1,this.a=[]}function mu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return we(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe(function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))}).then(function(e){return vu(t,c),e}).o(function(e){throw vu(t,c),e})}function vu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,function(t){return t==e}))}function gu(){if(!wu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e,n,r=this;hr()&&self?(this.v=(n=hr()?self:null,B(lu,function(t){t.b==n&&(e=t)}),e||(e=new cu(n),lu.push(e)),e),fu(this.v,"keyChanged",function(t,e){return Iu(r).then(function(t){return 0<t.length&&B(r.a,function(e){e(t)}),{keyProcessed:z(t,e.key)}})}),fu(this.v,"ping",function(){return be(["keyChanged"])})):((t=a.navigator)&&t.serviceWorker?be().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):be(null)).then(function(t){(r.h=t)&&(r.g=new pu(new du(t)),mu(r.g,"ping",null,!0).then(function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}function yu(t){return t.i||(t.i=function t(e){return new fe(function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){var o;(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):(o=e,new fe(function(t,e){var n=o.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return t(e)}).then(function(t){n(t)}).o(function(t){r(t)}))}})}(t)),t.i}function bu(t,e){var n=0;return new fe(function r(i,o){yu(t).then(e).then(i).o(function(e){return 3<++n?void o(e):yu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)})})})}function wu(){try{return a.indexedDB}catch(t){return}}function _u(t){return t.objectStore("firebaseLocalStorage")}function Eu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new fe(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Tu(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?mu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):be();var n}function Iu(t){return yu(t).then(function(t){var e=_u(Eu(t,!1));return e.getAll?Su(e.getAll()):new fe(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Mu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ku(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=be().then(function(){if(wu()){var t=Cr(),r="__sak"+t;return hu=hu||new gu,(n=hu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){B(e.a,function(e){e(t)})}),t})}function Cu(){this.a={},this.type="inMemory"}function Au(){if(!function(){var t="Node"==lr();if(!(t=Ou()||t&&Ca.INTERNAL.node&&Ca.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Ou()||Ca.INTERNAL.node.localStorage,this.type="localStorage"}function Ou(){try{var t=a.localStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Nu(){if(!function(){var t="Node"==lr();if(!(t=xu()||t&&Ca.INTERNAL.node&&Ca.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=xu()||Ca.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=a.sessionStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Pu(){var t={};t.Browser=Lu,t.Node=Fu,t.ReactNative=Uu,t.Worker=Bu,this.a=t[lr()]}cu.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],B(i,function(n){e.push(be().then(function(){return n(t.origin,t.data.data)}))}),Ee(e).then(function(e){var i=[];B(e,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),B(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})}))},du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},pu.prototype.close=function(){for(;0<this.a.length;)vu(this,this.a[0]);this.b=!0},(t=gu.prototype).set=function(t,e){var n=this,r=!1;return bu(this,function(e){return Su((e=_u(Eu(e,!0))).get(t))}).then(function(i){return bu(n,function(o){if(o=_u(Eu(o,!0)),i)return i.value=e,Su(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Su(o.add(a))})}).then(function(){return n.c[t]=e,Tu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return bu(this,function(e){return Su(_u(Eu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return bu(this,function(r){return n=!0,e.b++,Su(_u(Eu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Tu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){var e;0==this.a.length&&(Mu(e=this),function t(){e.f=setTimeout(function(){e.l=Iu(e).then(function(t){0<t.length&&B(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()),this.a.push(t)},t.ia=function(t){H(this.a,function(e){return e==t}),0==this.a.length&&Mu(this)},(t=ku.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){H(this.a,function(e){return e==t})},(t=Cu.prototype).get=function(t){return be(this.a[t])},t.set=function(t,e){return this.a[t]=e,be()},t.U=function(t){return delete this.a[t],be()},t.ca=function(){},t.ia=function(){},(t=Au.prototype).get=function(t){var e=this;return be().then(function(){return kr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return be().then(function(){var r=Ir(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return be().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&Ze(a.window,"storage",t)},t.ia=function(t){a.window&&nn(a.window,"storage",t)},(t=Ru.prototype).get=function(){return be(null)},t.set=function(){return be()},t.U=function(){return be()},t.ca=function(){},t.ia=function(){},(t=Nu.prototype).get=function(t){var e=this;return be().then(function(){return kr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return be().then(function(){var r=Ir(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return be().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Du,ju,Lu={F:Au,cb:Nu},Fu={F:Au,cb:Nu},Uu={F:uu,cb:Ru},Bu={F:Au,cb:Ru},qu={rd:"local",NONE:"none",td:"session"};function Vu(){var t=!(Ar(yr())||!cr()),e=Tr(),n=wr();this.m=t,this.h=e,this.l=n,this.a={},t=Du=Du||new Pu;try{this.g=!Zn()&&Dr()||!a.indexedDB?new t.a.F:new ku(new(hr()?Cu:t.a.F))}catch(t){this.g=new Cu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Cu}this.v=new Cu,this.f=b(this.Zb,this),this.b={}}function Ku(){return ju=ju||new Vu}function zu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Wu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Hu(t,e,n){return n=Wu(e,n),"local"==e.F&&(t.b[n]=null),zu(t,e.F).U(n)}function Gu(t){t.c&&(clearInterval(t.c),t.c=null)}function Qu(t){this.a=t,this.b=Ku()}(t=Vu.prototype).get=function(t,e){return zu(this,t.F).get(Wu(t,e))},t.set=function(t,e,n){var r=Wu(t,n),i=this,o=zu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){var r;t=Wu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ct(this.a)&&(zu(this,"local").ca(this.f),this.h||(Zn()||!Dr())&&a.indexedDB||!this.l||(Gu(r=this),r.c=setInterval(function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new Ve({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Zb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Wu(t,e),this.a[t]&&(H(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ct(this.a)&&(zu(this,"local").ia(this.f),Gu(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?zu(this,"local").ia(this.f):Gu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))};Kt&&Zt&&10==Zt&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&B(this.a[t],function(t){t()})};var Yu,Xu={name:"authEvent",F:"local"};function $u(){this.a=Ku()}function Ju(t,e){this.b=Zu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Yu&&(Yu=a.Int32Array?new Int32Array(ac):ac),this.reset()}_(Ju,function(){this.b=-1});for(var Zu=64,tc=Zu-1,ec=[],nc=0;nc<tc;nc++)ec[nc]=0;var rc=G(128,ec);function ic(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){var i=0|n[e-15],r=0|n[e-2],o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|Yu[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function oc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ic(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ic(t),i=0)}}t.c=i,t.g+=n}Ju.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sc(){Ju.call(this,8,uc)}_(sc,Ju);var uc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function cc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new $u,this.g=new Qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function hc(t){return new S("invalid-cordova-configuration",t)}function lc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function fc(t){return t.f||(t.f=t.ma().then(function(){return new fe(function(e){function n(t){o=!0,s&&s.cancel(),dc(r).then(function(e){var n,o=i;e&&t&&t.url&&(n=null,o=(n=-1!=(o=Qi(t.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=kr(An(n=On(o),"firebaseError")||null))?T(n):null)?new Oo(e.c,e.b,null,null,n,null,e.T()):new Oo(e.c,e.b,o,e.f,null,null,e.T()):n)||i),lc(r,o)})}var r,i,o,s,u;t.Ea(function n(r){return e(r),t.Ta(n),!1}),r=t,i=new Oo("unknown",null,null,null,new S("no-auth-event")),o=!1,s=gn(500).then(function(){return dc(r).then(function(){o||lc(r,i)})}),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(br("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Po=Po||new No,function(t){var e=Po;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=br("universalLinks.subscribe",a))&&t(null,e.b))}(n)})})),t.f}function dc(t){var e,n=null;return(e=t.g).b.get(Xu,e.a).then(Ro).then(function(e){return n=e,Hu((e=t.g).b,Xu,e.a)}).then(function(){return n})}function pc(t){this.a=t,this.b=Ku()}(t=cc.prototype).ma=function(){return this.Ia||(this.Ia=(ur(void 0)?sr().then(function(){return new fe(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):we(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof br("universalLinks.subscribe",a))throw hc("cordova-universal-links-plugin-fix is not installed");if(void 0===br("BuildInfo.packageName",a))throw hc("cordova-plugin-buildinfo is not installed");if("function"!=typeof br("cordova.plugins.browsertab.openUrl",a))throw hc("cordova-plugin-browsertab is not installed");if("function"!=typeof br("cordova.InAppBrowser.open",a))throw hc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")}))},t.Pb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),be()},t.Nb=function(){return we(new S("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return we(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=be().then(function(){return Ao(e),fc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Oo(e,r,null,o,new S("no-auth-event"),null,i),u=br("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=br("BuildInfo.displayName",a),h={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!yr().toLowerCase().match(/android/))return we(new S("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new sc;oc(e,t),t=[];var n=8*e.g;e.c<56?oc(e,rc,56-e.c):oc(e,rc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ic(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return V(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(o),h.sessionId=o;var l=su(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(Xu,s.w(),e)}).then(function(){var e=br("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=br("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=br("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=yr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new fe(function(t,e){u=function(){var e=br("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||gn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))})},h=function(){Nr()&&c()},o.addEventListener("resume",c,!1),yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)}).o(function(t){return dc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),fc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Oo("unknown",null,null,null,new S("no-auth-event")),t(e))})},t.Ta=function(t){H(this.b,function(e){return e==t})};var mc={name:"pendingRedirect",F:"session"};function vc(t){return Hu(t.b,mc,t.a)}function gc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Nc,this.C=new Lc,this.g=new pc(Oc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=yc(this.D,this.v,this.m,I,this.J)}function yc(t,e,n,r,i){var o=Ca.SDK_VERSION||null;return new(ur()?cc:ru)(t,e,n,o,r,i)}function bc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function wc(t){t.a.Yb()&&bc(t).o(function(e){var n=new Oo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)}),t.a.Ub()||xc(t.b)}function _c(t,e){z(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(mc,e.a).then(function(t){return"pending"==t}).then(function(e){e?vc(t.g).then(function(){bc(t).o(function(e){var n=new Oo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)})}):wc(t)}).o(function(){wc(t)})}function Ec(t,e){H(t.h,function(t){return t==e})}gc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=yc(this.D,this.v,this.m,null,this.J),this.i={}},gc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return xc(this.b),e};var Sc=new Rr(2e3,1e4),Tc=new Rr(3e4,6e4);function Ic(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Mc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function kc(t,e,n,r,i){var o,a;return(a=t.g).b.set(mc,"pending",a.a).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Mc(e))throw new S("operation-not-supported-in-this-environment");return o=e,vc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new fe(function(){}):vc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Cc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Sc.get())}gc.prototype.ra=function(){return this.b.ra()};var Ac={};function Oc(t,e,n){return t=t+":"+e,t=n?t+":"+n.url:t}function Rc(t,e,n,r){var i=Oc(e,n,r);return Ac[i]||(Ac[i]=new gc(t,e,n,r)),Ac[i]}function Nc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function xc(t){t.g||(t.g=!0,jc(t,!1,null,null))}function Pc(t){t.g&&!t.i&&jc(t,!1,null,null)}function Dc(t,e){if(t.b=function(){return be(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function jc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Dc(t,n):Dc(t,{user:null}),t.f=[],t.c=[]}function Lc(){}function Fc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Uc(t,e){this.a=e,Br(this,"verificationId",t)}function Bc(t,e,n,r){return new Mo(t).gb(e,n).then(function(t){return new Uc(t,r)})}function qc(t){var e=Pi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qr(this,{token:t,expirationTime:Pr(1e3*e.exp),authTime:Pr(1e3*e.auth_time),issuedAtTime:Pr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Vc(t,e,n){var r=e&&e[zc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Yi(null,r),this.b=[];var i=this;B(e[Kc]||[],function(t){(t=Wr(t))&&i.b.push(t)}),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Nc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(jc(this,!0,null,t.a),be()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){jc(t,s,e,null)}).o(function(e){jc(t,s,null,e)})}(this,t,e):we(new S("invalid-auth-event")):(jc(this,!1,null,null),be())):we(new S("invalid-auth-event"))},Nc.prototype.ra=function(){var t=this;return new fe(function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new S("timeout"),r.a&&r.a.cancel(),r.a=gn(Tc.get()).then(function(){r.b||(r.g=!0,jc(r,!0,null,i))}))})},Lc.prototype.h=function(t,e){var n,r,i,o,a;t?(n=t.c,r=t.b,t.a?(e.na(t.c,null,t.a,t.b),be()):e.Fa(n,r)?(i=e,o=(t=t).b,a=t.c,i.Fa(a,o)(t.g,t.f,t.T(),t.i).then(function(t){i.na(a,t,null,o)}).o(function(t){i.na(a,null,t,o)})):we(new S("invalid-auth-event"))):we(new S("invalid-auth-event"))},Uc.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)};var Kc="mfaInfo",zc="mfaPendingCredential";function Wc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Vc(t,e,n),Br(this,"resolver",this.b)}function Hc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Wc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Gc(){}function Qc(t){Br(this,"factorId",t.fa),this.a=t}function Yc(t){if(Qc.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xc(t,e){for(var n in qe.call(this,t),e)this[n]=e[n]}function $c(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),Ze(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Hr]=t.displayName),t.enrollmentTime&&(r[Gr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Yr]=t.phoneNumber);try{e=new Xr(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),Jc(this,n)}function Jc(t,e){t.b=e,Br(t,"enrolledFactors",e)}function Zc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function th(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function eh(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function nh(t,e){t.b=xi(e[Va]||""),t.a=e.refreshToken,eh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function rh(t,e){this.a=t||null,this.b=e||null,qr(this,{lastSignInTime:Pr(e||null),creationTime:Pr(t||null)})}function ih(t,e,n,r,i,o){qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function oh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r,i=Ca.SDK_VERSION?gr(Ca.SDK_VERSION):null;this.a=new Ba(this.l,A(I),i),(this.u=t.emulatorConfig||null)&&Qa(this.a,this.u),this.h=new th(this.a),ph(this,e[Va]),nh(this.h,e),Br(this,"refreshToken",this.h.a),gh(this,n||{}),fn.call(this),this.P=!1,this.s&&_r()&&(this.b=Rc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new Zc(function(){return r.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=r.h.c-Date.now()-3e5;return 0<t?t:0})),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){ah(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){ch(o,t.f)},this.ja=null,this.S=new $c(this,n),Br(this,"multiFactor",this.S)}function ah(t,e){t.u=e,Qa(t.a,e),t.b&&(e=t.b,t.b=Rc(t.s,t.l,t.m,t.u),t.P&&(Ec(e,t),_c(t.b,t)))}function sh(t,e){t.qa&&nn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&Ze(e,"languageCodeChanged",t.Pa)}function uh(t,e){t.$&&nn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&Ze(e,"emulatorConfigChanged",t.Ba)}function ch(t,e){t.aa=e,Xa(t.a,Ca.SDK_VERSION?gr(Ca.SDK_VERSION,t.aa):null)}function hh(t,e){t.ja&&nn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&Ze(e,"frameworkChanged",t.Oa)}function lh(e){try{return Ca.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function fh(t){t.J||t.D.b||(t.D.start(),nn(t,"tokenChanged",t.ba),Ze(t,"tokenChanged",t.ba))}function dh(t){nn(t,"tokenChanged",t.ba),t.D.stop()}function ph(t,e){t.Aa=e,Br(t,"_lat",e)}function mh(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ee(e).then(function(){return t})}function vh(t){t.b&&!t.P&&(t.P=!0,_c(t.b,t))}function gh(t,e){qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new rh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function yh(){}function bh(t){return be().then(function(){if(t.J)throw new S("app-deleted")})}function wh(t){return V(t.providerData,function(t){return t.providerId})}function _h(t,e){e&&(Eh(t,e.providerId),t.providerData.push(e))}function Eh(t,e){H(t.providerData,function(t){return t.providerId==e})}function Sh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function Th(t,e){var n,r;t!=e&&(qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Br(t,"metadata",new rh((r=e.metadata).a,r.b)):Br(t,"metadata",new rh),B(e.providerData,function(e){_h(t,e)}),n=t.h,r=e.h,n.b=r.b,n.a=r.a,n.c=r.c,Br(t,"refreshToken",t.h.a),Jc(t.S,e.S.b))}function Ih(t){return t.I().then(function(e){var n,r=t.isAnonymous;return Hs((n=t).a,Ss,{idToken:e}).then(b(n.Kc,n)).then(function(){return r||Sh(t,"isAnonymous",!1),e})})}function Mh(t,e){e[Va]&&t.Aa!=e[Va]&&(nh(t.h,e),t.dispatchEvent(new Xc("tokenChanged")),ph(t,e[Va]),Sh(t,"refreshToken",t.h.a))}function kh(t,e){return Ih(t).then(function(){if(z(wh(t),e))return mh(t).then(function(){throw new S("provider-already-linked")})})}function Ch(t,e,n){return Vr({user:t,credential:Co(e),additionalUserInfo:e=Ui(e),operationType:n})}function Ah(t,e){return Mh(t,e),t.reload().then(function(){return t})}function Oh(t,e,n,r,i){if(!_r())return we(new S("operation-not-supported-in-this-environment"));if(t.i&&!i)return we(t.i);var o=Fi(n.providerId),a=Cr(t.uid+":::"),s=null,u=ir(s=(!Tr()||cr())&&t.s&&n.isOAuthProvider?su(t.s,t.l,t.m,e,n,null,a,Ca.SDK_VERSION||null,null,null,t.tenantId,t.u):s,o&&o.va,o&&o.ua);return r=r().then(function(){if(Nh(t),!i)return t.I().then(function(){})}).then(function(){return Ic(t.b,u,e,n,a,!!s,t.tenantId)}).then(function(){return new fe(function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Cc(t.b,t,e,u,a)})}).then(function(t){return u&&rr(u),t?Vr(t):null}).o(function(t){throw u&&rr(u),t}),xh(t,r,i)}function Rh(t,e,n,r,i){if(!_r())return we(new S("operation-not-supported-in-this-environment"));if(t.i&&!i)return we(t.i);var o=null,a=Cr(t.uid+":::");return r=r().then(function(){if(Nh(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,mh(t)}).then(function(e){return e=t.ha?(e=t.ha).b.set(jh,t.w(),e.a):e}).then(function(){return kc(t.b,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Lh(t.ha);throw o}).then(function(){if(o)throw o}),xh(t,r,i)}function Nh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function xh(t,e,n){var r,i=(e=e,n=n,(r=t).i&&!n?(e.cancel(),we(r.i)):e.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.i||r.dispatchEvent(new Xc("userInvalidated")),r.i=t),t}));return t.N.push(i),i.oa(function(){W(t.N,i)}),i.o(function(e){var n=null;throw(n=e&&"auth/multi-factor-auth-required"===e.code?Hc(e.w(),lh(t),b(t.jc,t)):n)||e})}function Ph(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Va]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new oh(e,n,t);return t.providerData&&B(t.providerData,function(t){t&&_h(i,Vr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Dh(t){this.a=t,this.b=Ku()}Vc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=ht(e.f);return delete n[Kc],delete n[zc],ft(n,t),e.g(n)})},_(Wc,S),Gc.prototype.tb=function(t,e,n){return e.type==Xi?(o=this,a=t,s=n,e.Ha().then(function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),ft(t,{phoneVerificationInfo:Io(o.a)}),Hs(a,_s,t)})):(r=this,i=t,e.Ha().then(function(t){return ft(t={mfaPendingCredential:t},{phoneVerificationInfo:Io(r.a)}),Hs(i,Es,t)}));var r,i,o,a,s},_(Qc,Gc),_(Yc,Qc),_(Xc,qe),(t=$c.prototype).yc=function(t){var e;Jc(this,(t=t.hd,e=[],B(t.mfaInfo||[],function(t){(t=Wr(t))&&e.push(t)}),e))},t.Sb=function(){return this.a.I().then(function(t){return new Yi(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Mh(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Hs(r,Ws,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=q(e.b,function(t){return t.uid!=n});return Jc(e,r),Mh(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:V(this.b,function(t){return t.w()})}}},Zc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=gn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(xr).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Zc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},th.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},th.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return n=t.f,r=e,new fe(function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?$a(n,n.l+"?key="+encodeURIComponent(n.c),function(n){n?n.error?e(Qs(n)):n.access_token&&n.refresh_token?t(n):e(new S("internal-error")):e(new S("network-request-failed"))},"POST",Vn(r).toString(),n.g,n.m.get()):e(new S("internal-error"))}).then(function(e){return t.b=xi(e.access_token),t.a=e.refresh_token,eh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e});var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})},rh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(oh,fn),oh.prototype.xa=function(t){this.za=t,Ga(this.a,t)},oh.prototype.la=function(){return this.za},oh.prototype.Ga=function(){return Q(this.aa)},oh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Br(oh.prototype,"providerId","firebase"),(t=oh.prototype).reload=function(){var t=this;return xh(this,bh(this).then(function(){return Ih(t).then(function(){return mh(t)}).then(yh)}))},t.oc=function(t){return this.I(t).then(function(t){return new qc(t)})},t.I=function(t){var e=this;return xh(this,bh(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.Aa&&(ph(e,t.accessToken),e.dispatchEvent(new Xc("tokenChanged"))),Sh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");gh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?V(e,function(t){return new ih(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)_h(this,n[r]);Sh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xc("userReloaded",{hd:t}))},t.Lc=function(t){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return xh(this,t.c(this.a,this.uid).then(function(t){return Mh(e,t),n=Ch(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return xh(this,kh(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ch(e,t,"link"),Ah(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return xh(this,kh(this,"phone").then(function(){return Bc(lh(n),t,e,b(n.rb,n))}))},t.Mc=function(t,e){var n=this;return xh(this,be().then(function(){return Bc(lh(n),t,e,b(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return xh(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Mh(e,t),e.reload()}))},t.ed=function(t){var e=this;return xh(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Mh(e,t),e.reload()}))},t.Db=function(t){var e=this;return xh(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Mh(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bh(this);var e=this;return xh(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Mh(e,t),Sh(e,"displayName",t.displayName||null),Sh(e,"photoURL",t.photoUrl||null),B(e.providerData,function(t){"password"===t.providerId&&(Br(t,"displayName",e.displayName),Br(t,"photoURL",e.photoURL))}),mh(e)}).then(yh))},t.cd=function(t){var e=this;return xh(this,Ih(this).then(function(n){return z(wh(e),t)?Hs(e.a,ys,{idToken:n,deleteProvider:[t]}).then(function(t){var n={};return B(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),B(wh(e),function(t){n[t]||Eh(e,t)}),n[Mo.PROVIDER_ID]||Br(e,"phoneNumber",null),mh(e)}):mh(e).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var t=this;return xh(this,this.I().then(function(e){return Hs(t.a,gs,{idToken:e})}).then(function(){t.dispatchEvent(new Xc("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");sh(t,null),uh(t,null),hh(t,null),t.N=[],t.J=!0,dh(t),Br(t,"refreshToken",null),t.b&&Ec(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return Oh(this,"linkViaPopup",t,function(){return kh(e,t.providerId).then(function(){return mh(e)})},!1)},t.Nc=function(t){return Oh(this,"reauthViaPopup",t,function(){return be()},!0)},t.Fc=function(t){var e=this;return Rh(this,"linkViaRedirect",t,function(){return kh(e,t.providerId)},!1)},t.Oc=function(t){return Rh(this,"reauthViaRedirect",t,function(){return be()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xh(this,this.I().then(function(n){return hs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ch(i,t,"link"),Ah(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xh(this,be().then(function(){return Zi(ls(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ch(i,t,"reauthenticate"),Mh(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return xh(this,this.I().then(function(e){return n=e,void 0===t||ct(t)?{}:Oi(new wi(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return xh(this,this.I().then(function(t){return r=t,void 0===e||ct(e)?{}:Oi(new wi(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return xh(this,t=Zi(be(t),n.uid).then(function(t){return e=Ch(n,t,"reauthenticate"),Mh(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ft(t,this.metadata.w()),B(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),ft(t,this.S.w()),t};var jh={name:"redirectUser",F:"session"};function Lh(t){return Hu(t.b,jh,t.a)}function Fh(t){var e,n,r,i;this.a=t,this.b=Ku(),this.c=null,this.f=(n=qh("local"),r=qh("session"),i=qh("none"),function(t,e,n){var r=Wu(e,n),i=zu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}((e=this).b,n,e.a).then(function(){return e.b.get(r,e.a)}).then(function(t){return t?r:e.b.get(i,e.a).then(function(t){return t?i:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Bh,e.a).then(function(t){return t?qh(t):n})})})}).then(function(t){return e.c=t,Uh(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(qh("local"),this.a,b(this.g,this))}function Uh(t,e){var n,r,i=[];for(n in qu)qu[n]!==e&&i.push(Hu(t.b,qh(qu[n]),t.a));return i.push(Hu(t.b,Bh,t.a)),r=i,new fe(function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)_e(r[s],w(o,s),a);else t(i)})}Fh.prototype.g=function(){var t=this,e=qh("local");Wh(this,function(){return be().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Uh(t,"local").then(function(){t.c=e})})})};var Bh={name:"persistence",F:"session"};function qh(t){return{name:"authUser",F:t}}function Vh(t,e){return Wh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Kh(t){return Wh(t,function(){return Hu(t.b,t.c,t.a)})}function zh(t,e,n){return Wh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ph(t||{})})})}function Wh(t,e){return t.f=t.f.then(e,e),t.f}function Hh(t){if(this.l=!1,Br(this,"settings",new Fc),Br(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new S("invalid-api-key");var e,n,r,i,o,a;t=Ca.SDK_VERSION?gr(Ca.SDK_VERSION):null,this.a=new Ba(this.app.options&&this.app.options.apiKey,A(I),t),this.P=[],this.s=[],this.N=[],this.Pa=Ca.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Ca.INTERNAL.createSubscribe(b(this.Ac,this)),Jh(this,null),this.i=new Fh(this.app.options.apiKey+":"+this.app.name),this.D=new Dh(this.app.options.apiKey+":"+this.app.name),this.$=rl(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(jh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ph(t||{})})}(t.D,t.app.options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Lh(t.D)});return rl(t,e)}(e).then(function(){return zh(e.i,n,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return Vh(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:Kh(e.i)})):null}).then(function(t){Jh(e,t||null)}),rl(e,t))),this.h=rl(this,(r=this).$.then(function(){return $h(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){var t;r.l||(r.ba=!0,(t=r.i).b.addListener(qh("local"),t.a,r.ja))})),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&_r()&&(i.Oa=i.$.then(function(){var t;if(!i.l)return i.b=Rc(o,a,i.app.name,i.R),_c(i.b,i),tl(i)&&vh(tl(i)),i.m&&(vh(i.m),(t=i.m).xa(i.la()),sh(t,i),ch(t=i.m,i.J),hh(t,i),ah(t=i.m,i.R),uh(t,i),i.m=null),i.b})),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,fn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){var t;return t=this.R?Vr({protocol:(t=On(this.R.url)).c,host:t.a,port:t.g,options:Vr({disableWarnings:this.R.ec})}):null},enumerable:!1}),this.J=[],this.R=null}function Gh(t){qe.call(this,"languageCodeChanged"),this.h=t}function Qh(t){qe.call(this,"emulatorConfigChanged"),this.c=t}function Yh(t){qe.call(this,"frameworkChanged"),this.f=t}function Xh(t){return t.Oa||we(new S("auth-domain-config-required"))}function $h(t){if(!_r())return we(new S("operation-not-supported-in-this-environment"));var e=Xh(t).then(function(){return t.b.ra()}).then(function(t){return t?Vr(t):null});return rl(t,e)}function Jh(t,e){var n,r;tl(t)&&(n=tl(t),r=t.Ba,H(n.W,function(t){return t==r}),nn(tl(t),"tokenChanged",t.qa),nn(tl(t),"userDeleted",t.za),nn(tl(t),"userInvalidated",t.Aa),dh(tl(t))),e&&(e.W.push(t.Ba),Ze(e,"tokenChanged",t.qa),Ze(e,"userDeleted",t.za),Ze(e,"userInvalidated",t.Aa),0<t.u&&fh(e)),Br(t,"currentUser",e),e&&(e.xa(t.la()),sh(e,t),ch(e,t.J),hh(e,t),ah(e,t.R),uh(e,t))}function Zh(t,e){var n=null,r=null;return rl(t,e.then(function(e){return n=Co(e),r=Ui(e),function(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return r=n,i=e,o=t.D,a=t.Ga(),s=new oh(r,i),o&&(s.ha=o),a&&ch(s,a),s.reload().then(function(){return s});var r,i,o,a,s}).then(function(e){return tl(t)&&e.uid==tl(t).uid?Th(tl(t),e):(Jh(t,e),vh(e)),t.da(e)}).then(function(){nl(t)})}(t,e)},function(e){var n=null;throw(n=e&&"auth/multi-factor-auth-required"===e.code?Hc(e.w(),t,b(t.kc,t)):n)||e}).then(function(){return Vr({user:tl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function tl(t){return t.currentUser}function el(t){return tl(t)&&tl(t)._lat||null}function nl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](el(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](el(t))}}function rl(t,e){return t.P.push(e),e.oa(function(){W(t.P,e)}),e}function il(){}function ol(){this.a={},this.b=1e12}Fh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in qu)if(qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!wu()&&"none"!==t)throw n;break;default:if(!wr()&&"none"!==t)throw n}}(t),Wh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Uh(n,t)}).then(function(){if(n.c=qh(t),e)return n.b.set(n.c,e,n.a)}):be()})},_(Hh,fn),_(Gh,qe),_(Qh,qe),_(Yh,qe),(t=Hh.prototype).yb=function(t){return rl(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Ga(this.a,this.aa),this.dispatchEvent(new Gh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,n=e,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&sr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}),this.R={url:t,ec:e},this.settings.jb=!0,Qa(this.a,this.R),this.dispatchEvent(new Qh(this.R))}var n},t.Gc=function(t){this.J.push(t),Xa(this.a,Ca.SDK_VERSION?gr(Ca.SDK_VERSION,this.J):null),this.dispatchEvent(new Yh(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:tl(this)&&tl(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return Zh(i,cs(i.a,o))})},t.Xc=function(t){if(!_r())return we(new S("operation-not-supported-in-this-environment"));var e=this,n=Fi(t.providerId),r=Cr(),i=null,o=ir(i=(!Tr()||cr())&&this.app.options.authDomain&&t.isOAuthProvider?su(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,Ca.SDK_VERSION||null,null,null,this.T(),this.R):i,n&&n.va,n&&n.ua);return rl(this,n=Xh(this).then(function(n){return Ic(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new fe(function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Cc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&rr(o),t?Vr(t):null}).o(function(t){throw o&&rr(o),t}))},t.Yc=function(t){if(!_r())return we(new S("operation-not-supported-in-this-environment"));var e=this;return rl(this,Xh(this).then(function(){return Wh(t=e.i,function(){return t.b.set(Bh,t.c.F,t.a)});var t}).then(function(){return kc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return $h(this).then(function(e){return t.b&&Pc(t.b.b),e}).o(function(e){throw t.b&&Pc(t.b.b),e})},t.dd=function(t){if(!t)return we(new S("null-user"));if(this.S!=t.tenantId)return we(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=t,i=n,o=e.D,a=e.Ga(),s=r.h,(n={})[Va]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new oh(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&ch(i,a),Th(i,r),i);return rl(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return u.reload()}).then(function(){return tl(e)&&t.uid==tl(e).uid?(Th(tl(e),t),e.da(t)):(Jh(e,u),vh(u),e.da(u))}).then(function(){nl(e)}))},t.Bb=function(){var t=this,e=this.h.then(function(){return t.b&&Pc(t.b.b),tl(t)?(Jh(t,null),Kh(t.i).then(function(){nl(t)})):be()});return rl(this,e)},t.Zc=function(){var t=this;return zh(this.i,this.app.options.authDomain).then(function(e){if(!t.l){var n,r;if((n=tl(t)&&e)&&(n=tl(t).uid,r=e.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return Th(tl(t),e),tl(t).I();(tl(t)||e)&&(Jh(t,e),e&&(vh(e),e.ha=t.D),t.b&&_c(t.b,t),nl(t))}})},t.da=function(t){return Vh(this.i,t)},t.mc=function(){nl(this),this.da(tl(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return Zh(e,be(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(tl(e))})},t.Ac=function(t){var e,n,r=this;n=function(){t.next(tl(r))},(e=this).N.push(n),rl(e,e.h.then(function(){!e.l&&z(e.N,n)&&e.W!==e.getUid()&&(e.W=e.getUid(),n(el(e)))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(tl(r)):"function"==typeof t.next&&t.next(tl(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(tl(r)):"function"==typeof t.next&&t.next(tl(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this,n=this.h.then(function(){return tl(e)?tl(e).I(t).then(function(t){return{accessToken:t}}):null});return rl(this,n)},t.Tc=function(t){var e=this;return this.h.then(function(){return Zh(e,Hs(e.a,Bs,{token:t}))}).then(function(t){var n=t.user;return Sh(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return Zh(n,Hs(n.a,qs,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return Zh(n,Hs(n.a,ms,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return Zh(e,t.ka(e.a))})},t.Sc=function(t){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=tl(t);if(e&&e.isAnonymous){var n=Vr({providerId:null,isNewUser:!1});return Vr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Zh(t,t.a.Ab()).then(function(e){var n=e.user;return Sh(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return tl(this)&&tl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&tl(this)&&fh(tl(this))},t.Pc=function(t){var e=this;B(this.s,function(n){n==t&&e.u--}),this.u<0&&(this.u=0),0==this.u&&tl(this)&&dh(tl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),rl(this,this.h.then(function(){e.l||z(e.s,t)&&t(el(e))}))},t.removeAuthTokenListener=function(t){H(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(qh("local"),t.a,this.ja),this.b&&(Ec(this.b,this),Pc(this.b.b)),Promise.resolve()},t.hc=function(t){return rl(this,Hs(this.a,vs,{identifier:t,continueUri:Er()?tr():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.Bc=function(t){return!!Eo(t)},t.xb=function(t,e){var n=this;return rl(this,be().then(function(){var t=new wi(e);if(!t.c)throw new S("argument-error",Si+" must be true when sending sign in link to email");return Oi(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return rl(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return rl(this,this.a.Sa(t).then(function(t){return new $r(t)}))},t.kb=function(t){return rl(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return rl(this,be().then(function(){return void 0===e||ct(e)?{}:Oi(new wi(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return rl(this,Bc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return rl(this,be().then(function(){var r=e||tr(),i=_o(t,r);if(!(r=Eo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)}))},il.prototype.render=function(){},il.prototype.reset=function(){},il.prototype.getResponse=function(){},il.prototype.execute=function(){};var al=null;function sl(t,e){return(e=ul(e))&&t.a[e]||null}function ul(t){return(t=void 0===t?1e12:t)?t.toString():null}function cl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ee(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ze(this.f,"click",this.i)}function hl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ll(){}function fl(){}ol.prototype.render=function(t,e){return this.a[this.b.toString()]=new cl(t,e),this.b++},ol.prototype.reset=function(t){var e=sl(this,t);t=ul(t),e&&t&&(e.delete(),delete this.a[t])},ol.prototype.getResponse=function(t){return(t=sl(this,t))?t.getResponse():null},ol.prototype.execute=function(t){(t=sl(this,t))&&t.execute()},cl.prototype.getResponse=function(){return hl(this),this.b},cl.prototype.execute=function(){hl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()},6e4)},500))},cl.prototype.delete=function(){hl(this),this.g=!0,clearTimeout(this.a),this.a=null,nn(this.f,"click",this.i)},Br(ll,"FACTOR_ID","phone"),fl.prototype.g=function(){return be(al=al||new ol)},fl.prototype.c=function(){};var dl=null;function pl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ml=new pt(yt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),vl=new Rr(3e4,6e4);pl.prototype.g=function(t){var e=this;return new fe(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},vl.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new S("internal-error"))),delete a[e.a]},be(xa(Et(ml,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},pl.prototype.c=function(){this.b--};var gl=null;function yl(t,e,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s=s?dl=dl||new fl:gl=gl||new pl,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[_l])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[El],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ee(e)||!this.i&&ee(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ba(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[bl];this.a[bl]=function(t){var e;Sl(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=br(c,a))&&e(t)};var h=this.a[wl];this.a[wl]=function(){var t;Sl(u,null),"function"==typeof h?h():"string"!=typeof h||"function"==typeof(t=br(h,a))&&t()}}var bl="callback",wl="expired-callback",_l="sitekey",El="size";function Sl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Tl(t,e){return t.h.push(e),e.oa(function(){W(t.h,e)}),e}function Il(t){if(t.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ml(t,e,n){var r=!1;try{this.b=n||Ca.app()}catch(t){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ca.SDK_VERSION?gr(Ca.SDK_VERSION,o):null,yl.call(this,n,t,e,function(){try{var e=i.b.auth().la()}catch(t){e=null}return e},o,A(I),r)}function kl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],i<0||i>=Cl.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Cl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=yl.prototype).Ia=function(){var t=this;return this.f||(this.f=Tl(this,be().then(function(){if(Er()&&!hr())return sr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Hs(t.s,As,{})}).then(function(e){t.a[_l]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e})))},t.render=function(){Il(this);var t=this;return Tl(this,this.Ia().then(function(){var e,n;return null===t.c&&(n=t.v,t.i||(e=ee(n),n=function(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!te&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ut(i.name),'"'),i.type&&(r.push(' type="',Ut(i.type),'"'),ft(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=ae(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):ne(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}B(a?Q(o):o,r)}}}(n,r,e),r}("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c}))},t.verify=function(){Il(this);var t=this;return Tl(this,this.render().then(function(e){return new fe(function(n){var r,i=t.g.getResponse(e);i?n(i):(t.l.push(r=function(e){var i;e&&(i=r,H(t.l,function(t){return t==i}),n(e))}),t.i&&t.g.execute(t.c))})}))},t.reset=function(){Il(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Il(this),this.J=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=ee(this.v);t=e.firstChild;)e.removeChild(t)},_(Ml,yl);var Cl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Al(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Ol(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Rl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Nl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function xl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Pl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Dl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function jl(t){return p(t)&&"string"==typeof t.uid}function Ll(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Fl(t,e){for(var n in e){var r=e[n].name;t[r]=ql(r,t[n],e[n].j)}}function Ul(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w(function(t){return this[t]},n),set:w(function(t,e,n,r){kl(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Bl(t,e,n,r){t[e]=ql(e,n,r)}function ql(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return kl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Fl(Hh.prototype,{kb:{name:"applyActionCode",j:[Al("code")]},Sa:{name:"checkActionCode",j:[Al("code")]},ob:{name:"confirmPasswordReset",j:[Al("code"),Al("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Al("email"),Al("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Al("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Al("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ll(Rl(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ll(Rl(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Al("email"),Ll(Rl("opt_actionCodeSettings",!0),xl(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Al("email"),Rl("actionCodeSettings")]},yb:{name:"setPersistence",j:[Al("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Pl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Pl()]},Tc:{name:"signInWithCustomToken",j:[Al("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Al("email"),Al("password")]},Vc:{name:"signInWithEmailLink",j:[Al("email"),Al("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Al("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Ll({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof oh)}},xl(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Al(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Al("url"),Rl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Al("code")]}}),Ul(Hh.prototype,{lc:{name:"languageCode",lb:Ll(Al(),xl(),"languageCode")},ti:{name:"tenantId",lb:Ll(Al(),xl(),"tenantId")}}),(Hh.Persistence=qu).LOCAL="local",Hh.Persistence.SESSION="session",Hh.Persistence.NONE="none",Fl(oh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ol("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ol("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Pl()]},rb:{name:"linkWithCredential",j:[Pl()]},Dc:{name:"linkWithPhoneNumber",j:[Al("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pl()]},ub:{name:"reauthenticateWithCredential",j:[Pl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Al("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ll(Rl("opt_actionCodeSettings",!0),xl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Al(null,!0)]},cd:{name:"unlink",j:[Al("provider")]},Cb:{name:"updateEmail",j:[Al("email")]},Db:{name:"updatePassword",j:[Al("password")]},ed:{name:"updatePhoneNumber",j:[Pl("phone")]},Eb:{name:"updateProfile",j:[Rl("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Al("email"),Ll(Rl("opt_actionCodeSettings",!0),xl(null,!0),"opt_actionCodeSettings",!0)]}}),Fl(ol.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fl(il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fl(fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ul(Fc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ol("appVerificationDisabledForTesting")}}),Fl(Uc.prototype,{confirm:{name:"confirm",j:[Al("verificationCode")]}}),Bl(Ji,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,bo,To,no],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Ll(Al(),Rl(),"json")]),Bl(wo,"credential",function(t,e){return new yo(t,e)},[Al("email"),Al("password")]),Fl(yo.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),Fl(co.prototype,{Ca:{name:"addScope",j:[Al("scope")]},Ka:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Bl(co,"credential",ho,[Ll(Al(),Rl(),"token")]),Bl(wo,"credentialWithLink",_o,[Al("email"),Al("emailLink")]),Fl(lo.prototype,{Ca:{name:"addScope",j:[Al("scope")]},Ka:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Bl(lo,"credential",fo,[Ll(Al(),Rl(),"token")]),Fl(po.prototype,{Ca:{name:"addScope",j:[Al("scope")]},Ka:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Bl(po,"credential",mo,[Ll(Al(),Ll(Rl(),xl()),"idToken"),Ll(Al(),xl(),"accessToken",!0)]),Fl(vo.prototype,{Ka:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Bl(vo,"credential",go,[Ll(Al(),Rl(),"token"),Al("secret",!0)]),Fl(uo.prototype,{Ca:{name:"addScope",j:[Al("scope")]},credential:{name:"credential",j:[Ll(Al(),Ll(Rl(),xl()),"optionsOrIdToken"),Ll(Al(),xl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Fl(ro.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),Fl(to.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),Bl(Mo,"credential",ko,[Al("verificationId"),Al("verificationCode")]),Fl(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Ll(Al(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Dl(t.session,Xi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Dl(t.session,$i)&&jl(t.multiFactorHint):t.session&&t.multiFactorUid?Dl(t.session,$i)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Fl(So.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),Fl(S.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Fl(jo.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Fl(Do.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Fl(Wc.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Fl(Vc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Fl($c.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Al("displayName",!0)]},bd:{name:"unenroll",j:[Ll({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:jl},Al(),"multiFactorInfoIdentifier")]}}),Fl(Ml.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bl(li,"parseLink",bi,[Al("link")]),Bl(ll,"assertion",function(t){return new Yc(t)},[Pl("phone")]),function(){if(void 0===Ca||!Ca.INTERNAL||!Ca.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Jr,VERIFY_AND_CHANGE_EMAIL:ti,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hh,AuthCredential:Ji,Error:S};Bl(t,"EmailAuthProvider",wo,[]),Bl(t,"FacebookAuthProvider",co,[]),Bl(t,"GithubAuthProvider",lo,[]),Bl(t,"GoogleAuthProvider",po,[]),Bl(t,"TwitterAuthProvider",vo,[]),Bl(t,"OAuthProvider",uo,[Al("providerId")]),Bl(t,"SAMLAuthProvider",so,[Al("providerId")]),Bl(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Hh)}}]),Bl(t,"RecaptchaVerifier",Ml,[Ll(Al(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Rl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ca.app.App)}}]),Bl(t,"ActionCodeURL",li,[]),Bl(t,"PhoneMultiFactorGenerator",ll,[]),Ca.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Hh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Ca.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ca.registerVersion("@firebase/auth","0.16.8"),Ca.INTERNAL.extendNamespace({User:oh})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Aa="";function Oa(t){Aa=t}var Ra=(Na.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Oo(e))},Na.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:Ao(t)},Na.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},Na.prototype.prefixedName_=function(t){return this.prefix_+t},Na.prototype.toString=function(){return this.domStorage_.toString()},Na);function Na(t){this.domStorage_=t,this.prefix_="firebase:"}var xa=(Pa.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},Pa.prototype.get=function(t){return No(this.cache_,t)?this.cache_[t]:null},Pa.prototype.remove=function(t){delete this.cache_[t]},Pa);function Pa(){this.cache_={},this.isInMemoryStorage=!0}function Da(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,ro(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new jo).update(e),t=t.digest(),oo.encodeByteArray(t)}function ja(t,e){ro(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Wa.logLevel=aa.VERBOSE,Qa=Wa.log.bind(Wa),e&&za.set("logging_enabled",!0)):"function"==typeof t?Qa=t:(Qa=null,za.remove("logging_enabled"))}function La(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Ga.apply(void 0,Ji([],$i(t)));Wa.error(n)}function Fa(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function Ua(t,e){return t===e?0:t<e?-1:1}function Ba(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oo(e))}function qa(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}var Va,Ka=(si=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ra(e)}}catch(t){}return new xa})("localStorage"),za=si("sessionStorage"),Wa=new fa("@firebase/database"),Ha=(Va=1,function(){return Va++}),Ga=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?Oo(o):o,r+=" "}return r},Qa=null,Ya=!0,Xa=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===Ya&&(Ya=!1,null===Qa&&!0===za.get("logging_enabled")&&ja(!0)),Qa&&(t=Ga.apply(null,e),Qa(t))},$a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Xa.apply(void 0,Ji([t],$i(e)))}},Ja=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Ga.apply(void 0,Ji([],$i(t)));throw Wa.error(n),new Error(n)},Za=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Ga.apply(void 0,Ji([],$i(t)));Wa.warn(n)},ts="[MIN_NAME]",es="[MAX_NAME]",ns=function(t,e){if(t===e)return 0;if(t===ts||e===es)return-1;if(e===ts||t===es)return 1;var n=hs(t),r=hs(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},rs=function t(e){if("object"!=typeof e||null===e)return Oo(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Oo(r[o]),i+=":",i+=t(e[r[o]]);return i+="}"};function is(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function os(t){var e,n,r,i;ro(!Fa(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function as(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var ss=new RegExp("^-?(0*)\\d{1,10}$"),us=-2147483648,cs=2147483647,hs=function(t){return ss.test(t)&&(t=Number(t),us<=t&&t<=cs)?t:null},ls=function(t){try{t()}catch(r){setTimeout(function(){var e=r.stack||"";throw Za("Exception was thrown by user callback.",e),r},Math.floor(0))}},fs=(ds.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},ds.prototype.addTokenChangeListener=function(t){var e;null!==(e=this.appCheckProvider)&&void 0!==e&&e.get().then(function(e){return e.addTokenListener(t)})},ds.prototype.notifyForInvalidToken=function(){Za('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},ds);function ds(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null!=e&&e.get().then(function(t){return n.appCheck=t})}var ps=(ms.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(Xa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},ms.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},ms.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},ms.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Za(t)},ms);function ms(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}var vs=(gs.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},gs.prototype.addTokenChangeListener=function(t){t(this.accessToken)},gs.prototype.removeTokenChangeListener=function(t){},gs.prototype.notifyForInvalidToken=function(){},gs.OWNER="owner",gs);function gs(t){this.accessToken=t}var ys=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bs="websocket",ws="long_polling",_s=(Es.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Es.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(Es.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Es.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Es.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return t+this.host+"/"+e},Es);function Es(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+t)||this._host}function Ss(t,e,n){var r;if(ro("string"==typeof e,"typeof type must == string"),ro("object"==typeof n,"typeof params must == object"),e===bs)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ws)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}((e=t).host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=t.namespace);var i=[];return is(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var Ts=(Is.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),No(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Is.prototype.get=function(){return so(this.counters_)},Is);function Is(){this.counters_={}}var Ms={},ks={};function Cs(t){return t=t.toString(),Ms[t]||(Ms[t]=new Ts),Ms[t]}var As=(Os.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Os.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&ls(function(){n.onMessage_(t[e])})}(e);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},Os);function Os(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Rs="pLPCommand",Ns="pRTLPCB",xs=(Ps.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new As(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null},Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new Ds(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$i(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,function(){o.onClosed_()})):o.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$i(t,2),r=n[0],n=n[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(r,n)},function(){o.onClosed_()},o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),o.appCheckToken&&(t.ac=o.appCheckToken),"undefined"!=typeof location&&location.hostname&&ys.test(location.hostname)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,function(){}))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()}),window.attachEvent("onload",i)))},Ps.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Ps.forceAllow=function(){Ps.forceAllow_=!0},Ps.forceDisallow=function(){Ps.forceDisallow_=!0},Ps.isAvailable=function(){return!!Ps.forceAllow_||!(Ps.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Ps.prototype.markConnectionHealthy=function(){},Ps.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Ps.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Ps.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Ps.prototype.send=function(t){t=Oo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var t=to(t),e=qa(t,1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},Ps.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Ps.prototype.incrementIncomingBytes_=function(t){t=Oo(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},Ps);function Ps(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(t),this.stats_=Cs(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),Ss(e,ws,t)}}var Ds=(js.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Xa("No IE domain setting required")}catch(t){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},js.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},js.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},js.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift(),e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d;n++}return this.addLongPollTag_(t+=e,this.currentSerial),!0}return!1},js.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},js.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},js.prototype.addTag=function(t,e){var n=this;setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Xa("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},js);function js(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ha(),window[Rs+this.uniqueCallbackIdentifier]=t,window[Ns+this.uniqueCallbackIdentifier]=e,this.myIFrame=js.createIFrame_(),e="",e="<html><body>"+(e=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':e)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(e),this.myIFrame.doc.close()}catch(t){Xa("frame writing exception"),t.stack&&Xa(t.stack),Xa(t)}}var Ls=null;"undefined"!=typeof MozWebSocket?Ls=MozWebSocket:"undefined"!=typeof WebSocket&&(Ls=WebSocket);var Fs=(Us.connectionURL_=function(t,e,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&ys.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),Ss(t,bs,i)},Us.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{yo()||(r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new Ls(this.connURL,[],r))}catch(t){this.log_("Error instantiating WebSocket.");var r=t.message||t.data;return r&&this.log_(r),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&n.log_(t),n.onClosed_()}},Us.prototype.start=function(){},Us.forceDisallow=function(){Us.forceDisallow_=!0},Us.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==Ls&&!Us.forceDisallow_},Us.previouslyFailed=function(){return Ka.isInMemoryStorage||!0===Ka.get("previous_websocket_failure")},Us.prototype.markConnectionHealthy=function(){Ka.remove("previous_websocket_failure")},Us.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=Ao(t),this.onMessage(t))},Us.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},Us.prototype.extractFrameCount_=function(t){if(ro(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},Us.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(t):null!==(t=this.extractFrameCount_(t))&&this.appendFrame_(t))},Us.prototype.send=function(t){this.resetKeepAlive(),t=Oo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=qa(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},Us.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Us.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Us.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Us.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},Us.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Us.responsesRequiredToBeHealthy=2,Us.healthyTimeout=3e4,Us);function Us(t,e,n,r,i,o,a){this.connId=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=Cs(e),this.connURL=Us.connectionURL_(e,o,a,r),this.nodeAdmin=e.nodeAdmin}var Bs=(Object.defineProperty(qs,"ALL_TRANSPORTS",{get:function(){return[xs,Fs]},enumerable:!1,configurable:!0}),qs.prototype.initTransports_=function(t){var e,n,r=Fs&&Fs.isAvailable(),i=r&&!Fs.previouslyFailed();if(t.webSocketOnly&&(r||Za("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Fs];else{var o=this.transports_=[];try{for(var a=Xi(qs.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},qs.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},qs.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},qs);function qs(t){this.initTransports_(t)}var Vs=(Ks.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=as(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))},Ks.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Ks.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},Ks.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},Ks.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},Ks.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Ks.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Ks.prototype.onSecondaryMessageReceived_=function(t){var e=Ba("t",t),t=Ba("d",t);if("c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},Ks.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Ks.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Ks.prototype.onPrimaryMessageReceived_=function(t){var e=Ba("t",t),t=Ba("d",t);"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},Ks.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},Ks.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Ks.prototype.onControl_=function(t){var e=Ba("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?La("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):La("Unknown control packet command: "+e)},Ks.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Za("Protocol version mismatch detected"),this.tryStartUpgrade_())},Ks.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},Ks.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),t=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,t),as(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},Ks.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},Ks.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):as(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},Ks.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Ks.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},Ks.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Ks.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},Ks.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},Ks.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Ks.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Ks);function Ks(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new Bs(e),this.log_("Connection created"),this.start_()}function zs(){}zs.prototype.put=function(t,e,n,r){},zs.prototype.merge=function(t,e,n,r){},zs.prototype.refreshAuthToken=function(t){},zs.prototype.refreshAppCheckToken=function(t){},zs.prototype.onDisconnectPut=function(t,e,n){},zs.prototype.onDisconnectMerge=function(t,e,n){},zs.prototype.onDisconnectCancel=function(t,e){},zs.prototype.reportStats=function(t){},G=zs;var Ws=(Hs.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Ji([],$i(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Hs.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Hs.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Hs.prototype.validateEventType_=function(t){ro(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},Hs);function Hs(t){this.allowedEvents_=t,this.listeners_={},ro(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}var Gs,Qs=(Hi(Ys,Gs=Ws),Ys.getInstance=function(){return new Ys},Ys.prototype.getInitialEvent=function(t){return ro("online"===t,"Unknown event type: "+t),[this.online_]},Ys.prototype.currentlyOnline=function(){return this.online_},Ys);function Ys(){var t=Gs.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||po()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}var Xs=32,$s=768,Js=(Zs.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Zs);function Zs(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}function tu(){return new Js("")}function eu(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nu(t){return t.pieces_.length-t.pieceNum_}function ru(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Js(t.pieces_,e)}function iu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ou(t,e){return t.pieces_.slice(t.pieceNum_+(e=void 0===e?0:e))}function au(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Js(e,0)}function su(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Js)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)0<i[r].length&&n.push(i[r]);return new Js(n,0)}function uu(t){return t.pieceNum_>=t.pieces_.length}function cu(t,e){var n=eu(t),r=eu(e);if(null===n)return e;if(n===r)return cu(ru(t),ru(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hu(t,e){for(var n=ou(t,0),r=ou(e,0),i=0;i<n.length&&i<r.length;i++){var o=ns(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function lu(t,e){if(nu(t)!==nu(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fu(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(nu(t)>nu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var du=function(t,e){this.errorPrefix_=e,this.parts_=ou(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ho(this.parts_[n]);pu(this)};function pu(t){if(t.byteLength_>$s)throw new Error(t.errorPrefix_+"has a key path longer than "+$s+" bytes ("+t.byteLength_+").");if(t.parts_.length>Xs)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xs+") or object contains a cycle "+mu(t))}function mu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var vu,gu=(Hi(yu,vu=Ws),yu.getInstance=function(){return new yu},yu.prototype.getInitialEvent=function(t){return ro("visible"===t,"Unknown event type: "+t),[this.visible_]},yu);function yu(){var t,e,n=vu.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))},!1),n}var bu,wu=1e3,_u=3e5,Eu=(Hi(Su,bu=G),Su.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,e={r:r,a:t,b:e};this.log_(Oo(e)),ro(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},Su.prototype.get=function(t){var e=this;this.initConnection_();var n=new co,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),n.promise},Su.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ro(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ro(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},Su.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},Su.prototype.sendListen_=function(t){var e=this,n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,s=o.s;Su.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))})},Su.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&No(t,"w")&&(t=xo(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&(t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',e=e._path.toString(),Za("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+t+" at "+e+" to your security rules for better performance.")))},Su.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},Su.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=Ro(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},Su.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},Su.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=Ro(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,function(e){var n=e.s,e=e.d||"error";r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))}))},Su.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,e=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,e)})},Su.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ro(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},Su.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},Su.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},Su.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},Su.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},Su.prototype.sendOnDisconnect_=function(t,e,n,r){n={p:e,d:n},this.log_("onDisconnect "+t,n),this.sendRequest(t,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},Su.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},Su.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},Su.prototype.putInternal=function(t,e,n,r,i){this.initConnection_(),n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},Su.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},Su.prototype.reportStats=function(t){var e=this;this.connected_&&(this.log_("reportStats",t={c:t}),this.sendRequest("s",t,function(t){"ok"!==t.s&&(t=t.d,e.log_("reportStats","Error sending stats: "+t))}))},Su.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Oo(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},Su.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):La("Unrecognized action received from server: "+Oo(t)+"\nAre you using the latest client?")},Su.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},Su.prototype.scheduleConnect_=function(t){var e=this;ro(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},Su.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},Su.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},Su.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Su.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=wu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},Su.prototype.establishConnection_=function(){return Qi(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,h=this;return Yi(this,function(l){switch(l.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Su.nextConnectionId_++,c=this.lastSessionId,i=!1,o=null,a=function(){o?o.close():(i=!0,n())},u=function(t){ro(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(t)},this.realtime_={close:a,sendRequest:u},s=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(s),this.appCheckTokenProvider_.getToken(s)])];case 2:return u=$i.apply(void 0,[l.sent(),2]),s=u[0],u=u[1],i?Xa("getToken() completed but was canceled"):(Xa("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=u&&u.token,o=new Vs(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,n,function(t){Za(t+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},c)),[3,4];case 3:return c=l.sent(),this.log_("Failed to get token: "+c),i||(this.repoInfo_.nodeAdmin&&Za(c),a()),[3,4];case 4:return[2]}})})},Su.prototype.interrupt=function(t){Xa("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Su.prototype.resume=function(t){Xa("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Po(this.interruptReasons_)&&(this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0))},Su.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},Su.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},Su.prototype.onListenRevoked_=function(t,e){e=e?e.map(function(t){return rs(t)}).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},Su.prototype.removeListen_=function(t,e){var n,r=new Js(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},Su.prototype.onAuthRevoked_=function(t,e){Xa("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},Su.prototype.onAppCheckRevoked_=function(t,e){Xa("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},Su.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},Su.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Xi(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Xi(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},Su.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Aa.replace(/\./g,"-")]=1,po()?t["framework.cordova"]=1:go()&&(t["framework.reactnative"]=1),this.reportStats(t)},Su.prototype.shouldReconnect_=function(){var t=Qs.getInstance().currentlyOnline();return Po(this.interruptReasons_)&&t},Su.nextPersistentConnectionId_=0,Su.nextConnectionId_=0,Su);function Su(t,e,n,r,i,o,a,s){var u=bu.call(this)||this;if(u.repoInfo_=t,u.applicationId_=e,u.onDataUpdate_=n,u.onConnectStatus_=r,u.onServerInfoUpdate_=i,u.authTokenProvider_=o,u.appCheckTokenProvider_=a,u.authOverride_=s,u.id=Su.nextPersistentConnectionId_++,u.log_=$a("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=wu,u.maxReconnectDelay_=_u,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!yo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return gu.getInstance().on("visible",u.onVisible_,u),-1===t.host.indexOf("fblocal")&&Qs.getInstance().on("online",u.onOnline_,u),u}var Tu=(Iu.Wrap=function(t,e){return new Iu(t,e)},Iu);function Iu(t,e){this.name=t,this.node=e}var Mu,ku,H=(Cu.prototype.getCompare=function(){return this.compare.bind(this)},Cu.prototype.indexedValueChanged=function(t,e){return t=new Tu(ts,t),e=new Tu(ts,e),0!==this.compare(t,e)},Cu.prototype.minPost=function(){return Tu.MIN},Cu);function Cu(){}function Au(){return null!==ku&&ku.apply(this,arguments)||this}var Ou=new(Hi(Au,ku=H),Object.defineProperty(Au,"__EMPTY_NODE",{get:function(){return Mu},set:function(t){Mu=t},enumerable:!1,configurable:!0}),Au.prototype.compare=function(t,e){return ns(t.name,e.name)},Au.prototype.isDefinedOn=function(t){throw io("KeyIndex.isDefinedOn not expected to be called.")},Au.prototype.indexedValueChanged=function(t,e){return!1},Au.prototype.minPost=function(){return Tu.MIN},Au.prototype.maxPost=function(){return new Tu(es,Mu)},Au.prototype.makePost=function(t,e){return ro("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tu(t,Mu)},Au.prototype.toString=function(){return".key"},si=Au),Ru=(Nu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Nu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Nu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Nu);function Nu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var xu=(Pu.prototype.copy=function(t,e,n,r,i){return new Pu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Pu.prototype.count=function(){return this.left.count()+1+this.right.count()},Pu.prototype.isEmpty=function(){return!1},Pu.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Pu.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Pu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Pu.prototype.minKey=function(){return this.min_().key},Pu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Pu.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Pu.prototype.removeMin_=function(){if(this.left.isEmpty())return Lu.EMPTY_NODE;var t=this;return(t=(t=t.left.isRed_()||t.left.left.isRed_()?t:t.moveRedLeft_()).copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Pu.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return Lu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Pu.prototype.isRed_=function(){return this.color},Pu.prototype.fixUp_=function(){var t=this;return t=(t=(t=t.right.isRed_()&&!t.left.isRed_()?t.rotateLeft_():t).left.isRed_()&&t.left.left.isRed_()?t.rotateRight_():t).left.isRed_()&&t.right.isRed_()?t.colorFlip_():t},Pu.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t=t.right.left.isRed_()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_():t},Pu.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t=t.left.left.isRed_()?(t=t.rotateRight_()).colorFlip_():t},Pu.prototype.rotateLeft_=function(){var t=this.copy(null,null,Pu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Pu.prototype.rotateRight_=function(){var t=this.copy(null,null,Pu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Pu.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Pu.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Pu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Pu.RED=!0,Pu.BLACK=!1,Pu);function Pu(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Pu.RED,this.left=null!=r?r:Lu.EMPTY_NODE,this.right=null!=i?i:Lu.EMPTY_NODE}function Du(){}Du.prototype.copy=function(t,e,n,r,i){return this},Du.prototype.insert=function(t,e,n){return new xu(t,e,null)},Du.prototype.remove=function(t,e){return this},Du.prototype.count=function(){return 0},Du.prototype.isEmpty=function(){return!0},Du.prototype.inorderTraversal=function(t){return!1},Du.prototype.reverseTraversal=function(t){return!1},Du.prototype.minKey=function(){return null},Du.prototype.maxKey=function(){return null},Du.prototype.check_=function(){return 0},Du.prototype.isRed_=function(){return!1},Ws=Du;var ju,Lu=(Fu.prototype.insert=function(t,e){return new Fu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,xu.BLACK,null,null))},Fu.prototype.remove=function(t){return new Fu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xu.BLACK,null,null))},Fu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},Fu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Fu.prototype.isEmpty=function(){return this.root_.isEmpty()},Fu.prototype.count=function(){return this.root_.count()},Fu.prototype.minKey=function(){return this.root_.minKey()},Fu.prototype.maxKey=function(){return this.root_.maxKey()},Fu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},Fu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},Fu.prototype.getIterator=function(t){return new Ru(this.root_,null,this.comparator_,!1,t)},Fu.prototype.getIteratorFrom=function(t,e){return new Ru(this.root_,t,this.comparator_,!1,e)},Fu.prototype.getReverseIteratorFrom=function(t,e){return new Ru(this.root_,t,this.comparator_,!0,e)},Fu.prototype.getReverseIterator=function(t){return new Ru(this.root_,null,this.comparator_,!0,t)},Fu.EMPTY_NODE=new Ws,Fu);function Fu(t,e){void 0===e&&(e=Fu.EMPTY_NODE),this.comparator_=t,this.root_=e}function Uu(t,e){return ns(t.name,e.name)}function Bu(t,e){return ns(t,e)}function qu(t){return"number"==typeof t?"number:"+os(t):"string:"+t}var Vu,Ku,zu,Wu,Hu=function(t){var e;t.isLeafNode()?(e=t.val(),ro("string"==typeof e||"number"==typeof e||"object"==typeof e&&No(e,".sv"),"Priority must be a string or number.")):ro(t===ju||t.isEmpty(),"priority of unexpected type."),ro(t===ju||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gu=(Object.defineProperty(Qu,"__childrenNodeConstructor",{get:function(){return Vu},set:function(t){Vu=t},enumerable:!1,configurable:!0}),Qu.prototype.isLeafNode=function(){return!0},Qu.prototype.getPriority=function(){return this.priorityNode_},Qu.prototype.updatePriority=function(t){return new Qu(this.value_,t)},Qu.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Qu.__childrenNodeConstructor.EMPTY_NODE},Qu.prototype.getChild=function(t){return uu(t)?this:".priority"===eu(t)?this.priorityNode_:Qu.__childrenNodeConstructor.EMPTY_NODE},Qu.prototype.hasChild=function(){return!1},Qu.prototype.getPredecessorChildName=function(t,e){return null},Qu.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Qu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Qu.prototype.updateChild=function(t,e){var n=eu(t);return null===n?e:e.isEmpty()&&".priority"!==n?this:(ro(".priority"!==n||1===nu(t),".priority must be the last token in a path"),this.updateImmediateChild(n,Qu.__childrenNodeConstructor.EMPTY_NODE.updateChild(ru(t),e)))},Qu.prototype.isEmpty=function(){return!1},Qu.prototype.numChildren=function(){return 0},Qu.prototype.forEachChild=function(t,e){return!1},Qu.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Qu.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+qu(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?os(this.value_):this.value_,this.lazyHash_=Da(t)),this.lazyHash_},Qu.prototype.getValue=function(){return this.value_},Qu.prototype.compareTo=function(t){return t===Qu.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Qu.__childrenNodeConstructor?-1:(ro(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Qu.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Qu.VALUE_TYPE_ORDER.indexOf(e),i=Qu.VALUE_TYPE_ORDER.indexOf(n);return ro(0<=r,"Unknown leaf type: "+e),ro(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Qu.prototype.withIndex=function(){return this},Qu.prototype.isIndexed=function(){return!0},Qu.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Qu.VALUE_TYPE_ORDER=["object","boolean","number","string"],Qu);function Qu(t,e){void 0===e&&(e=Qu.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,ro(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Hu(this.priorityNode_)}function Yu(){return null!==Wu&&Wu.apply(this,arguments)||this}var Xu=new(Hi(Yu,Wu=H),Yu.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),r=n.compareTo(r);return 0===r?ns(t.name,e.name):r},Yu.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Yu.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Yu.prototype.minPost=function(){return Tu.MIN},Yu.prototype.maxPost=function(){return new Tu(es,new Gu("[PRIORITY-POST]",zu))},Yu.prototype.makePost=function(t,e){return t=Ku(t),new Tu(e,new Gu("[PRIORITY-POST]",t))},Yu.prototype.toString=function(){return".priority"},Yu),$u=Math.log(2),Ju=(Zu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Zu);function Zu(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/$u,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var tc,ec,nc=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e,e=function e(r,i){if(0==(o=i-r))return null;if(1==o)return a=t[r],s=n?n(a):a,new xu(s,a.node,xu.BLACK,null,null);var o=parseInt(o/2,10)+r,r=e(r,o),i=e(o+1,i),a=t[o],s=n?n(a):a;return new xu(s,a.node,xu.BLACK,r,i)}(1+i,a),a=t[i],i=n?n(a):a,s(new xu(i,a.node,r,null,e))},s=function(t){r=r?r.left=t:i=t},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,xu.BLACK):(a(h,xu.BLACK),a(h,xu.RED))}return i}(new Ju(t.length));return new Lu(r||e,i)},rc={},ic=(Object.defineProperty(oc,"Default",{get:function(){return ro(Xu,"ChildrenNode.ts has not been loaded"),tc=tc||new oc({".priority":rc},{".priority":Xu})},enumerable:!1,configurable:!0}),oc.prototype.get=function(t){var e=xo(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lu?e:null},oc.prototype.hasIndex=function(t){return No(this.indexSet_,t.toString())},oc.prototype.addIndex=function(t,e){ro(t!==Ou,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=e.getIterator(Tu.Wrap),o=i.getNext();o;)r=r||t.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?nc(n,t.getCompare()):rc,s=t.toString(),u=Gi({},this.indexSet_);return u[s]=t,(e=Gi({},this.indexes_))[s]=a,new oc(e,u)},oc.prototype.addToIndexes=function(t,e){var n=this;return new oc(Do(this.indexes_,function(r,i){var o=xo(n.indexSet_,i);if(ro(o,"Missing index implementation for "+i),r===rc){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(Tu.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),nc(a,o.getCompare())}return rc}return i=e.get(t.name),o=r,(o=i?r.remove(new Tu(t.name,i)):o).insert(t,t.node)}),this.indexSet_)},oc.prototype.removeFromIndexes=function(t,e){return new oc(Do(this.indexes_,function(n){if(n===rc)return n;var r=e.get(t.name);return r?n.remove(new Tu(t.name,r)):n}),this.indexSet_)},oc);function oc(t,e){this.indexes_=t,this.indexSet_=e}var ac,sc=(Object.defineProperty(uc,"EMPTY_NODE",{get:function(){return ec=ec||new uc(new Lu(Bu),null,ic.Default)},enumerable:!1,configurable:!0}),uc.prototype.isLeafNode=function(){return!1},uc.prototype.getPriority=function(){return this.priorityNode_||ec},uc.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new uc(this.children_,t,this.indexMap_)},uc.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?ec:t},uc.prototype.getChild=function(t){var e=eu(t);return null===e?this:this.getImmediateChild(e).getChild(ru(t))},uc.prototype.hasChild=function(t){return null!==this.children_.get(t)},uc.prototype.updateImmediateChild=function(t,e){if(ro(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new Tu(t,e),r=void 0,i=void 0,i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?ec:this.priorityNode_;return new uc(r,n,i)},uc.prototype.updateChild=function(t,e){var n=eu(t);return null===n?e:(ro(".priority"!==eu(t)||1===nu(t),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(ru(t),e),this.updateImmediateChild(n,e))},uc.prototype.isEmpty=function(){return this.children_.isEmpty()},uc.prototype.numChildren=function(){return this.children_.count()},uc.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Xu,function(o,a){e[o]=a.val(t),n++,i&&uc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},uc.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+qu(this.getPriority().val())+":"),this.forEachChild(Xu,function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)}),this.lazyHash_=""===t?"":Da(t)),this.lazyHash_},uc.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new Tu(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},uc.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},uc.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new Tu(t,this.children_.get(t)):null},uc.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},uc.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new Tu(t,this.children_.get(t)):null},uc.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},uc.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},uc.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Tu.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},uc.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},uc.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Tu.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},uc.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hc?-1:0},uc.prototype.withIndex=function(t){return t===Ou||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new uc(this.children_,this.priorityNode_,t))},uc.prototype.isIndexed=function(t){return t===Ou||this.indexMap_.hasIndex(t)},uc.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Xu),n=t.getIterator(Xu),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},uc.prototype.resolveIndex_=function(t){return t===Ou?null:this.indexMap_.get(t.toString())},uc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,uc);function uc(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Hu(this.priorityNode_),this.children_.isEmpty()&&ro(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function cc(){return ac.call(this,new Lu(Bu),sc.EMPTY_NODE,ic.Default)||this}var hc=new(Hi(cc,ac=sc),cc.prototype.compareTo=function(t){return t===this?0:1},cc.prototype.equals=function(t){return t===this},cc.prototype.getPriority=function(){return this},cc.prototype.getImmediateChild=function(t){return sc.EMPTY_NODE},cc.prototype.isEmpty=function(){return!1},cc);Object.defineProperties(Tu,{MIN:{value:new Tu(ts,sc.EMPTY_NODE)},MAX:{value:new Tu(es,hc)}}),si.__EMPTY_NODE=sc.EMPTY_NODE,Gu.__childrenNodeConstructor=sc,zu=ju=hc;var lc=!0;function fc(t,e){if(void 0===e&&(e=null),null===t)return sc.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),ro(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"!=typeof(t="object"==typeof t&&".value"in t&&null!==t[".value"]?t[".value"]:t)||".sv"in t)return new Gu(t,fc(e));if(t instanceof Array||!lc){var n=sc.EMPTY_NODE;return is(t,function(e,r){No(t,e)&&"."!==e.substring(0,1)&&(!(r=fc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))}),n.updatePriority(fc(e))}var r=[],i=!1;if(is(t,function(t,e){"."!==t.substring(0,1)&&((e=fc(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new Tu(t,e))))}),0===r.length)return sc.EMPTY_NODE;var o=nc(r,Uu,function(t){return t.name},Bu);if(i){var a=nc(r,Xu.getCompare());return new sc(o,fc(e),new ic({".priority":a},{".priority":Xu}))}return new sc(o,fc(e),ic.Default)}Ku=fc;var dc,pc,mc=(Hi(vc,dc=H),vc.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},vc.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},vc.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),r=n.compareTo(r);return 0===r?ns(t.name,e.name):r},vc.prototype.makePost=function(t,e){return t=fc(t),t=sc.EMPTY_NODE.updateChild(this.indexPath_,t),new Tu(e,t)},vc.prototype.maxPost=function(){var t=sc.EMPTY_NODE.updateChild(this.indexPath_,hc);return new Tu(es,t)},vc.prototype.toString=function(){return ou(this.indexPath_,0).join("/")},vc);function vc(t){var e=dc.call(this)||this;return e.indexPath_=t,ro(!uu(t)&&".priority"!==eu(t),"Can't create PathIndex with empty path or .priority key"),e}function gc(){return null!==pc&&pc.apply(this,arguments)||this}function yc(t){if(t===""+cs)return"-";var e=hs(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?es:(e=n[i],e=Sc.charAt(Sc.indexOf(e)+1),n[i]=e,n.slice(0,i+1).join(""))}function bc(t){if(t===""+us)return ts;var e=hs(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?""+cs:(delete n[n.length-1],n.join("")):(n[n.length-1]=Sc.charAt(Sc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var wc,_c,Ec=new(Hi(gc,pc=H),gc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?ns(t.name,e.name):n},gc.prototype.isDefinedOn=function(t){return!0},gc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},gc.prototype.minPost=function(){return Tu.MIN},gc.prototype.maxPost=function(){return Tu.MAX},gc.prototype.makePost=function(t,e){return t=fc(t),new Tu(e,t)},gc.prototype.toString=function(){return".value"},gc),Sc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tc=(wc=0,_c=[],function(t){var e=t===wc;wc=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Sc.charAt(t%64),t=Math.floor(t/64);ro(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===_c[r];r--)_c[r]=0;_c[r]++}else for(r=0;r<12;r++)_c[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Sc.charAt(_c[r]);return ro(20===i.length,"nextPushId: Length should be 20."),i});function Ic(t){return{type:"value",snapshotNode:t}}function Mc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function kc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Cc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Ac=(Oc.prototype.updateChild=function(t,e,n,r,i,o){ro(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(kc(e,a)):ro(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Mc(e,n)):o.trackChildChange(Cc(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},Oc.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Xu,function(t,r){e.hasChild(t)||n.trackChildChange(kc(t,r))}),e.isLeafNode()||e.forEachChild(Xu,function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(Cc(e,r,i)):n.trackChildChange(Mc(e,r))})),e.withIndex(this.index_)},Oc.prototype.updatePriority=function(t,e){return t.isEmpty()?sc.EMPTY_NODE:t.updatePriority(e)},Oc.prototype.filtersNodes=function(){return!1},Oc.prototype.getIndexedFilter=function(){return this},Oc.prototype.getIndex=function(){return this.index_},Oc);function Oc(t){this.index_=t}var Rc=(Nc.prototype.getStartPost=function(){return this.startPost_},Nc.prototype.getEndPost=function(){return this.endPost_},Nc.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},Nc.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tu(e,n))||(n=sc.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},Nc.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=sc.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(sc.EMPTY_NODE),i=this;return e.forEachChild(Xu,function(t,e){i.matches(new Tu(t,e))||(r=r.updateImmediateChild(t,sc.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},Nc.prototype.updatePriority=function(t,e){return t},Nc.prototype.filtersNodes=function(){return!0},Nc.prototype.getIndexedFilter=function(){return this.indexedFilter_},Nc.prototype.getIndex=function(){return this.index_},Nc.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},Nc.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},Nc);function Nc(t){this.indexedFilter_=new Ac(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Nc.getStartPost_(t),this.endPost_=Nc.getEndPost_(t)}var xc=(Pc.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tu(e,n))||(n=sc.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Pc.prototype.updateFullNode=function(t,e,n){if(e.isLeafNode()||e.isEmpty())r=sc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){var r=sc.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(sc.EMPTY_NODE);var s,u=void 0,c=void 0,h=void 0,i=void 0;h=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare());for(var o=0,l=!1;i.hasNext();)a=i.getNext(),(l=!l&&h(u,a)<=0||l)&&o<this.limit_&&h(a,c)<=0?o++:r=r.updateImmediateChild(a.name,sc.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Pc.prototype.updatePriority=function(t,e){return t},Pc.prototype.filtersNodes=function(){return!0},Pc.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Pc.prototype.getIndex=function(){return this.index_},Pc.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;ro(s.numChildren()===this.limit_,"");var u=new Tu(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var l=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);return h&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(Cc(e,n,l)),s.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(kc(e,l)),l=s.updateImmediateChild(e,sc.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Mc(f.name,f.node)),l.updateImmediateChild(f.name,f.node)):l)}return!n.isEmpty()&&h&&0<=a(c,u)?(null!=i&&(i.trackChildChange(kc(c.name,c.node)),i.trackChildChange(Mc(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,sc.EMPTY_NODE)):t},Pc);function Pc(t){this.rangedFilter_=new Rc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Dc=(jc.prototype.hasStart=function(){return this.startSet_},jc.prototype.hasStartAfter=function(){return this.startAfterSet_},jc.prototype.hasEndBefore=function(){return this.endBeforeSet_},jc.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},jc.prototype.getIndexStartValue=function(){return ro(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},jc.prototype.getIndexStartName=function(){return ro(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ts},jc.prototype.hasEnd=function(){return this.endSet_},jc.prototype.getIndexEndValue=function(){return ro(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},jc.prototype.getIndexEndName=function(){return ro(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:es},jc.prototype.hasLimit=function(){return this.limitSet_},jc.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},jc.prototype.getLimit=function(){return ro(this.limitSet_,"Only valid if limit has been set"),this.limit_},jc.prototype.getIndex=function(){return this.index_},jc.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},jc.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xu},jc.prototype.copy=function(){var t=new jc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},jc);function jc(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xu}function Lc(t,e,n){return(t=t.copy()).startSet_=!0,t.indexStartValue_=e=void 0===e?null:e,null!=n?(t.startNameSet_=!0,t.indexStartName_=n):(t.startNameSet_=!1,t.indexStartName_=""),t}function Fc(t,e,n){return(t=t.copy()).endSet_=!0,t.indexEndValue_=e=void 0===e?null:e,void 0!==n?(t.endNameSet_=!0,t.indexEndName_=n):(t.endNameSet_=!1,t.indexEndName_=""),t}function Uc(t,e){return(t=t.copy()).index_=e,t}function Bc(t){var e,n={};return t.isDefault()||(e=t.index_===Xu?"$priority":t.index_===Ec?"$value":t.index_===Ou?"$key":(ro(t.index_ instanceof mc,"Unrecognized index type!"),t.index_.toString()),n.orderBy=Oo(e),t.startSet_&&(n.startAt=Oo(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Oo(t.indexStartName_))),t.endSet_&&(n.endAt=Oo(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Oo(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function qc(t){var e,n={};return t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_&&(n.l=t.limit_,""===(e=t.viewFrom_)&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e),t.index_!==Xu&&(n.i=t.index_.toString()),n}var Vc,Kc=(Hi(zc,Vc=G),zc.prototype.reportStats=function(t){throw new Error("Method not implemented.")},zc.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(ro(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},zc.prototype.listen=function(t,e,n,r){var i=this,o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);var a=zc.getListenId_(t,n),s={};this.listens_[a]=s,t=Bc(t._queryParams),this.restRequest_(o+".json",t,function(t,e){null===(t=404===t?e=null:t)&&i.onDataUpdate_(o,e,!1,n),xo(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},zc.prototype.unlisten=function(t,e){e=zc.getListenId_(t,e),delete this.listens_[e]},zc.prototype.get=function(t){var e=this,n=Bc(t._queryParams),r=t._path.toString(),i=new co;return this.restRequest_(r+".json",n,function(t,n){null===(t=404===t?n=null:t)?(e.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))}),i.promise},zc.prototype.refreshAuthToken=function(t){},zc.prototype.restRequest_=function(t,e,n){var r=this;return(e=void 0===e?{}:e).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var o=$i(i,2),i=o[0],o=o[1];i&&i.accessToken&&(e.auth=i.accessToken),o&&o.token&&(e.ac=o.token);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(200<=s.status&&s.status<300){try{t=Ao(s.responseText)}catch(t){Za("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Za("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},zc);function zc(t,e,n,r){var i=Vc.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=e,i.authTokenProvider_=n,i.appCheckTokenProvider_=r,i.log_=$a("p:rest:"),i.listens_={},i}var Wc=(Hc.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Hc.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Hc);function Hc(){this.rootNode_=sc.EMPTY_NODE}function Gc(){return{value:null,children:new Map}}function Qc(t,e,n){var r;uu(e)?(t.value=n,t.children.clear()):null!==t.value?t.value=t.value.updateChild(e,n):(r=eu(e),t.children.has(r)||t.children.set(r,Gc()),Qc(t.children.get(r),e=ru(e),n))}function Yc(t,e,n){var r;null!==t.value?n(e,t.value):(r=function(t,r){Yc(r,new Js(e.toString()+"/"+t),n)},t.children.forEach(function(t,e){r(e,t)}))}var Xc=($c.prototype.get=function(){var t=this.collection_.get(),e=Gi({},t);return this.last_&&is(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},$c);function $c(t){this.collection_=t,this.last_=null}var Jc,Zc=(th.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;is(e,function(e,i){0<i&&No(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),as(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},th);function th(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Xc(t),t=1e4+2e4*Math.random(),as(this.reportStats_.bind(this),Math.floor(t))}function eh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}(Ws=Jc=Jc||{})[Ws.OVERWRITE=0]="OVERWRITE",Ws[Ws.MERGE=1]="MERGE",Ws[Ws.ACK_USER_WRITE=2]="ACK_USER_WRITE",Ws[Ws.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var nh=(rh.prototype.operationForChild=function(t){if(uu(this.path)){if(null!=this.affectedTree.value)return ro(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Js(t));return new rh(tu(),e,this.revert)}return ro(eu(this.path)===t,"operationForChild called for unrelated child."),new rh(ru(this.path),this.affectedTree,this.revert)},rh);function rh(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Jc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}var ih=(oh.prototype.operationForChild=function(t){return uu(this.path)?new oh(this.source,tu()):new oh(this.source,ru(this.path))},oh);function oh(t,e){this.source=t,this.path=e,this.type=Jc.LISTEN_COMPLETE}var ah=(sh.prototype.operationForChild=function(t){return uu(this.path)?new sh(this.source,tu(),this.snap.getImmediateChild(t)):new sh(this.source,ru(this.path),this.snap)},sh);function sh(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Jc.OVERWRITE}var uh=(ch.prototype.operationForChild=function(t){if(uu(this.path)){var e=this.children.subtree(new Js(t));return e.isEmpty()?null:e.value?new ah(this.source,tu(),e.value):new ch(this.source,tu(),e)}return ro(eu(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ch(this.source,ru(this.path),this.children)},ch.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},ch);function ch(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Jc.MERGE}var hh=(lh.prototype.isFullyInitialized=function(){return this.fullyInitialized_},lh.prototype.isFiltered=function(){return this.filtered_},lh.prototype.isCompleteForPath=function(t){return uu(t)?this.isFullyInitialized()&&!this.filtered_:(t=eu(t),this.isCompleteForChild(t))},lh.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},lh.prototype.getNode=function(){return this.node_},lh);function lh(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var fh,dh=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function ph(t,e,n,r,i,o){(r=r.filter(function(t){return t.type===n})).sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw io("Should only compare child_ events.");return e=new Tu(e.childName,e.snapshotNode),n=new Tu(n.childName,n.snapshotNode),t.index_.compare(e,n)}(t,e,n)}),r.forEach(function(n){var r,a,s,u=(r=t,s=o,"value"===(a=n).type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(u,t.query_))})})}function mh(t,e){return{eventCache:t,serverCache:e}}function vh(t,e,n,r){return mh(new hh(e,n,r),t.serverCache)}function gh(t,e,n,r){return mh(t.eventCache,new hh(e,n,r))}function yh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var wh=(_h.fromObject=function(t){var e=new _h(null);return is(t,function(t,n){e=e.set(new Js(t),n)}),e},_h.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},_h.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:tu(),value:this.value};if(uu(t))return null;var n=eu(t),r=this.children.get(n);return null===r?null:null==(e=r.findRootMostMatchingPathAndValue(ru(t),e))?null:{path:su(new Js(n),e.path),value:e.value}},_h.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},_h.prototype.subtree=function(t){if(uu(t))return this;var e=eu(t),e=this.children.get(e);return null!==e?e.subtree(ru(t)):new _h(null)},_h.prototype.set=function(t,e){if(uu(t))return new _h(e,this.children);var n=eu(t),e=(this.children.get(n)||new _h(null)).set(ru(t),e),e=this.children.insert(n,e);return new _h(this.value,e)},_h.prototype.remove=function(t){if(uu(t))return this.children.isEmpty()?new _h(null):new _h(null,this.children);var e=eu(t),n=this.children.get(e);return n?(n=n.remove(ru(t)),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?new _h(null):new _h(this.value,t)):this},_h.prototype.get=function(t){if(uu(t))return this.value;var e=eu(t),e=this.children.get(e);return e?e.get(ru(t)):null},_h.prototype.setTree=function(t,e){if(uu(t))return e;var n=eu(t),t=(this.children.get(n)||new _h(null)).setTree(ru(t),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t);return new _h(this.value,e)},_h.prototype.fold=function(t){return this.fold_(tu(),t)},_h.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(su(t,r),e)}),e(t,this.value,n)},_h.prototype.findOnPath=function(t,e){return this.findOnPath_(t,tu(),e)},_h.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(uu(t))return null;var i=eu(t),r=this.children.get(i);return r?r.findOnPath_(ru(t),su(e,i),n):null},_h.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,tu(),e)},_h.prototype.foreachOnPath_=function(t,e,n){if(uu(t))return this;this.value&&n(e,this.value);var r=eu(t),i=this.children.get(r);return i?i.foreachOnPath_(ru(t),su(e,r),n):new _h(null)},_h.prototype.foreach=function(t){this.foreach_(tu(),t)},_h.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(su(t,n),e)}),this.value&&e(t,this.value)},_h.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},_h);function _h(t,e){void 0===e&&(e=fh=fh||new Lu(Ua)),this.value=t,this.children=e}var Eh=(Sh.empty=function(){return new Sh(new wh(null))},Sh);function Sh(t){this.writeTree_=t}function Th(t,e,n){if(uu(e))return new Eh(new wh(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,r=cu(i,e),o=o.updateChild(r,n);return new Eh(t.writeTree_.set(i,o))}return n=new wh(n),n=t.writeTree_.setTree(e,n),new Eh(n)}function Ih(t,e,n){var r=t;return is(n,function(t,n){r=Th(r,su(e,t),n)}),r}function Mh(t,e){return uu(e)?Eh.empty():(e=t.writeTree_.setTree(e,new wh(null)),new Eh(e))}function kh(t,e){return null!=Ch(t,e)}function Ch(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(cu(n.path,e)):null}function Ah(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xu,function(t,n){e.push(new Tu(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Tu(t,n.value))}),e}function Oh(t,e){if(uu(e))return t;var n=Ch(t,e);return new Eh(null!=n?new wh(n):t.writeTree_.subtree(e))}function Rh(t){return t.writeTree_.isEmpty()}function Nh(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(ro(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(su(e,n),o,r)}),r=r.getChild(e).isEmpty()||null===i?r:r.updateChild(su(e,".priority"),i)}(tu(),t.writeTree_,e)}function xh(t,e){return Kh(e,t)}function Ph(t){return t.visible}function Dh(t,e,n){for(var r=Eh.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)fu(n,a)?r=Th(r,s=cu(n,a),o.snap):fu(a,n)&&(s=cu(a,n),r=Th(r,tu(),o.snap.getChild(s)));else{if(!o.children)throw io("WriteRecord should have .snap or .children");fu(n,a)?r=Ih(r,s=cu(n,a),o.children):fu(a,n)&&(uu(s=cu(a,n))?r=Ih(r,tu(),o.children):(o=xo(o.children,eu(s)))&&(s=o.getChild(ru(s)),r=Th(r,tu(),s)))}}}return r}function jh(t,e,n,r,i){if(r||i){var o=Oh(t.visibleWrites,e);return!i&&Rh(o)?n:i||null!=n||kh(o,tu())?Nh(Dh(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(fu(t.path,e)||fu(e,t.path))},e),n||sc.EMPTY_NODE):null}return null!=(o=Ch(t.visibleWrites,e))?o:Rh(t=Oh(t.visibleWrites,e))?n:null!=n||kh(t,tu())?Nh(t,n||sc.EMPTY_NODE):null}function Lh(t,e,n,r){return jh(t.writeTree,t.treePath,e,n,r)}function Fh(t,e){return function(t,e,n){var r=sc.EMPTY_NODE,i=Ch(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xu,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=Oh(t.visibleWrites,e);return n.forEachChild(Xu,function(t,e){e=Nh(Oh(o,new Js(t)),e),r=r.updateImmediateChild(t,e)}),Ah(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return Ah(Oh(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function Uh(t,e,n,r){return i=t.writeTree,t=t.treePath,e=e,r=r,ro(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=su(t,e),kh(i.visibleWrites,t)?null:Rh(t=Oh(i.visibleWrites,t))?r.getChild(e):Nh(t,r.getChild(e));var i}function Bh(t,e){return n=t.writeTree,e=su(t.treePath,e),Ch(n.visibleWrites,e);var n}function qh(t,e,n){return r=t.writeTree,i=t.treePath,t=n,e=su(i,n=e),null!=(i=Ch(r.visibleWrites,e))?i:t.isCompleteForChild(n)?Nh(Oh(r.visibleWrites,e),t.getNode().getImmediateChild(n)):null;var r,i}function Vh(t,e){return Kh(su(t.treePath,e),t.writeTree)}function Kh(t,e){return{treePath:t,writeTree:e}}var zh=(Wh.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;ro("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),ro(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Cc(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,kc(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Mc(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw io("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Cc(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},Wh.prototype.getChanges=function(){return Array.from(this.changeMap.values())},Wh);function Wh(){this.changeMap=new Map}function Hh(){}var Gh=new(Hh.prototype.getCompleteChild=function(t){return null},Hh.prototype.getChildAfterChild=function(t,e,n){return null},Hh),Qh=(Yh.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new hh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,qh(this.writes_,t,e))},Yh.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bh(this.viewCache_),t=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,t=Oh(t.visibleWrites,e);if(null!=(e=Ch(t,tu())))s=e;else{if(null==n)return[];s=Nh(t,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),l=h.getNext();l&&u.length<i;)0!==c(l,r)&&u.push(l),l=h.getNext();return u}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,r,e,1,n,t);return 0===t.length?null:t[0]},Yh);function Yh(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}function Xh(t,e,n,r,i,o){var a=e.eventCache;if(null!=Bh(r,n))return e;var s,u,c,h,l=void 0,f=void 0;return l=uu(n)?(ro(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()?(s=Fh(r,(s=bh(e))instanceof sc?s:sc.EMPTY_NODE),t.filter.updateFullNode(e.eventCache.getNode(),s,o)):(u=Lh(r,bh(e)),t.filter.updateFullNode(e.eventCache.getNode(),u,o))):".priority"===(u=eu(n))?(ro(1===nu(n),"Can't have a priority with additional path components"),null!=(h=Uh(r,n,c=a.getNode(),f=e.serverCache.getNode()))?t.filter.updatePriority(c,h):a.getNode()):(c=ru(n),h=void 0,null!=(h=a.isCompleteForChild(u)?(f=e.serverCache.getNode(),null!=(f=Uh(r,n,a.getNode(),f))?a.getNode().getImmediateChild(u).updateChild(c,f):a.getNode().getImmediateChild(u)):qh(r,u,e.serverCache))?t.filter.updateChild(a.getNode(),u,h,c,i,o):a.getNode()),vh(e,l,a.isFullyInitialized()||uu(n),t.filter.filtersNodes())}function $h(t,e,n,r,i,o,a,s){var u=e.serverCache,c=a?t.filter:t.filter.getIndexedFilter();if(uu(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var h=u.getNode().updateChild(n,r),l=c.updateFullNode(u.getNode(),h,null);else{if(a=eu(n),!u.isCompleteForPath(n)&&1<nu(n))return e;h=ru(n),r=u.getNode().getImmediateChild(a).updateChild(h,r),l=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,h,Gh,null)}return c=gh(e,l,u.isFullyInitialized()||uu(n),c.filtersNodes()),Xh(t,c,n,i,new Qh(i,c,o),s)}function Jh(t,e,n,r,i,o,a){var s,u,c=e.eventCache,h=new Qh(i,e,o);return uu(n)?(u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),vh(e,u,!0,t.filter.filtersNodes())):".priority"===(s=eu(n))?(u=t.filter.updatePriority(e.eventCache.getNode(),r),vh(e,u,c.isFullyInitialized(),c.isFiltered())):(i=ru(n),o=c.getNode().getImmediateChild(s),u=void 0,u=uu(i)?r:null!=(n=h.getCompleteChild(s))?".priority"===iu(i)&&n.getChild(au(i)).isEmpty()?n:n.updateChild(i,r):sc.EMPTY_NODE,o.equals(u)?e:vh(e,t.filter.updateChild(c.getNode(),s,u,i,h,a),c.isFullyInitialized(),t.filter.filtersNodes()))}function Zh(t,e){return t.eventCache.isCompleteForChild(e)}function tl(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function el(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u=e,r=uu(n)?r:new wh(null).setTree(n,r),c=e.serverCache.getNode();return r.children.inorderTraversal(function(n,r){c.hasChild(n)&&(r=tl(0,e.serverCache.getNode().getImmediateChild(n),r),u=$h(t,u,new Js(n),r,i,o,a,s))}),r.children.inorderTraversal(function(n,r){var h=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||h||(r=tl(0,e.serverCache.getNode().getImmediateChild(n),r),u=$h(t,u,new Js(n),r,i,o,a,s))}),u}var nl,rl=(Object.defineProperty(il.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),il);function il(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Ac(n.getIndex()),i=(o=n).loadsAllData()?new Ac(o.getIndex()):new(o.hasLimit()?xc:Rc)(o);this.processor_={filter:i};var t=e.serverCache,n=e.eventCache,o=r.updateFullNode(sc.EMPTY_NODE,t.getNode(),null),e=i.updateFullNode(sc.EMPTY_NODE,n.getNode(),null),r=new hh(o,t.isFullyInitialized(),r.filtersNodes()),i=new hh(e,n.isFullyInitialized(),i.filtersNodes());this.viewCache_=mh(i,r),this.eventGenerator_=new dh(this.query_)}function ol(t){return 0===t.eventRegistrations_.length}function al(t,e,n){var r,i=[];if(n&&(ro(null==e,"A cancel should cancel all event registrations."),r=t.query._path,t.eventRegistrations_.forEach(function(t){(t=t.createCancelEvent(n,r))&&i.push(t)})),e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var s=t.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}else o.push(s)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function sl(t,e,n,r){e.type===Jc.MERGE&&null!==e.source.queryId&&(ro(bh(t.viewCache_),"We should always have a full cache before handling merges"),ro(yh(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,e=function(t,e,n,r,i){var o,a,s,u,c,h,l,f,d=new zh;if(n.type===Jc.OVERWRITE)var p=n,m=p.source.fromUser?Jh(t,e,p.path,p.snap,r,i,d):(ro(p.source.fromServer,"Unknown source."),o=p.source.tagged||e.serverCache.isFiltered()&&!uu(p.path),$h(t,e,p.path,p.snap,r,i,o,d));else if(n.type===Jc.MERGE){var v=n;m=v.source.fromUser?(a=t,s=e,u=v.path,p=v.children,c=r,h=i,l=d,f=s,p.foreach(function(t,e){t=su(u,t),Zh(s,eu(t))&&(f=Jh(a,f,t,e,c,h,l))}),p.foreach(function(t,e){t=su(u,t),Zh(s,eu(t))||(f=Jh(a,f,t,e,c,h,l))}),f):(ro(v.source.fromServer,"Unknown source."),o=v.source.tagged||e.serverCache.isFiltered(),el(t,e,v.path,v.children,r,i,o,d))}else if(n.type===Jc.ACK_USER_WRITE){var g=n;m=g.revert?function(t,e,n,r,i,o){var a;if(null!=Bh(r,n))return e;var s,u,c=new Qh(r,e,i),h=e.eventCache.getNode(),i=void 0;return uu(n)||".priority"===eu(n)?(u=void 0,u=e.serverCache.isFullyInitialized()?Lh(r,bh(e)):(s=e.serverCache.getNode(),ro(s instanceof sc,"serverChildren would be complete if leaf node"),Fh(r,s)),i=t.filter.updateFullNode(h,u,o)):(s=eu(n),null==(u=qh(r,s,e.serverCache))&&e.serverCache.isCompleteForChild(s)&&(u=h.getImmediateChild(s)),(i=null!=u?t.filter.updateChild(h,s,u,ru(n),c,o):e.eventCache.getNode().hasChild(s)?t.filter.updateChild(h,s,sc.EMPTY_NODE,ru(n),c,o):h).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Lh(r,bh(e))).isLeafNode()&&(i=t.filter.updateFullNode(i,a,o))),a=e.serverCache.isFullyInitialized()||null!=Bh(r,tu()),vh(e,i,a,t.filter.filtersNodes())}(t,e,g.path,r,i,d):function(t,e,n,r,i,o,a){if(null!=Bh(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(uu(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return $h(t,e,n,u.getNode().getChild(n),i,o,s,a);if(uu(n)){var c=new wh(null);return u.getNode().forEachChild(Ou,function(t,e){c=c.set(new Js(t),e)}),el(t,e,n,c,i,o,s,a)}return e}var h=new wh(null);return r.foreach(function(t,e){var r=su(n,t);u.isCompleteForPath(r)&&(h=h.set(t,u.getNode().getChild(r)))}),el(t,e,n,h,i,o,s,a)}(t,e,g.path,g.affectedTree,r,i,d)}else{if(n.type!==Jc.LISTEN_COMPLETE)throw io("Unknown operation type: "+n.type);g=t,i=n.path,t=r,n=d,r=gh(e,(r=e.serverCache).getNode(),r.isFullyInitialized()||uu(i),r.isFiltered()),m=Xh(g,r,i,t,Gh,n)}return d=d.getChanges(),function(t,e,n){var r,i,o=e.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=yh(t),(0<n.length||!t.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Ic(yh(e))))}(e,m,d),{viewCache:m,changes:d}}(t.processor_,i,e,n,r);return n=t.processor_,r=e.viewCache,ro(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ro(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),ro(e.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=e.viewCache,ul(t,e.changes,e.viewCache.eventCache.getNode(),null)}function ul(t,e,n,r){return r=r?[r]:t.eventRegistrations_,function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))}),ph(t,i,"child_removed",e,r,n),ph(t,i,"child_added",e,r,n),ph(t,i,"child_moved",o,r,n),ph(t,i,"child_changed",e,r,n),ph(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r)}var cl,hl=function(){this.views=new Map};function ll(t,e,n,r){var i,o,a=e.source.queryId;if(null!==a){var s=t.views.get(a);return ro(null!=s,"SyncTree gave us an op for an invalid query."),sl(s,e,n,r)}var u=[];try{for(var c=Xi(t.views.values()),h=c.next();!h.done;h=c.next())s=h.value,u=u.concat(sl(s,e,n,r))}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function fl(t,e,n,r,i){var o=e._queryIdentifier,t=t.views.get(o);return t||(o=Lh(n,i?r:null),t=!1,t=!!o||(o=r instanceof sc?Fh(n,r):sc.EMPTY_NODE,!1),i=mh(new hh(o,t,!1),new hh(r,i,!1)),new rl(e,i))}function dl(t){var e,n,r=[];try{for(var i=Xi(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function pl(t,e){var n,r,i,o,a,s=null;try{for(var u=Xi(t.views.values()),c=u.next();!c.done;c=u.next())var h=c.value,s=s||(o=e,a=void 0,(a=bh((i=h).viewCache_))&&(i.query._queryParams.loadsAllData()||!uu(o)&&!a.getImmediateChild(eu(o)).isEmpty())?a.getChild(o):null)}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s}function ml(t,e){return e._queryParams.loadsAllData()?yl(t):(e=e._queryIdentifier,t.views.get(e))}function vl(t,e){return null!=ml(t,e)}function gl(t){return null!=yl(t)}function yl(t){var e,n;try{for(var r=Xi(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var bl=1,wl=function(t){this.listenProvider_=t,this.syncPointTree_=new wh(null),this.pendingWriteTree_={visibleWrites:Eh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function _l(t,e,n,r,i){var o,a,s,u;return o=t.pendingWriteTree_,a=e,s=n,u=i,ro((r=r)>o.lastWriteId,"Stacking an older write on top of newer ones"),o.allWrites.push({path:a,snap:s,writeId:r,visible:u=void 0===u||u}),u&&(o.visibleWrites=Th(o.visibleWrites,a,s)),o.lastWriteId=r,i?kl(t,new ah({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function El(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});ro(0<=n,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i,o=r.visible,a=!1,s=t.allWrites.length-1;o&&0<=s;){var u=t.allWrites[s];u.visible&&(n<=s&&function(t,e){if(t.snap)return fu(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&fu(su(t.path,n),e))return!0;return!1}(u,r.path)?o=!1:fu(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=t).visibleWrites=Dh(i.allWrites,Ph,tu()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?t.visibleWrites=Mh(t.visibleWrites,r.path):is(r.children,function(e){t.visibleWrites=Mh(t.visibleWrites,su(r.path,e))}),!0)}(t.pendingWriteTree_,e)){var i=new wh(null);return null!=r.snap?i=i.set(tu(),!0):is(r.children,function(t){i=i.set(new Js(t),!0)}),kl(t,new nh(r.path,i,n))}return[]}function Sl(t,e,n){return kl(t,new ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Tl(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||vl(o,e))){var s=function(t,e,n,r){var i,o,a=e._queryIdentifier,s=[],u=[],c=gl(t);if("default"===a)try{for(var h=Xi(t.views.entries()),l=h.next();!l.done;l=h.next()){var f=$i(l.value,2),d=f[0],p=f[1],u=u.concat(al(p,n,r));ol(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(p=t.views.get(a))&&(u=u.concat(al(p,n,r)),ol(p)&&(t.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!gl(t)&&s.push((ro(nl,"Reference.ts has not been loaded"),new nl(e._repo,e._path))),{removed:s,events:u}}(o,e,n,r);if(0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i)),n=s.removed,a=s.events,o=-1!==n.findIndex(function(t){return t._queryParams.loadsAllData()}),s=t.syncPointTree_.findOnPath(i,function(t,e){return gl(e)}),o&&!s&&!(i=t.syncPointTree_.subtree(i)).isEmpty())for(var u=i.fold(function(t,e,n){if(e&&gl(e))return[yl(e)];var r=[];return e&&(r=dl(e)),is(n,function(t,e){r=r.concat(e)}),r}),c=0;c<u.length;++c){var h=u[c],l=h.query,h=Cl(t,h);t.listenProvider_.startListening(Pl(l),Al(t,l),h.hashFn,h.onComplete)}!s&&0<n.length&&!r&&(o?t.listenProvider_.stopListening(Pl(e),null):n.forEach(function(e){var n=t.queryToTagMap.get(Ol(e));t.listenProvider_.stopListening(Pl(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r,i=e[n];i._queryParams.loadsAllData()||(r=Ol(i),i=t.queryToTagMap.get(r),t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i))}}(t,n)}return a}function Il(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){t=cu(t,r),i=i||pl(e,t),o=o||gl(e)});var a=t.syncPointTree_.get(r);a?(o=o||gl(a),i=i||pl(a,tu())):(a=new hl,t.syncPointTree_=t.syncPointTree_.set(r,a)),null!=i?h=!0:(h=!1,i=sc.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){(e=pl(e,tu()))&&(i=i.updateImmediateChild(t,e))}));var s,u,c=vl(a,e);c||e._queryParams.loadsAllData()||(s=Ol(e),ro(!t.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=bl++,t.queryToTagMap.set(s,u),t.tagToQueryMap.set(u,s));var h=function(t,e,n,r,i,o){var a,o=fl(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),o.eventRegistrations_.push(n),e=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(Xu,function(t,e){a.push(Mc(t,e))}),o.isFullyInitialized()&&a.push(Ic(o.getNode())),ul(n,a,o.getNode(),e)}(a,e,n,xh(t.pendingWriteTree_,r),i,h);return c||o||(a=ml(a,e),h=h.concat(function(t,e,n){var r=e._path,i=Al(t,e),n=Cl(t,n),n=t.listenProvider_.startListening(Pl(e),i,n.hashFn,n.onComplete),r=t.syncPointTree_.subtree(r);if(i)ro(!gl(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var o=r.fold(function(t,e,n){if(!uu(t)&&e&&gl(e))return[yl(e).query];var r=[];return e&&(r=r.concat(dl(e).map(function(t){return t.query}))),is(n,function(t,e){r=r.concat(e)}),r}),a=0;a<o.length;++a){var s=o[a];t.listenProvider_.stopListening(Pl(s),Al(t,s))}return n}(t,e,a))),h}function Ml(t,e,n){var r=t.pendingWriteTree_,t=t.syncPointTree_.findOnPath(e,function(t,n){if(t=pl(n,cu(t,e)))return t});return jh(r,e,t,n,!0)}function kl(t,e){return function t(e,n,r,i){if(uu(e.path))return function t(e,n,r,i){var o=n.get(tu());null==r&&null!=o&&(r=pl(o,tu()));var a=[];return n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=Vh(i,n),n=e.operationForChild(n);n&&(a=a.concat(t(n,o,s,u)))}),a=o?a.concat(ll(o,e,i,r)):a}(e,n,r,i);var o=n.get(tu());null==r&&null!=o&&(r=pl(o,tu()));var a=[],s=eu(e.path),u=e.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=Vh(i,s),a=a.concat(t(u,c,n,s))),a=o?a.concat(ll(o,e,i,r)):a}(e,t.syncPointTree_,null,xh(t.pendingWriteTree_,tu()))}function Cl(t,e){var n=e.query,r=Al(t,n);return{hashFn:function(){return(e.viewCache_.serverCache.getNode()||sc.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Rl(t,n);return r?(n=Nl(r),r=n.path,n=n.queryId,e=cu(r,e),xl(t,r,new ih(eh(n),e))):[]}(t,n._path,r):(i=n._path,kl(t,new ih({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i)));var i=(i="Unknown Error","too_big"===(e=e)?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?i="Client doesn't have permission to access the desired data.":"unavailable"===e&&(i="The service is unavailable"),(i=new Error(e+" at "+n._path.toString()+": "+i)).code=e.toUpperCase(),i);return Tl(t,n,null,i)}}}function Al(t,e){return e=Ol(e),t.queryToTagMap.get(e)}function Ol(t){return t._path.toString()+"$"+t._queryIdentifier}function Rl(t,e){return t.tagToQueryMap.get(e)}function Nl(t){var e=t.indexOf("$");return ro(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Js(t.substr(0,e))}}function xl(t,e,n){var r=t.syncPointTree_.get(e);return ro(r,"Missing sync point for query tag that we're tracking"),ll(r,n,xh(t.pendingWriteTree_,e),null)}function Pl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?(ro(cl,"Reference.ts has not been loaded"),new cl(t._repo,t._path)):t}var Dl=(jl.prototype.getImmediateChild=function(t){return new jl(this.node_.getImmediateChild(t))},jl.prototype.node=function(){return this.node_},jl);function jl(t){this.node_=t}var Ll=(Fl.prototype.getImmediateChild=function(t){return t=su(this.path_,t),new Fl(this.syncTree_,t)},Fl.prototype.node=function(){return Ml(this.syncTree_,this.path_)},Fl);function Fl(t,e){this.syncTree_=t,this.path_=e}var Ul=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Bl=function(t,e,n){return t&&"object"==typeof t?(ro(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ql(t[".sv"],e,n):"object"==typeof t[".sv"]?Vl(t[".sv"],e):void ro(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ql=function(t,e,n){if("timestamp"===t)return n.timestamp;ro(!1,"Unexpected server value: "+t)},Vl=function(t,e,n){return t.hasOwnProperty("increment")||ro(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&ro(!1,"Unexpected increment value: "+t),e=e.node(),ro(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t},Kl=function(t,e,n,r){return Wl(e,new Ll(n,t),r)},zl=function(t,e,n){return Wl(t,new Dl(e),n)};function Wl(t,e,n){var r=t.getPriority().val(),i=Bl(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,r=Bl(o.getValue(),e,n);return r!==o.getValue()||i!==o.getPriority().val()?new Gu(r,fc(i)):t}var t=t,a=t;return i!==t.getPriority().val()&&(a=a.updatePriority(new Gu(i))),t.forEachChild(Xu,function(t,r){var i=Wl(r,e.getImmediateChild(t),n);i!==r&&(a=a.updateImmediateChild(t,i))}),a}var Hl=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t=void 0===t?"":t,this.parent=e,this.node=n};function Gl(t,e){for(var n=e instanceof Js?e:new Js(e),r=t,i=eu(n);null!==i;)var o=xo(r.node.children,i)||{children:{},childCount:0},r=new Hl(i,r,o),i=eu(n=ru(n));return r}function Ql(t){return t.node.value}function Yl(t,e){t.node.value=e,function t(e){var n,r,i,o;null!==e.parent&&(n=e.parent,r=e.name,o=function(t){return void 0===Ql(t)&&!Xl(t)}(i=e),e=No(n.node.children,r),o&&e?(delete n.node.children[r],n.node.childCount--,t(n)):o||e||(n.node.children[r]=i.node,n.node.childCount++,t(n)))}(t)}function Xl(t){return 0<t.node.childCount}function $l(t,e){is(t.node.children,function(n,r){e(new Hl(n,t,r))})}function Jl(t){return new Js(null===t.parent?t.name:Jl(t.parent)+"/"+t.name)}function Zl(t){return"string"==typeof t&&0!==t.length&&!of.test(t)}function tf(t){return"string"==typeof t&&0!==t.length&&!af.test(t)}function ef(t,e,n,r){if(!r||void 0!==e){var i=Ko(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];is(e,function(t,e){if(t=new Js(t),hf(i,e,su(n,t)),".priority"===iu(t)&&!uf(e))throw new Error(i+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(t)}),function(t,e){for(var n=0;n<e.length;n++)for(var r,i=ou(r=e[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Zl(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(hu);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&fu(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}}function nf(t,e,n){if(!n||void 0!==e){if(Fa(e))throw new Error(Ko(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uf(e))throw new Error(Ko(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function rf(t,e,n,r){if(!(r&&void 0===n||Zl(n)))throw new Error(Ko(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var of=/[\[\].#$\/\u0000-\u001F\u007F]/,af=/[\[\].#$\u0000-\u001F\u007F]/,sf=10485760,uf=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Fa(t)||t&&"object"==typeof t&&No(t,".sv")},cf=function(t,e,n,r){r&&void 0===e||hf(Ko(t,"value"),e,n)},hf=function t(e,n,r){var i=r instanceof Js?new du(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+mu(i));if("function"==typeof n)throw new Error(e+"contains a function "+mu(i)+" with contents = "+n.toString());if(Fa(n))throw new Error(e+"contains "+n.toString()+" "+mu(i));if("string"==typeof n&&n.length>sf/3&&Ho(n)>sf)throw new Error(e+"contains a string greater than "+sf+" utf8 bytes "+mu(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(is(n,function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Zl(n)))throw new Error(e+" contains an invalid key ("+n+") "+mu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;s=n,0<(n=i).parts_.length&&(n.byteLength_+=1),n.parts_.push(s),n.byteLength_+=Ho(s),pu(n),t(e,r,i),r=(n=i).parts_.pop(),n.byteLength_-=Ho(r),0<n.parts_.length&&--n.byteLength_}),o&&a)throw new Error(e+' contains ".value" child '+mu(i)+" in addition to actual children.")}},lf=function(t,e,n,r){if(!(r&&void 0===n||tf(n)))throw new Error(Ko(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ff=function(t,e,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),lf(t,e,n,r)},df=function(t,e){if(".info"===eu(e))throw new Error(t+" failed = Can't modify data under /.info/")},pf=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Zl(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!tf(n=(n=n)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Ko(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mf=function(){this.eventLists_=[],this.recursionDepth_=0};function vf(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||lu(o,n.path)||(t.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&t.eventLists_.push(n)}function gf(t,e,n){vf(t,n),bf(t,function(t){return lu(t,e)})}function yf(t,e,n){vf(t,n),bf(t,function(t){return fu(t,e)||fu(e,t)})}function bf(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(function(t){for(var e=0;e<t.events.length;e++){var n,r=t.events[e];null!==r&&(t.events[e]=null,n=r.getEventRunner(),Qa&&Xa("event: "+r.toString()),ls(n))}}(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}var wf="repo_interrupt",_f=25,Ef=(Sf.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Sf);function Sf(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gc(),this.transactionQueueTree_=new Hl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function Tf(t){return t=t.infoData_.getNode(new Js(".info/serverTimeOffset")).val()||0,(new Date).getTime()+t}function If(t){return Ul({timestamp:Tf(t)})}function Mf(t,e,n,r,i){t.dataUpdateCount++;var o=new Js(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a,s,u,c,h=[],e=o;0<(h=i?r?(a=Do(n,function(t){return fc(t)}),function(t,e,n,r){var i=Rl(t,r);return i?(r=Nl(i),i=r.path,r=r.queryId,e=cu(i,e),n=wh.fromObject(n),xl(t,i,new uh(eh(r),e,n))):[]}(t.serverSyncTree_,o,a,i)):(c=fc(n),a=t.serverSyncTree_,s=o,u=c,null==(i=Rl(a,c=i))?[]:(c=Nl(i),i=c.path,c=c.queryId,s=cu(i,s),xl(a,i,new ah(eh(c),s,u)))):r?(c=Do(n,function(t){return fc(t)}),s=t.serverSyncTree_,u=o,r=c,r=wh.fromObject(c),kl(s,new uh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,r))):(n=fc(n),Sl(t.serverSyncTree_,o,n))).length&&(e=Ff(t,o)),yf(t.eventQueue_,e,h)}function kf(t,e){Cf(t,"connected",e),!1===e&&function(t){Pf(t,"onDisconnectEvents");var e=If(t),n=Gc();Yc(t.onDisconnect_,tu(),function(r,i){i=Kl(r,i,t.serverSyncTree_,e),Qc(n,r,i)});var r=[];Yc(n,tu(),function(e,n){r=r.concat(Sl(t.serverSyncTree_,e,n)),e=Vf(t,e),Ff(t,e)}),t.onDisconnect_=Gc(),yf(t.eventQueue_,tu(),r)}(t)}function Cf(t,e,n){e=new Js("/.info/"+e),n=fc(n),t.infoData_.updateSnapshot(e,n),n=Sl(t.infoSyncTree_,e,n),yf(t.eventQueue_,e,n)}function Af(t){return t.nextWriteId_++}function Of(t,e,n,r,i){Pf(t,"set",{path:e.toString(),value:n,priority:r});var o=If(t),n=fc(n,r),r=Ml(t.serverSyncTree_,e),o=zl(n,r,o),a=Af(t),o=_l(t.serverSyncTree_,e,o,a,!0);vf(t.eventQueue_,o),t.server_.put(e.toString(),n.val(!0),function(n,r){var o="ok"===n;o||Za("set at "+e+" failed: "+n),o=El(t.serverSyncTree_,a,!o),yf(t.eventQueue_,e,o),Df(0,i,n,r)}),n=Vf(t,e),Ff(t,n),yf(t.eventQueue_,n,[])}function Rf(t,e,n,r){var i=fc(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Qc(t.onDisconnect_,e,i),Df(0,r,n,o)})}function Nf(t,e,n){n=".info"===eu(e._path)?Tl(t.infoSyncTree_,e,n):Tl(t.serverSyncTree_,e,n),gf(t.eventQueue_,e._path,n)}function xf(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wf)}function Pf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Xa.apply(void 0,Ji([r],$i(e)))}function Df(t,e,n,r){e&&ls(function(){var t,i;"ok"===n?e(null):(i=t=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=t,e(i))})}function jf(t,e,n){return Ml(t.serverSyncTree_,e,n)||sc.EMPTY_NODE}function Lf(t,e){var n;(e=void 0===e?t.transactionQueueTree_:e)||qf(t,e),Ql(e)?(n=Bf(t,e),ro(0<n.length,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=jf(t,e,r),o=i,r=i.hash(),a=0;a<n.length;a++){var s=n[a];ro(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=cu(e,s.path);o=o.updateChild(u,s.currentOutputSnapshotRaw)}var i=o.val(!0),c=e;t.server_.put(c.toString(),i,function(r){Pf(t,"transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(e){n[e].status=2,i=i.concat(El(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()}(a);for(qf(t,Gl(t.transactionQueueTree_,e)),Lf(t,t.transactionQueueTree_),yf(t.eventQueue_,e,i),a=0;a<o.length;a++)ls(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(Za("transaction at "+c.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Ff(t,e)}},r)}(t,Jl(e),n)):Xl(e)&&$l(e,function(e){Lf(t,e)})}function Ff(t,e){var n=Uf(t,e),e=Jl(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],o=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=0;a<e.length;a++)!function(a){var s,u,c,h,l=e[a],f=cu(n,l.path),d=!1;ro(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status?(s=l.abortReason,i=i.concat(El(t.serverSyncTree_,l.currentWriteId,d=!0))):0===l.status&&(i=l.retryCount>=_f?(s="maxretry",i.concat(El(t.serverSyncTree_,l.currentWriteId,d=!0))):(u=jf(t,l.path,o),l.currentInputSnapshot=u,void 0!==(h=e[a].update(u.val()))?(hf("transaction failed: Data returned ",h,l.path),c=fc(h),"object"==typeof h&&null!=h&&No(h,".priority")||(c=c.updatePriority(u.getPriority())),f=l.currentWriteId,h=If(t),h=zl(c,u,h),l.currentOutputSnapshotRaw=c,l.currentOutputSnapshotResolved=h,l.currentWriteId=Af(t),o.splice(o.indexOf(f),1),(i=i.concat(_l(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally))).concat(El(t.serverSyncTree_,f,!0))):(s="nodata",i.concat(El(t.serverSyncTree_,l.currentWriteId,d=!0))))),yf(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,d=e[a].unwatcher,setTimeout(d,Math.floor(0)),e[a].onComplete&&("nodata"===s?r.push(function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}):r.push(function(){return e[a].onComplete(new Error(s),!1,null)})))}(a);for(qf(t,t.transactionQueueTree_),a=0;a<r.length;a++)ls(r[a]);Lf(t,t.transactionQueueTree_)}}(t,Bf(t,n),e),e}function Uf(t,e){for(var n=t.transactionQueueTree_,r=eu(e);null!==r&&void 0===Ql(n);)n=Gl(n,r),r=eu(e=ru(e));return n}function Bf(t,e){var n=[];return function t(e,n,r){var i=Ql(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);$l(n,function(n){t(e,n,r)})}(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function qf(t,e){var n=Ql(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yl(e,0<n.length?n:void 0)}$l(e,function(e){qf(t,e)})}function Vf(t,e){var n=Jl(Uf(t,e)),e=Gl(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return;r=r.parent}}(e,function(e){Kf(t,e)}),Kf(t,e),function t(e,n,r,i){r&&!i&&n(e),$l(e,function(e){t(e,n,!0,i)}),r&&i&&n(e)}(e,function(e){Kf(t,e)}),n}function Kf(t,e){var n=Ql(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(ro(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=3,n[a].abortReason="set"):(ro(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(El(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?Yl(e,void 0):n.length=o+1,yf(t.eventQueue_,Jl(e),i),a=0;a<r.length;a++)ls(r[a])}}var zf=function(t,e){var n=Wf(t),r=n.namespace;return"firebase.com"===n.domain&&Ja(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Za("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new _s(n.host,n.secure,r,e,t,"",r!==n.subdomain),path:new Js(n.pathString)}},Wf=function(t){var e,n,r,i="",o="",a="",s="",u="",c=!0,h="https",l=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(h=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Xi(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Za("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===h||"wss"===h,l=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:l,domain:o,subdomain:a,secure:c,scheme:h,pathString:s,namespace:u}},Hf=(Gf.prototype.getPath=function(){var t=this.snapshot.ref;return("value"===this.eventType?t:t.parent)._path},Gf.prototype.getEventType=function(){return this.eventType},Gf.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Gf.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Oo(this.snapshot.exportVal())},Gf);function Gf(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var Qf=(Yf.prototype.getPath=function(){return this.path},Yf.prototype.getEventType=function(){return"cancel"},Yf.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Yf.prototype.toString=function(){return this.path.toString()+":cancel"},Yf);function Yf(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var Xf=($f.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},$f.prototype.onCancel=function(t){return ro(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty($f.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),$f.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},$f);function $f(t,e){this.snapshotCallback=t,this.cancelCallback=e}var Jf=(Zf.prototype.cancel=function(){var t,e,n,r=new co;return t=this._repo,e=this._path,n=r.wrapCallback(function(){}),t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&function t(e,n){if(uu(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Xu,function(t,n){Qc(e,new Js(t),n)}),t(e,n)}return!(0<e.children.size)||(r=eu(n),n=ru(n),e.children.has(r)&&t(e.children.get(r),n)&&e.children.delete(r),0===e.children.size)}(t.onDisconnect_,e),Df(0,n,r,i)}),r.promise},Zf.prototype.remove=function(){df("OnDisconnect.remove",this._path);var t=new co;return Rf(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},Zf.prototype.set=function(t){df("OnDisconnect.set",this._path),cf("OnDisconnect.set",t,this._path,!1);var e=new co;return Rf(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},Zf.prototype.setWithPriority=function(t,e){df("OnDisconnect.setWithPriority",this._path),cf("OnDisconnect.setWithPriority",t,this._path,!1),nf("OnDisconnect.setWithPriority",e,!1);var n,r,i,o,a=new co;return n=this._repo,r=this._path,t=t,e=e,i=a.wrapCallback(function(){}),o=fc(t,e),n.server_.onDisconnectPut(r.toString(),o.val(!0),function(t,e){"ok"===t&&Qc(n.onDisconnect_,r,o),Df(0,i,t,e)}),a.promise},Zf.prototype.update=function(t){df("OnDisconnect.update",this._path),ef("OnDisconnect.update",t,this._path,!1);var e=new co;return function(t,e,n,r){if(Po(n))return Xa("onDisconnect().update() called with empty data.  Don't do anything."),Df(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&is(n,function(n,r){r=fc(r),Qc(t.onDisconnect_,su(e,n),r)}),Df(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},Zf);function Zf(t,e){this._repo=t,this._path=e}var td=(Object.defineProperty(ed.prototype,"key",{get:function(){return uu(this._path)?null:iu(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(ed.prototype,"ref",{get:function(){return new ad(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(ed.prototype,"_queryIdentifier",{get:function(){var t=qc(this._queryParams),t=rs(t);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(ed.prototype,"_queryObject",{get:function(){return qc(this._queryParams)},enumerable:!1,configurable:!0}),ed.prototype.isEqual=function(t){if(!((t=Jo(t))instanceof ed))return!1;var e=this._repo===t._repo,n=lu(this._path,t._path),t=this._queryIdentifier===t._queryIdentifier;return e&&n&&t},ed.prototype.toJSON=function(){return this.toString()},ed.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},ed);function ed(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}function nd(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function rd(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ou){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ts)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==es)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Xu){if(null!=e&&!uf(e)||null!=n&&!uf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ro(t.getIndex()instanceof mc||t.getIndex()===Ec,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function id(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var od,ad=(Hi(sd,od=td),Object.defineProperty(sd.prototype,"parent",{get:function(){var t=au(this._path);return null===t?null:new sd(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(sd.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),sd);function sd(t,e){return od.call(this,t,e,new Dc,!1)||this}var ud=(Object.defineProperty(cd.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(cd.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(cd.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),cd.prototype.child=function(t){var e=new Js(t),t=fd(this.ref,t);return new cd(this._node.getChild(e),t,Xu)},cd.prototype.exists=function(){return!this._node.isEmpty()},cd.prototype.exportVal=function(){return this._node.val(!0)},cd.prototype.forEach=function(t){var e=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(n,r){return t(new cd(r,fd(e.ref,n),Xu))})},cd.prototype.hasChild=function(t){return t=new Js(t),!this._node.getChild(t).isEmpty()},cd.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},cd.prototype.toJSON=function(){return this.exportVal()},cd.prototype.val=function(){return this._node.val()},cd);function cd(t,e,n){this._node=t,this.ref=e,this._index=n}function hd(t,e){return(t=Jo(t))._checkNotDeleted("ref"),void 0!==e?fd(t._root,e):t._root}function ld(t,e){(t=Jo(t))._checkNotDeleted("refFromURL");var n=zf(e,t._repo.repoInfo_.nodeAdmin);return pf("refFromURL",n),e=n.repoInfo,t._repo.repoInfo_.isCustomHost()||e.host===t._repo.repoInfo_.host||Ja("refFromURL: Host name does not match the current database: (found "+e.host+" but expected "+t._repo.repoInfo_.host+")"),hd(t,n.path.toString())}function fd(t,e){return(null===eu((t=Jo(t))._path)?ff:lf)("child","path",e,!1),new ad(t._repo,su(t._path,e))}function dd(t,e){t=Jo(t),df("set",t._path),cf("set",e,t._path,!1);var n=new co;return Of(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function pd(t,e){ef("update",e,t._path,!1);var n=new co;return function(t,e,n,r){Pf(t,"update",{path:e.toString(),value:n});var i,o,a=!0,s=If(t),u={};is(n,function(n,r){a=!1,u[n]=Kl(su(e,n),fc(r),t.serverSyncTree_,s)}),a?(Xa("update() called with empty data.  Don't do anything."),Df(0,r,"ok",void 0)):(i=Af(t),o=function(t,e,n,r){var i,o,a;return i=t.pendingWriteTree_,o=e,a=n,ro((r=r)>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=Ih(i.visibleWrites,o,a),i.lastWriteId=r,n=wh.fromObject(n),kl(t,new uh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n))}(t.serverSyncTree_,e,u,i),vf(t.eventQueue_,o),t.server_.merge(e.toString(),n,function(n,o){var a="ok"===n;a||Za("update at "+e+" failed: "+n);var s=El(t.serverSyncTree_,i,!a),a=0<s.length?Ff(t,e):e;yf(t.eventQueue_,a,s),Df(0,r,n,o)}),is(n,function(n){n=Vf(t,su(e,n)),Ff(t,n)}),yf(t.eventQueue_,e,[]))}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function md(t){return t=Jo(t),e=t._repo,n=t,(null!=(r=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){t=cu(t,n),r=r||pl(e,t)});var i=t.syncPointTree_.get(n);i?r=r||pl(i,tu()):(i=new hl,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new hh(r,!0,!1):null;return yh(fl(i,e,xh(t.pendingWriteTree_,e._path),o?a.getNode():sc.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,n))?Promise.resolve(r):e.server_.get(n).then(function(t){var r=fc(t).withIndex(n._queryParams.getIndex()),t=Sl(e.serverSyncTree_,n._path,r);return gf(e.eventQueue_,n._path,t),Promise.resolve(r)},function(t){return Pf(e,"get for query "+Oo(n)+" failed: "+t),Promise.reject(new Error(t))})).then(function(e){return new ud(e,new ad(t._repo,t._path),t._queryParams.getIndex())});var e,n,r}var vd=(gd.prototype.respondsTo=function(t){return"value"===t},gd.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Hf("value",this,new ud(t.snapshotNode,new ad(e._repo,e._path),n))},gd.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},gd.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Qf(this,t,e):null},gd.prototype.matches=function(t){return t instanceof gd&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},gd.prototype.hasAnyCallback=function(){return null!==this.callbackContext},gd);function gd(t){this.callbackContext=t}var yd=(bd.prototype.respondsTo=function(t){return t="children_added"===t?"child_added":t,this.eventType===(t="children_removed"===t?"child_removed":t)},bd.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Qf(this,t,e):null},bd.prototype.createEvent=function(t,e){ro(null!=t.childName,"Child events should have a childName.");var n=fd(new ad(e._repo,e._path),t.childName),e=e._queryParams.getIndex();return new Hf(t.type,this,new ud(t.snapshotNode,n,e),t.prevName)},bd.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},bd.prototype.matches=function(t){return t instanceof bd&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},bd.prototype.hasAnyCallback=function(){return!!this.callbackContext},bd);function bd(t,e){this.eventType=t,this.callbackContext=e}function wd(t,e,n,r,i){var o;"object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce&&((i=function(e,n){Nf(t._repo,t,s),o(e,n)}).userCallback=(o=n).userCallback,i.context=n.context,n=i);var a,n=new Xf(n,a||void 0),s="value"===e?new vd(n):new yd(e,n);return a=t._repo,e=s,e=".info"===eu((n=t)._path)?Il(a.infoSyncTree_,n,e):Il(a.serverSyncTree_,n,e),gf(a.eventQueue_,n._path,e),function(){return Nf(t._repo,t,s)}}function _d(t,e,n,r){return wd(t,"value",e,n,r)}function Ed(t,e,n,r){return wd(t,"child_added",e,n,r)}function Sd(t,e,n,r){return wd(t,"child_changed",e,n,r)}function Td(t,e,n,r){return wd(t,"child_moved",e,n,r)}function Id(t,e,n,r){return wd(t,"child_removed",e,n,r)}function Md(t,e,n){var r=null,n=n?new Xf(n):null;"value"===e?r=new vd(n):e&&(r=new yd(e,n)),Nf(t._repo,t,r)}var kd,Cd=(Hi(Ad,kd=si=function(){}),Ad.prototype._apply=function(t){cf("endAt",this._value,t._path,!0);var e=Fc(t._queryParams,this._value,this._key);if(id(e),rd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new td(t._repo,t._path,e,t._orderByCalled)},Ad);function Ad(t,e){var n=kd.call(this)||this;return n._value=t,n._key=e,n}var Od,Rd=(Hi(Nd,Od=si),Nd.prototype._apply=function(t){cf("endBefore",this._value,t._path,!1);var e,n,r=(e=t._queryParams,n=this._value,r=this._key,(r=e.index_===Ou?Fc(e,n="string"==typeof n?bc(n):n,r):Fc(e,n,null==r?ts:bc(r))).endBeforeSet_=!0,r);if(id(r),rd(r),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new td(t._repo,t._path,r,t._orderByCalled)},Nd);function Nd(t,e){var n=Od.call(this)||this;return n._value=t,n._key=e,n}var xd,Pd=(Hi(Dd,xd=si),Dd.prototype._apply=function(t){cf("startAt",this._value,t._path,!0);var e=Lc(t._queryParams,this._value,this._key);if(id(e),rd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new td(t._repo,t._path,e,t._orderByCalled)},Dd);function Dd(t,e){var n=xd.call(this)||this;return n._value=t,n._key=e,n}var jd,Ld=(Hi(Fd,jd=si),Fd.prototype._apply=function(t){cf("startAfter",this._value,t._path,!1);var e,n,r=(e=t._queryParams,n=this._value,r=this._key,(r=e.index_===Ou?Lc(e,n="string"==typeof n?yc(n):n,r):Lc(e,n,null==r?es:yc(r))).startAfterSet_=!0,r);if(id(r),rd(r),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new td(t._repo,t._path,r,t._orderByCalled)},Fd);function Fd(t,e){var n=jd.call(this)||this;return n._value=t,n._key=e,n}var Ud,Bd=(Hi(qd,Ud=si),qd.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new td(t._repo,t._path,(e=t._queryParams,n=this._limit,(e=e.copy()).limitSet_=!0,e.limit_=n,e.viewFrom_="l",e),t._orderByCalled);var e,n},qd);function qd(t){var e=Ud.call(this)||this;return e._limit=t,e}var Vd,Kd=(Hi(zd,Vd=si),zd.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new td(t._repo,t._path,(e=t._queryParams,n=this._limit,(e=e.copy()).limitSet_=!0,e.limit_=n,e.viewFrom_="r",e),t._orderByCalled);var e,n},zd);function zd(t){var e=Vd.call(this)||this;return e._limit=t,e}var Wd,Hd=(Hi(Gd,Wd=si),Gd.prototype._apply=function(t){nd(t,"orderByChild");var e=new Js(this._path);if(uu(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return e=new mc(e),rd(e=Uc(t._queryParams,e)),new td(t._repo,t._path,e,!0)},Gd);function Gd(t){var e=Wd.call(this)||this;return e._path=t,e}var Qd,Yd=(Hi(Xd,Qd=si),Xd.prototype._apply=function(t){nd(t,"orderByKey");var e=Uc(t._queryParams,Ou);return rd(e),new td(t._repo,t._path,e,!0)},Xd);function Xd(){return null!==Qd&&Qd.apply(this,arguments)||this}var $d,Jd=(Hi(Zd,$d=si),Zd.prototype._apply=function(t){nd(t,"orderByPriority");var e=Uc(t._queryParams,Xu);return rd(e),new td(t._repo,t._path,e,!0)},Zd);function Zd(){return null!==$d&&$d.apply(this,arguments)||this}var tp,ep=(Hi(np,tp=si),np.prototype._apply=function(t){nd(t,"orderByValue");var e=Uc(t._queryParams,Ec);return rd(e),new td(t._repo,t._path,e,!0)},np);function np(){return null!==tp&&tp.apply(this,arguments)||this}var rp,ip,op,ap=(Hi(sp,rp=si),sp.prototype._apply=function(t){if(cf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Cd(this._value,this._key)._apply(new Pd(this._value,this._key)._apply(t))},sp);function sp(t,e){var n=rp.call(this)||this;return n._value=t,n._key=e,n}function up(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Jo(t);try{for(var a=Xi(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}ip=ad,ro(!nl,"__referenceConstructor has already been defined"),nl=ip,op=ad,ro(!cl,"__referenceConstructor has already been defined"),cl=op;var cp="FIREBASE_DATABASE_EMULATOR_HOST",hp={},lp=!1;function fp(t,e,r,i,o){var a=i||t.options.databaseURL;void 0===a&&(t.options.projectId||Ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xa("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=zf(a,o),c=u.repoInfo,i=void 0;return(i="undefined"!=typeof n?Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"})[cp]:i)?(s=!0,a="http://"+i+"?ns="+c.namespace,c=(u=zf(a,o)).repoInfo):s=!u.repoInfo.secure,e=o&&s?new vs(vs.OWNER):new ps(t.name,t.options,e),pf("Invalid Firebase Database URL",u),uu(u.path)||Ja("Database URL must point to the root of a Firebase Database (not including a child path)."),r=function(t,e,n,r){var i=hp[e.name];return i||(i={},hp[e.name]=i),(e=i[t.toURLString()])&&Ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),e=new Ef(t,lp,n,r),i[t.toURLString()]=e}(c,t,e,new fs(t.name,r)),new dp(r,t)}var dp=(Object.defineProperty(pp.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Cs(t.repoInfo_),t.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))t.server_=new Kc(t.repoInfo_,function(e,n,r,i){Mf(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return kf(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oo(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}t.persistentConnection_=new Eu(t.repoInfo_,e,function(e,n,r,i){Mf(t,e,n,r,i)},function(e){kf(t,e)},function(e){var n;n=t,is(e,function(t,e){Cf(n,t,e)})},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(e=t.repoInfo_,n=function(){return new Zc(t.stats_,t.server_)},e=e.toString(),ks[e]||(ks[e]=n()),ks[e]),t.infoData_=new Wc,t.infoSyncTree_=new wl({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Sl(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Cf(t,"connected",!1),t.serverSyncTree_=new wl({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){r=i(n,r),yf(t.eventQueue_,e._path,r)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(pp.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ad(this._repo,tu())),this._rootInternal},enumerable:!1,configurable:!0}),pp.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,e=this.app.name,(n=hp[e])&&n[t.key]===t||Ja("Database "+e+"("+t.repoInfo_+") has already been deleted."),xf(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},pp.prototype._checkNotDeleted=function(t){null===this._rootInternal&&Ja("Cannot call "+t+" on a deleted database.")},pp);function pp(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}var mp=(vp.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},vp);function vp(t,e){this.committed=t,this.snapshot=e}var gp=(yp.prototype.cancel=function(t){Vo("OnDisconnect.cancel",0,1,arguments.length),zo("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},yp.prototype.remove=function(t){Vo("OnDisconnect.remove",0,1,arguments.length),zo("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},yp.prototype.set=function(t,e){return Vo("OnDisconnect.set",1,2,arguments.length),zo("OnDisconnect.set","onComplete",e,!0),t=this._delegate.set(t),e&&t.then(function(){return e(null)},function(t){return e(t)}),t},yp.prototype.setWithPriority=function(t,e,n){return Vo("OnDisconnect.setWithPriority",2,3,arguments.length),zo("OnDisconnect.setWithPriority","onComplete",n,!0),e=this._delegate.setWithPriority(t,e),n&&e.then(function(){return n(null)},function(t){return n(t)}),e},yp.prototype.update=function(t,e){if(Vo("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Za("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zo("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},yp);function yp(t){this._delegate=t}var bp=(wp.prototype.toJSON=function(){return Vo("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},wp);function wp(t,e){this.committed=t,this.snapshot=e}var _p=(Ep.prototype.val=function(){return Vo("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},Ep.prototype.exportVal=function(){return Vo("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},Ep.prototype.toJSON=function(){return Vo("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},Ep.prototype.exists=function(){return Vo("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},Ep.prototype.child=function(t){return Vo("DataSnapshot.child",0,1,arguments.length),t=String(t),lf("DataSnapshot.child","path",t,!1),new Ep(this._database,this._delegate.child(t))},Ep.prototype.hasChild=function(t){return Vo("DataSnapshot.hasChild",1,1,arguments.length),lf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},Ep.prototype.getPriority=function(){return Vo("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},Ep.prototype.forEach=function(t){var e=this;return Vo("DataSnapshot.forEach",1,1,arguments.length),zo("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(n){return t(new Ep(e._database,n))})},Ep.prototype.hasChildren=function(){return Vo("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(Ep.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),Ep.prototype.numChildren=function(){return Vo("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},Ep.prototype.getRef=function(){return Vo("DataSnapshot.ref",0,0,arguments.length),new Mp(this._database,this._delegate.ref)},Object.defineProperty(Ep.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Ep);function Ep(t,e){this._database=t,this._delegate=e}var Sp=(Tp.prototype.on=function(t,e,n,r){var i=this;function o(t,n){e.call(a.context,new _p(i.database,t),n)}Vo("Query.on",2,4,arguments.length),zo("Query.on","callback",e,!1);var a=Tp.getCancelAndContextArgs_("Query.on",n,r);o.userCallback=e,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(t){case"value":return _d(this._delegate,o,s),e;case"child_added":return Ed(this._delegate,o,s),e;case"child_removed":return Id(this._delegate,o,s),e;case"child_changed":return Sd(this._delegate,o,s),e;case"child_moved":return Td(this._delegate,o,s),e;default:throw new Error(Ko("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tp.prototype.off=function(t,e,n){var r;Vo("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ko("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),zo("Query.off","callback",e,!0),Wo("Query.off","context",n,!0),e?((r=function(){}).userCallback=e,r.context=n,Md(this._delegate,t,r)):Md(this._delegate,t)},Tp.prototype.get=function(){var t=this;return md(this._delegate).then(function(e){return new _p(t.database,e)})},Tp.prototype.once=function(t,e,n,r){var i=this;function o(t,n){t=new _p(i.database,t),e&&e.call(a.context,t,n),s.resolve(t)}Vo("Query.once",1,4,arguments.length),zo("Query.once","callback",e,!0);var a=Tp.getCancelAndContextArgs_("Query.once",n,r),s=new co;function u(t){a.cancel&&a.cancel.call(a.context,t),s.reject(t)}switch(o.userCallback=e,o.context=a.context,t){case"value":_d(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":Ed(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":Id(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":Sd(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":Td(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(Ko("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},Tp.prototype.limitToFirst=function(t){return Vo("Query.limitToFirst",1,1,arguments.length),new Tp(this.database,up(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bd(t)}(t)))},Tp.prototype.limitToLast=function(t){return Vo("Query.limitToLast",1,1,arguments.length),new Tp(this.database,up(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kd(t)}(t)))},Tp.prototype.orderByChild=function(t){return Vo("Query.orderByChild",1,1,arguments.length),new Tp(this.database,up(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lf("orderByChild","path",t,!1),new Hd(t)}(t)))},Tp.prototype.orderByKey=function(){return Vo("Query.orderByKey",0,0,arguments.length),new Tp(this.database,up(this._delegate,new Yd))},Tp.prototype.orderByPriority=function(){return Vo("Query.orderByPriority",0,0,arguments.length),new Tp(this.database,up(this._delegate,new Jd))},Tp.prototype.orderByValue=function(){return Vo("Query.orderByValue",0,0,arguments.length),new Tp(this.database,up(this._delegate,new ep))},Tp.prototype.startAt=function(t,e){return void 0===t&&(t=null),Vo("Query.startAt",0,2,arguments.length),new Tp(this.database,up(this._delegate,(void 0===(t=t)&&(t=null),rf("startAt","key",e=e,!0),new Pd(t,e))))},Tp.prototype.startAfter=function(t,e){return void 0===t&&(t=null),Vo("Query.startAfter",0,2,arguments.length),new Tp(this.database,up(this._delegate,(t=t,rf("startAfter","key",e=e,!0),new Ld(t,e))))},Tp.prototype.endAt=function(t,e){return void 0===t&&(t=null),Vo("Query.endAt",0,2,arguments.length),new Tp(this.database,up(this._delegate,(t=t,rf("endAt","key",e=e,!0),new Cd(t,e))))},Tp.prototype.endBefore=function(t,e){return void 0===t&&(t=null),Vo("Query.endBefore",0,2,arguments.length),new Tp(this.database,up(this._delegate,(t=t,rf("endBefore","key",e=e,!0),new Rd(t,e))))},Tp.prototype.equalTo=function(t,e){return Vo("Query.equalTo",1,2,arguments.length),new Tp(this.database,up(this._delegate,(t=t,rf("equalTo","key",e=e,!0),new ap(t,e))))},Tp.prototype.toString=function(){return Vo("Query.toString",0,0,arguments.length),this._delegate.toString()},Tp.prototype.toJSON=function(){return Vo("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},Tp.prototype.isEqual=function(t){if(Vo("Query.isEqual",1,1,arguments.length),t instanceof Tp)return this._delegate.isEqual(t._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},Tp.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,zo(t,"cancel",r.cancel,!0),r.context=n,Wo(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Ko(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(Tp.prototype,"ref",{get:function(){return new Mp(this.database,new ad(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Tp);function Tp(t,e){this.database=t,this._delegate=e}var Ip,Mp=(Hi(kp,Ip=Sp),kp.prototype.getKey=function(){return Vo("Reference.key",0,0,arguments.length),this._delegate.key},kp.prototype.child=function(t){return Vo("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new kp(this.database,fd(this._delegate,t))},kp.prototype.getParent=function(){Vo("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new kp(this.database,t):null},kp.prototype.getRoot=function(){return Vo("Reference.root",0,0,arguments.length),new kp(this.database,this._delegate.root)},kp.prototype.set=function(t,e){return Vo("Reference.set",1,2,arguments.length),zo("Reference.set","onComplete",e,!0),t=dd(this._delegate,t),e&&t.then(function(){return e(null)},function(t){return e(t)}),t},kp.prototype.update=function(t,e){if(Vo("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Za("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}df("Reference.update",this._delegate._path),zo("Reference.update","onComplete",e,!0);var i=pd(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},kp.prototype.setWithPriority=function(t,e,n){return Vo("Reference.setWithPriority",2,3,arguments.length),zo("Reference.setWithPriority","onComplete",n,!0),e=function(t,e,n){if(df("setWithPriority",t._path),cf("setWithPriority",e,t._path,!1),nf("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new co;return Of(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}(this._delegate,t,e),n&&e.then(function(){return n(null)},function(t){return n(t)}),e},kp.prototype.remove=function(t){Vo("Reference.remove",0,1,arguments.length),zo("Reference.remove","onComplete",t,!0);var e=(e=this._delegate,df("remove",e._path),dd(e,null));return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},kp.prototype.transaction=function(t,e,n){var r=this;return Vo("Reference.transaction",1,3,arguments.length),zo("Reference.transaction","transactionUpdate",t,!1),zo("Reference.transaction","onComplete",e,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Ko("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=function(t,e,n){if(t=Jo(t),df("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,r=new co,i=_d(t,function(){});return function(t,e,n,r,i,o){Pf(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:Ha(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},n=jf(t,e,void 0);a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):(hf("transaction failed: Data returned ",r,a.path),a.status=0,(i=Ql(o=Gl(t.transactionQueueTree_,e))||[]).push(a),Yl(o,i),o=void 0,"object"==typeof r&&null!==r&&No(r,".priority")?(o=xo(r,".priority"),ro(uf(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(Ml(t.serverSyncTree_,e)||sc.EMPTY_NODE).getPriority().val(),i=If(t),o=fc(r,o),i=zl(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=Af(t),a=_l(t.serverSyncTree_,e,i,a.currentWriteId,a.applyLocally),yf(t.eventQueue_,e,a),Lf(t,t.transactionQueueTree_))}(t._repo,t._path,e,function(e,n,i){var o;e?r.reject(e):(o=new ud(i,new ad(t._repo,t._path),Xu),r.resolve(new mp(n,o)))},i,n),r.promise}(this._delegate,t,{applyLocally:n}).then(function(t){return new bp(t.committed,new _p(r.database,t.snapshot))}),e&&n.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),n},kp.prototype.setPriority=function(t,e){return Vo("Reference.setPriority",1,2,arguments.length),zo("Reference.setPriority","onComplete",e,!0),t=function(t,e){t=Jo(t),df("setPriority",t._path),nf("setPriority",e,!1);var n=new co;return Of(t._repo,su(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}(this._delegate,t),e&&t.then(function(){return e(null)},function(t){return e(t)}),t},kp.prototype.push=function(t,e){var n=this;Vo("Reference.push",0,2,arguments.length),zo("Reference.push","onComplete",e,!0);var r=function(t,e){t=Jo(t),df("push",t._path),cf("push",e,t._path,!0);var n=Tf(t._repo),r=Tc(n),n=fd(t,r),i=fd(t,r),e=null!=e?dd(i,e).then(function(){return i}):Promise.resolve(i);return n.then=e.then.bind(e),n.catch=e.then.bind(e,void 0),n}(this._delegate,t),t=r.then(function(t){return new kp(n.database,t)});return e&&t.then(function(){return e(null)},function(t){return e(t)}),(r=new kp(this.database,r)).then=t.then.bind(t),r.catch=t.catch.bind(t,void 0),r},kp.prototype.onDisconnect=function(){return df("Reference.onDisconnect",this._delegate._path),new gp(new Jf(this._delegate._repo,this._delegate._path))},Object.defineProperty(kp.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(kp.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(kp.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),kp);function kp(t,e){var n=Ip.call(this,t,new td(e._repo,e._path,new Dc,!1))||this;return n.database=t,n._delegate=e,n}var Cp=(Ap.prototype.useEmulator=function(t,e,n){!function(t,e,n,r){void 0===r&&(r={}),(t=Jo(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ja("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;i.repoInfo_.nodeAdmin?(r.mockUserToken&&Ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vs(vs.OWNER)):r.mockUserToken&&(t="string"==typeof r.mockUserToken?r.mockUserToken:lo(r.mockUserToken,t.app.options.projectId),o=new vs(t)),o=o,(i=i).repoInfo_=new _s(e+":"+n,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(this._delegate,t,e,n=void 0===n?{}:n)},Ap.prototype.ref=function(t){if(Vo("database.ref",0,1,arguments.length),t instanceof Mp){var e=ld(this._delegate,t.toString());return new Mp(this,e)}return e=hd(this._delegate,t),new Mp(this,e)},Ap.prototype.refFromURL=function(t){return Vo("database.refFromURL",1,1,arguments.length),t=ld(this._delegate,t),new Mp(this,t)},Ap.prototype.goOffline=function(){var t;Vo("database.goOffline",0,0,arguments.length),(t=Jo(t=this._delegate))._checkNotDeleted("goOffline"),xf(t._repo)},Ap.prototype.goOnline=function(){return Vo("database.goOnline",0,0,arguments.length),(t=Jo(t=this._delegate))._checkNotDeleted("goOnline"),void((t=t._repo).persistentConnection_&&t.persistentConnection_.resume(wf));var t},Ap.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},Ap);function Ap(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var Op=Object.freeze({__proto__:null,forceLongPolling:function(){Fs.forceDisallow(),xs.forceAllow()},forceWebSockets:function(){xs.forceDisallow()},isWebSocketsAvailable:function(){return Fs.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){var n;t=t._delegate._repo,void 0===(e=e)&&(e=!1),"undefined"!=typeof console&&(t=e?(t.statsListener_||(t.statsListener_=new Xc(t.stats_)),t.statsListener_.get()):t.stats_.get(),n=Object.keys(t).reduce(function(t,e){return Math.max(e.length,t)},0),is(t,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))},statsIncrementCounter:function(t,e){t=t._delegate._repo,e=e,t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){t._delegate._repo.interceptServerDataCallback_=e},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,t=void 0!==(t=t.nodeAdmin)&&t;return Oa(r),(r=new na("auth-internal",new ia("database-standalone"))).setComponent(new Zo("auth-internal",function(){return i},"PRIVATE")),{instance:new Cp(fp(e,r,void 0,n,t),e),namespace:o}}}),H=Eu;Eu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Eu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Rp,Np=Object.freeze({__proto__:null,DataConnection:H,RealTimeConnection:Vs,hijackHash:function(t){var e=Eu.prototype.put;return Eu.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Eu.prototype.put=e}},ConnectionTarget:_s,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){lp=t}}),xp=Cp.ServerValue;Oa((Rp=Ca).SDK_VERSION),Rp.INTERNAL.registerComponent(new Zo("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal"),t=t.getProvider("app-check-internal");return new Cp(fp(r,e,t,n),r)},"PUBLIC").setServiceProps({Reference:Mp,Query:Sp,Database:Cp,DataSnapshot:_p,enableLogging:ja,INTERNAL:Op,ServerValue:xp,TEST_ACCESS:Np}).setMultipleInstances(!0)),Rp.registerVersion("@firebase/database","0.11.0");var Pp=function(t,e){return(Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Dp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},jp={},Lp=G||self;function Fp(){}function Up(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qp="closure_uid_"+(1e9*Math.random()>>>0),Vp=0;function Kp(t,e,n){return t.call.apply(t.bind,arguments)}function zp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Wp(t,e,n){return(Wp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kp:zp).apply(null,arguments)}function Hp(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function Gp(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,(t.prototype.constructor=t).Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qp(){this.s=this.s,this.o=this.o}var Yp={};Qp.prototype.s=!1,Qp.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,t=Object.prototype.hasOwnProperty.call(t,qp)&&t[qp]||(t[qp]=++Vp),delete Yp[t])},Qp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$p=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Jp(){return Array.prototype.concat.apply([],arguments)}function Zp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tm(t){return/^[\s\xa0]*$/.test(t)}var em,nm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rm(t,e){return-1!=t.indexOf(e)}function im(t,e){return t<e?-1:e<t?1:0}var om=Lp.navigator;function am(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sm(t){var e,n={};for(e in t)n[e]=t[e];return n}em=om&&(om=om.userAgent)?om:"";var um="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cm(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<um.length;i++)e=um[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function hm(t){return hm[" "](t),t}hm[" "]=Fp;var lm,fm=rm(em,"Opera"),dm=rm(em,"Trident")||rm(em,"MSIE"),pm=rm(em,"Edge"),mm=pm||dm,vm=rm(em,"Gecko")&&!(rm(em.toLowerCase(),"webkit")&&!rm(em,"Edge"))&&!(rm(em,"Trident")||rm(em,"MSIE"))&&!rm(em,"Edge"),gm=rm(em.toLowerCase(),"webkit")&&!rm(em,"Edge");function ym(){var t=Lp.document;return t?t.documentMode:void 0}var bm="",wm=(wm=em,vm?/rv:([^\);]+)(\)|;)/.exec(wm):pm?/Edge\/([\d\.]+)/.exec(wm):dm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(wm):gm?/WebKit\/(\S+)/.exec(wm):fm?/(?:Version)[ \/]?(\S+)/.exec(wm):void 0);wm&&(bm=wm?wm[1]:""),lm=dm&&null!=(wm=ym())&&wm>parseFloat(bm)?String(wm):bm;var _m={},Em=Lp.document&&dm&&(ym()||parseInt(lm,10))||void 0,Sm=function(){if(!Lp.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lp.addEventListener("test",Fp,e),Lp.removeEventListener("test",Fp,e)}catch(t){}return t}();function Tm(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Im(t,e){if(Tm.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vm){t:{try{hm(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Mm[t.pointerType]||"",this.state=t.state,(this.i=t).defaultPrevented&&Im.Z.h.call(this)}}Tm.prototype.h=function(){this.defaultPrevented=!0},Gp(Im,Tm);var Mm={2:"touch",3:"pen",4:"mouse"};Im.prototype.h=function(){Im.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var km="closure_listenable_"+(1e6*Math.random()|0),Cm=0;function Am(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cm,this.ca=this.fa=!1}function Om(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Rm(t){this.src=t,this.g={},this.h=0}function Nm(t,e){var n,r,i,o=e.type;o in t.g&&(n=t.g[o],(i=0<=(r=Xp(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Om(e),0==t.g[o].length&&(delete t.g[o],t.h--)))}function xm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Rm.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=xm(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Am(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Pm="closure_lm_"+(1e6*Math.random()|0),Dm={};function jm(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Km(r),e&&e[km]?e.O(n,r,Bp(i)?!!i.capture:!!i,o):Lm(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jm(t,e[o],n,r,i);return null}return n=Km(n),t&&t[km]?t.N(e,n,Bp(r)?!!r.capture:!!r,i):Lm(t,e,n,!1,r,i)}function Lm(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s=Bp(i)?!!i.capture:!!i,u=qm(t);if(u||(t[Pm]=u=new Rm(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(a=Bm,(n.proxy=r=function t(e){return a.call(t.src,t.listener,e)}).src=t,r.listener=n,t.addEventListener)void 0===(i=Sm?i:s)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Um(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Fm(t){var e,n,r;"number"!=typeof t&&t&&!t.ca&&((e=t.src)&&e[km]?Nm(e.i,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Um(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qm(e))?(Nm(n,t),0==n.h&&(n.src=null,e[Pm]=null)):Om(t)))}function Um(t){return t in Dm?Dm[t]:Dm[t]="on"+t}function Bm(t,e){var n,r;return t=!!t.ca||(e=new Im(e,this),n=t.listener,r=t.ia||t.src,t.fa&&Fm(t),n.call(r,e))}function qm(t){return(t=t[Pm])instanceof Rm?t:null}var Vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(t){return"function"==typeof t?t:(t[Vm]||(t[Vm]=function(e){return t.handleEvent(e)}),t[Vm])}function zm(){Qp.call(this),this.i=new Rm(this),(this.P=this).I=null}function Wm(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e?e=new Tm(e,t):e instanceof Tm?e.target=e.target||t:(a=e,cm(e=new Tm(r,t),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.g=n[i],a=Hm(o,r,!0,e)&&a;if(a=Hm(o=e.g=t,r,!0,e)&&a,a=Hm(o,r,!1,e)&&a,n)for(i=0;i<n.length;i++)a=Hm(o=e.g=n[i],r,!1,e)&&a}function Hm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.ca&&u.capture==n&&(a=u.listener,s=u.ia||u.src,u.fa&&Nm(t.i,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}Gp(zm,Qp),zm.prototype[km]=!0,zm.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Bp(i)?!!i.capture:!!i,r=Km(r),e&&e[km]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=xm(a=e.g[n],r,i,o))&&(Om(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):(e=e&&qm(e))&&(n=e.g[n.toString()],(r=(e=-1)<(e=n?xm(n,r,i,o):e)?n[e]:null)&&Fm(r))}(this,t,e,n,r)},zm.prototype.M=function(){if(zm.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Om(n[r]);delete e.g[t],e.h--}}this.I=null},zm.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},zm.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Gm=Lp.JSON.stringify;function Qm(){this.h=this.g=null}Qm.prototype.add=function(t,e){var n=Ym.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},Ws=Qm;var Ym=(Xm.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},new Xm(function(){return new Jm},function(t){return t.reset()}));function Xm(t,e){this.i=t,this.j=e,this.h=0,this.g=null}var $m,Jm=(Zm.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},Zm.prototype.reset=function(){this.next=this.g=this.h=null},Zm);function Zm(){this.next=this.g=this.h=null}function tv(t,e){var n;$m||(n=Lp.Promise.resolve(void 0),$m=function(){n.then(rv)}),ev||($m(),ev=!0),nv.add(t,e)}var ev=!1,nv=new Ws;function rv(){for(var t;e=t=void 0,e=null,(t=nv).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(t){!function(t){Lp.setTimeout(function(){throw t},0)}(t)}var e=Ym;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}ev=!1}function iv(t,e){zm.call(this),this.h=t||1,this.g=e||Lp,this.j=Wp(this.kb,this),this.l=Date.now()}function ov(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function av(t,e,n){if("function"==typeof t)n&&(t=Wp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wp(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lp.setTimeout(t,e||0)}Gp(iv,zm),(si=iv.prototype).da=!1,si.S=null,si.kb=function(){var t;this.da&&(0<(t=Date.now()-this.l)&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wm(this,"tick"),this.da&&(ov(this),this.start())))},si.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},si.M=function(){iv.Z.M.call(this),ov(this),delete this.g};var sv,uv=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Pp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(cv,sv=Qp),cv.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=av(function(){e.g=null,e.i&&(e.i=!1,t(e))},e.j);var n=e.h;e.h=null,e.m.apply(null,n)}(this)},cv.prototype.M=function(){sv.prototype.M.call(this),this.g&&(Lp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},cv);function cv(t,e){var n=sv.call(this)||this;return n.m=t,n.j=e,n.h=null,n.i=!1,n.g=null,n}function hv(t){Qp.call(this),this.h=t,this.g={}}Gp(hv,Qp);var lv=[];function fv(t,e,n,r){Array.isArray(n)||(n&&(lv[0]=n.toString()),n=lv);for(var i=0;i<n.length;i++){var o=jm(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function dv(t){am(t.g,function(t,e){this.g.hasOwnProperty(e)&&Fm(t)},t),t.g={}}function pv(){this.g=!0}function mv(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Gm(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}hv.prototype.M=function(){hv.Z.M.call(this),dv(this)},hv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pv.prototype.Aa=function(){this.g=!1},pv.prototype.info=function(){};var vv={},gv=null;function yv(){return gv=gv||new zm}function bv(t){Tm.call(this,vv.Ma,t)}function wv(){var t=yv();Wm(t,new bv(t))}function _v(t,e){Tm.call(this,vv.STAT_EVENT,t),this.stat=e}function Ev(t){var e=yv();Wm(e,new _v(e,t))}function Sv(t,e){Tm.call(this,vv.Na,t),this.size=e}function Tv(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Lp.setTimeout(function(){t()},e)}function Iv(){}function Mv(t){return t.h||(t.h=t.i())}function kv(){}function Cv(){Tm.call(this,"d")}function Av(){Tm.call(this,"c")}function Ov(){}function Rv(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new hv(this),this.P=Pv,this.W=new iv(t=mm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nv}function Nv(){this.i=null,this.g="",this.h=!1}vv.Ma="serverreachability",Gp(bv,Tm),vv.STAT_EVENT="statevent",Gp(_v,Tm),vv.Na="timingevent",Gp(Sv,Tm),H={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},G={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"},Iv.prototype.h=null,Ws={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},Gp(Cv,Tm),Gp(Av,Tm),Gp(Ov,Iv),Ov.prototype.g=function(){return new XMLHttpRequest},Ov.prototype.i=function(){return{}};var xv=new Ov,Pv=45e3,Dv={},jv={};function Lv(t,e,n){t.K=1,t.v=og(Zv(e)),t.s=n,t.U=!0,Fv(t,null)}function Fv(t,e){t.F=Date.now(),qv(t),t.A=Zv(t.v);var n,r,i,o,a,s,u=t.A,c=t.X;Array.isArray(c)||(c=[String(c)]),yg(u.h,"t",c),t.C=0,u=t.l.H,t.h=new Nv,t.g=by(t.l,u?e:null,!t.s),0<t.O&&(t.L=new uv(Wp(t.Ia,t,t.g),t.O)),fv(t.V,t.g,"readystatechange",t.gb),e=t.H?sm(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wv(),n=t.j,r=t.u,i=t.A,o=t.m,a=t.X,s=t.s,n.info(function(){if(n.g)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,h,l=e[u].split("=");1<l.length&&(c=l[0],l=l[1],t=2<=(h=c.split("_")).length&&"type"==h[1]?t+(c+"=")+l+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t})}function Uv(t){return t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Bv(t,e,n){for(var r,i,o,a,s,u=!0;!t.I&&t.C<n.length;){if(o=n,s=a=void 0,a=(i=t).C,(r=-1==(s=o.indexOf("\n",a))?jv:(a=Number(o.substring(a,s)),isNaN(a)?Dv:(s+=1)+a>o.length?jv:(o=o.substr(s,a),i.C=s+a,o)))==jv){4==e&&(t.o=4,Ev(14),u=!1),mv(t.j,t.m,null,"[Incomplete Response]");break}if(r==Dv){t.o=4,Ev(15),mv(t.j,t.m,n,"[Invalid Chunk]"),u=!1;break}mv(t.j,t.m,r,null),Hv(t,r)}Uv(t)&&r!=jv&&r!=Dv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ev(16),u=!1),t.i=t.i&&u,u?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ly(e),e.L=!0,Ev(11))):(mv(t.j,t.m,n,"[Invalid Chunked Response]"),Wv(t),zv(t))}function qv(t){t.Y=Date.now()+t.P,Vv(t,t.P)}function Vv(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Tv(Wp(t.eb,t),e)}function Kv(t){t.B&&(Lp.clearTimeout(t.B),t.B=null)}function zv(t){0==t.l.G||t.I||py(t.l,t)}function Wv(t){Kv(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ov(t.W),dv(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Hv(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Mg(n.i,t)))if(n.I=t.N,!t.J&&Mg(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;dy(n),ny(n)}hy(n),Ev(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=Tv(Wp(n.ab,n),6e3));if(Ig(n.i)<=1&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else vy(n,11)}else if(!t.J&&n.g!=t||dy(n),!tm(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o,a,s,u,c,h,l,f,d,p,m=i[e];n.U=m[0],m=m[1],2==n.G?"c"==m[0]?(n.J=m[1],n.la=m[2],null!=(o=m[3])&&(n.ma=o,n.h.info("VER="+n.ma)),null!=(a=m[4])&&(n.za=a,n.h.info("SVER="+n.za)),null!=(s=m[5])&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n,(u=t.g)&&(!(c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(h=r.i).g&&(rm(c,"spdy")||rm(c,"quic")||rm(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(kg(h,h.h),h.h=null)),!r.D||(l=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=l,ig(r.F,r.D,l))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),f=t,(r=n).oa=yy(r,r.H?r.la:null,r.W),f.J?(Cg(r.i,f),d=f,(p=r.K)&&d.setTimeout(p),d.B&&(Kv(d),qv(d)),r.g=f):cy(r),0<n.l.length&&oy(n)):"stop"!=m[0]&&"close"!=m[0]||vy(n,7):3==n.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?vy(n,7):ey(n):"noop"!=m[0]&&n.j&&n.j.wa(m),n.A=0)}wv()}catch(m){}}function Gv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Up(t)||"string"==typeof t)$p(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Up(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Up(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qv(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qv)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Yv(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Xv(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){for(var i={},n=e=0;e<t.g.length;)Xv(i,r=t.g[e])||(i[t.g[n++]=r]=1),e++;t.g.length=n}}function Xv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(si=Rv.prototype).setTimeout=function(t){this.P=t},si.gb=function(t){t=t.target;var e=this.L;e&&3==Xg(t)?e.l():this.Ia(t)},si.Ia=function(t){try{if(t==this.g)t:{var e=Xg(this.g),n=this.g.Da();if(this.g.ba(),!(e<3)&&(3!=e||mm||this.g&&(this.h.h||this.g.ga()||$g(this.g)))){this.I||4!=e||7==n||wv(),Kv(this);var r=this.g.ba();this.N=r;e:if(Uv(this)){var i=$g(this.g);t="";var o=i.length,a=4==Xg(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wv(this),zv(this);var s="";break e}this.h.i=new Lp.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,l=this.j,f=this.u,d=this.A,p=this.m,m=this.X,v=e,g=r,l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+m+"]: "+f+"\n"+d+"\n"+v+" "+g}),this.i){if(this.$&&!this.J){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(u)){var h=u;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,Ev(12),Wv(this),zv(this);break t}mv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hv(this,r)}this.U?(Bv(this,e,s),mm&&this.i&&3==e&&(fv(this.V,this.W,"tick",this.fb),this.W.start())):(mv(this.j,this.m,s,null),Hv(this,s)),4==e&&Wv(this),this.i&&!this.I&&(4==e?py(this.l,this):(this.i=!1,qv(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ev(12)):(this.o=0,Ev(13)),Wv(this),zv(this)}}}catch(e){}var l,f,d,p,m,v,g},si.fb=function(){var t,e;this.g&&(t=Xg(this.g),e=this.g.ga(),this.C<e.length&&(Kv(this),Bv(this,t,e),this.i&&4!=t&&qv(this)))},si.cancel=function(){this.I=!0,Wv(this)},si.eb=function(){this.B=null;var t,e,n=Date.now();0<=n-this.Y?(t=this.j,e=this.A,t.info(function(){return"TIMEOUT: "+e}),2!=this.K&&(wv(),Ev(17)),Wv(this),this.o=2,zv(this)):Vv(this,this.Y-n)},(si=Qv.prototype).R=function(){Yv(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},si.T=function(){return Yv(this),this.g.concat()},si.get=function(t,e){return Xv(this.h,t)?this.h[t]:e},si.set=function(t,e){Xv(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},si.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $v=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jv(t,e){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Jv?(this.g=void 0!==e?e:t.g,tg(this,t.j),this.s=t.s,eg(this,t.i),ng(this,t.m),this.l=t.l,e=t.h,(n=new pg).i=e.i,e.g&&(n.g=new Qv(e.g),n.h=e.h),rg(this,n),this.o=t.o):t&&(n=String(t).match($v))?(this.g=!!e,tg(this,n[1]||"",!0),this.s=ag(n[2]||""),eg(this,n[3]||"",!0),ng(this,n[4]),this.l=ag(n[5]||"",!0),rg(this,n[6]||"",!0),this.o=ag(n[7]||"")):(this.g=!!e,this.h=new pg(null,this.g))}function Zv(t){return new Jv(t)}function tg(t,e,n){t.j=n?ag(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eg(t,e,n){t.i=n?ag(e,!0):e}function ng(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rg(t,e,n){var r,i;e instanceof pg?(t.h=e,r=t.h,(i=t.g)&&!r.j&&(mg(r),r.i=null,r.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(vg(this,e),yg(this,n,t))},r)),r.j=i):(n||(e=sg(e,fg)),t.h=new pg(e,t.g))}function ig(t,e,n){t.h.set(e,n)}function og(t){return ig(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ag(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ug),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function ug(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jv.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sg(e,cg,!0),":");var n=this.i;return!n&&"file"!=e||(t.push("//"),(e=this.s)&&t.push(sg(e,cg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(sg(n,"/"==n.charAt(0)?lg:hg,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sg(n,dg)),t.join("")};var cg=/[#\/\?@]/g,hg=/[#\?:]/g,lg=/[#\?]/g,fg=/[#\?@]/g,dg=/#/g;function pg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mg(t){t.g||(t.g=new Qv,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vg(t,e){mg(t),e=bg(t,e),Xv(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Xv((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Yv(t)))}function gg(t,e){return mg(t),e=bg(t,e),Xv(t.g.h,e)}function yg(t,e,n){vg(t,e),0<n.length&&(t.i=null,t.g.set(bg(t,e),Zp(n)),t.h+=n.length)}function bg(t,e){return e=String(e),e=t.j?e.toLowerCase():e}(si=pg.prototype).add=function(t,e){mg(this),this.i=null,t=bg(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},si.forEach=function(t,e){mg(this),this.g.forEach(function(n,r){$p(n,function(n){t.call(e,n,r,this)},this)},this)},si.T=function(){mg(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},si.R=function(t){mg(this);var e=[];if("string"==typeof t)gg(this,t)&&(e=Jp(e,this.g.get(bg(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Jp(e,t[n])}return e},si.set=function(t,e){return mg(this),this.i=null,gg(this,t=bg(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},si.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},si.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.R(r),o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.i=t.join("&")};var wg=function(t,e){this.h=t,this.g=e};function _g(t){this.l=t||Sg,t=Lp.PerformanceNavigationTiming?0<(t=Lp.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Lp.g&&Lp.g.Ea&&Lp.g.Ea()&&Lp.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Eg,Sg=10;function Tg(t){return t.h||t.g&&t.g.size>=t.j}function Ig(t){return t.h?1:t.g?t.g.size:0}function Mg(t,e){return t.h?t.h==e:t.g&&t.g.has(e)}function kg(t,e){t.g?t.g.add(e):t.h=e}function Cg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ag(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null==t.g||0===t.g.size)return Zp(t.i);var r=t.i;try{for(var i=Dp(t.g.values()),o=i.next();!o.done;o=i.next())var a=o.value,r=r.concat(a.D)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Og(){}function Rg(){this.g=new Og}function Ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function xg(t){this.l=t.$b||null,this.j=t.ib||!1}function Pg(t,e){zm.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Dg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_g.prototype.cancel=function(){var t,e;if(this.i=Ag(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Dp(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Og.prototype.stringify=function(t){return Lp.JSON.stringify(t,void 0)},Og.prototype.parse=function(t){return Lp.JSON.parse(t,void 0)},Gp(xg,Iv),xg.prototype.g=function(){return new Pg(this.l,this.j)},xg.prototype.i=(Eg={},function(){return Eg}),Gp(Pg,zm);var Dg=0;function jg(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Lg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fg(t)}function Fg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(si=Pg.prototype).open=function(t,e){if(this.readyState!=Dg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fg(this)},si.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Lp).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},si.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lg(this)),this.readyState=Dg},si.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fg(this)),this.g&&(this.readyState=3,Fg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lp.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jg(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},si.Sa=function(t){var e;this.g&&(this.u&&t.value?this.response.push(t.value):this.u||(e=t.value||new Uint8Array(0),(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)),(t.done?Lg:Fg)(this),3==this.readyState&&jg(this))},si.Ua=function(t){this.g&&(this.response=this.responseText=t,Lg(this))},si.Ta=function(t){this.g&&(this.response=t,Lg(this))},si.ha=function(){this.g&&Lg(this)},si.setRequestHeader=function(t,e){this.v.append(t,e)},si.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},si.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ug=Lp.JSON.parse;function Bg(t){zm.call(this),this.headers=new Qv,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qg,this.K=this.L=!1}Gp(Bg,zm);var qg="",Vg=/^https?$/i,Kg=["POST","PUT"];function zg(t){return"content-type"==t.toLowerCase()}function Wg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hg(t),Qg(t)}function Hg(t){t.D||(t.D=!0,Wm(t,"complete"),Wm(t,"error"))}function Gg(t){if(t.h&&void 0!==jp&&(!t.C[1]||4!=Xg(t)||2!=t.ba()))if(t.v&&4==Xg(t))av(t.Fa,0,t);else if(Wm(t,"readystatechange"),4==Xg(t)){t.h=!1;try{var e,n,r,i,o=t.ba();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.H).match($v)[1]||null)&&Lp.self&&Lp.self.location&&(i=(r=Lp.self.location.protocol).substr(0,r.length-1)),n=!Vg.test(i?i.toLowerCase():"")),e=n),e)Wm(t,"complete"),Wm(t,"success");else{t.m=6;try{var s=2<Xg(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Hg(t)}}finally{Qg(t)}}}function Qg(t,e){if(t.g){Yg(t);var n=t.g,r=t.C[0]?Fp:null;t.g=null,t.C=null,e||Wm(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Yg(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Lp.clearTimeout(t.A),t.A=null)}function Xg(t){return t.g?t.g.readyState:0}function $g(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jg(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",am(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ig(t,e,n))}function Zg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ty(t){this.za=0,this.l=[],this.h=new pv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zg("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zg("baseRetryDelayMs",5e3,t),this.$a=Zg("retryDelaySeedMs",1e4,t),this.Ya=Zg("forwardChannelMaxRetries",2,t),this.ra=Zg("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new _g(t&&t.concurrentRequestLimit),this.Ca=new Rg,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ey(t){var e,n;ry(t),3==t.G&&(e=t.V++,ig(n=Zv(t.F),"SID",t.J),ig(n,"RID",e),ig(n,"TYPE","terminate"),sy(t,n),(e=new Rv(t,t.h,e,void 0)).K=2,e.v=og(Zv(n)),n=!1,!(n=Lp.navigator&&Lp.navigator.sendBeacon?Lp.navigator.sendBeacon(e.v.toString(),""):n)&&Lp.Image&&((new Image).src=e.v,n=!0),n||(e.g=by(e.l,null),e.g.ea(e.v)),e.F=Date.now(),qv(e)),gy(t)}function ny(t){t.g&&(ly(t),t.g.cancel(),t.g=null)}function ry(t){ny(t),t.u&&(Lp.clearTimeout(t.u),t.u=null),dy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Lp.clearTimeout(t.m),t.m=null)}function iy(t,e){t.l.push(new wg(t.Za++,e)),3==t.G&&oy(t)}function oy(t){Tg(t.i)||t.m||(t.m=!0,tv(t.Ha,t),t.C=0)}function ay(t,e){var n=e?e.m:t.V++,r=Zv(t.F);ig(r,"SID",t.J),ig(r,"RID",n),ig(r,"AID",t.U),sy(t,r),t.o&&t.s&&Jg(r,t.o,t.s),n=new Rv(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=uy(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kg(t.i,n),Lv(n,r,e)}function sy(t,e){t.j&&Gv({},function(t,n){ig(e,n,t)})}function uy(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Wp(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,h=i[u].g;if((c-=o)<0)o=Math.max(0,i[u].h-100),s=!1;else try{!function(t,e,n){var r="";try{Gv(t,function(t,n){var i=t;Bp(t)&&(i=Gm(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(h,a)}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function cy(t){t.g||t.u||(t.Y=1,tv(t.Ga,t),t.A=0)}function hy(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Tv(Wp(t.Ga,t),my(t,t.A)),t.A++,1)}function ly(t){null!=t.B&&(Lp.clearTimeout(t.B),t.B=null)}function fy(t){t.g=new Rv(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Zv(t.oa);ig(e,"RID","rpc"),ig(e,"SID",t.J),ig(e,"CI",t.N?"0":"1"),ig(e,"AID",t.U),sy(t,e),ig(e,"TYPE","xmlhttp"),t.o&&t.s&&Jg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=og(Zv(e)),n.s=null,n.U=!0,Fv(n,t)}function dy(t){null!=t.v&&(Lp.clearTimeout(t.v),t.v=null)}function py(t,e){var n,r,i,o=null;if(t.g==e){dy(t),ly(t),t.g=null;var a=2}else{if(!Mg(t.i,e))return;o=e.D,Cg(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)1==a?(o=e.s?e.s.length:0,e=Date.now()-e.F,n=t.C,Wm(a=yv(),new Sv(a,o)),oy(t)):cy(t);else if(3==(n=e.o)||0==n&&0<t.I||(1!=a||(i=e,Ig((r=t).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Tv(Wp(r.Ha,r,i),my(r,r.C)),r.C++,0))))&&(2!=a||!hy(t)))switch(o&&0<o.length&&(e=t.i,e.i=e.i.concat(o)),n){case 1:vy(t,5);break;case 4:vy(t,10);break;case 3:vy(t,6);break;default:vy(t,2)}}function my(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function vy(t,e){var n,r,i,o;t.h.info("Error code "+e),2==e?(r=null,t.j&&(r=null),o=Wp(t.jb,t),r||(r=new Jv("//www.google.com/images/cleardot.gif"),Lp.location&&"http"==Lp.location.protocol||tg(r,"https"),og(r)),n=r.toString(),r=o,o=new pv,Lp.Image?((i=new Image).onload=Hp(Ng,o,i,"TestLoadImage: loaded",!0,r),i.onerror=Hp(Ng,o,i,"TestLoadImage: error",!1,r),i.onabort=Hp(Ng,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=Hp(Ng,o,i,"TestLoadImage: timeout",!1,r),Lp.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):Ev(2),t.G=0,t.j&&t.j.va(e),gy(t),ry(t)}function gy(t){t.G=0,t.I=-1,t.j&&(0==Ag(t.i).length&&0==t.l.length||(t.i.i.length=0,Zp(t.l),t.l.length=0),t.j.ua())}function yy(t,e,n){var r,i,o,a,s,u=(a=n)instanceof Jv?Zv(a):new Jv(a,void 0);return""!=u.i?(e&&eg(u,e+"."+u.i),ng(u,u.m)):(s=Lp.location,r=s.protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Jv(null,void 0),r&&tg(s,r),i&&eg(s,i),o&&ng(s,o),a&&(s.l=a),u=s),t.aa&&am(t.aa,function(t,e){ig(u,e,t)}),e=t.D,n=t.sa,e&&n&&ig(u,e,n),ig(u,"VER",t.ma),sy(t,u),u}function by(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Bg(new xg({ib:!0})):new Bg(t.qa)).L=t.H,e}function wy(){}function _y(){if(dm&&!(10<=Number(Em)))throw Error("Environmental error: no available transport.")}function Ey(t,e){zm.call(this),this.g=new ty(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!tm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Iy(this)}function Sy(t){Cv.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ty(){Av.call(this),this.status=1}function Iy(t){this.g=t}(si=Bg.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||xv).g(),this.C=this.u?Mv(this.u):Mv(xv),this.g.onreadystatechange=Wp(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Wg(this,t)}t=n||"";var i,o=new Qv(this.headers);r&&Gv(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=zg,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.T()),n=Lp.FormData&&t instanceof Lp.FormData,0<=Xp(Kg,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yg(this),0<this.B&&((this.K=(i=this.g,dm&&function(){return t=function(){for(var t=0,e=nm(String(lm)).split("."),n=nm("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",a=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(t=im(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||im(0==o[2].length,0==a[2].length)||im(o[2],a[2]),o=o[3],a=a[3],0==t););return 0<=t},e=_m,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t();var t,e}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=Wp(this.pa,this)):this.A=av(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Wg(this,t)}},si.pa=function(){void 0!==jp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wm(this,"timeout"),this.abort(8))},si.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wm(this,"complete"),Wm(this,"abort"),Qg(this))},si.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qg(this,!0)),Bg.Z.M.call(this)},si.Fa=function(){this.s||(this.F||this.v||this.l?Gg(this):this.cb())},si.cb=function(){Gg(this)},si.ba=function(){try{return 2<Xg(this)?this.g.status:-1}catch(t){return-1}},si.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},si.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ug(e)}},si.Da=function(){return this.m},si.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(si=ty.prototype).ma=8,si.G=1,si.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},si.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Rv(this,this.h,t,void 0),n=this.s;if(this.P&&(n?cm(n=sm(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=uy(this,e,r),ig(i=Zv(this.F),"RID",t),ig(i,"CVER",22),this.D&&ig(i,"X-HTTP-Session-Id",this.D),sy(this,i),this.o&&n&&Jg(i,this.o,n),kg(this.i,e),this.Ra&&ig(i,"TYPE","init"),this.ja?(ig(i,"$req",r),ig(i,"SID","null"),e.$=!0,Lv(e,i,null)):Lv(e,i,r),this.G=2}}else 3==this.G&&(t?ay(this,t):0==this.l.length||Tg(this.i)||ay(this))},si.Ga=function(){var t;this.u=null,fy(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(t=2*this.O,this.h.info("BP detection timer enabled: "+t),this.B=Tv(Wp(this.bb,this),t))},si.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ev(10),ny(this),fy(this))},si.ab=function(){null!=this.v&&(this.v=null,ny(this),hy(this),Ev(19))},si.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ev(2)):(this.h.info("Failed to ping google.com"),Ev(1))},(si=wy.prototype).xa=function(){},si.wa=function(){},si.va=function(){},si.ua=function(){},si.Oa=function(){},_y.prototype.g=function(t,e){return new Ey(t,e)},Gp(Ey,zm),Ey.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),tv(Wp(t.hb,t,e))),Ev(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=yy(t,null,t.W),oy(t)},Ey.prototype.close=function(){ey(this.g)},Ey.prototype.u=function(t){var e;"string"==typeof t?((e={}).__data__=t,iy(this.g,e)):this.v?((e={}).__data__=Gm(t),iy(this.g,e)):iy(this.g,t)},Ey.prototype.M=function(){this.g.j=null,delete this.j,ey(this.g),delete this.g,Ey.Z.M.call(this)},Gp(Sy,Cv),Gp(Ty,Av),Gp(Iy,wy),Iy.prototype.xa=function(){Wm(this.g,"a")},Iy.prototype.wa=function(t){Wm(this.g,new Sy(t))},Iy.prototype.va=function(t){Wm(this.g,new Ty)},Iy.prototype.ua=function(){Wm(this.g,"b")},_y.prototype.createWebChannel=_y.prototype.g,Ey.prototype.send=Ey.prototype.u,Ey.prototype.open=Ey.prototype.m,H.NO_ERROR=0,H.TIMEOUT=8,H.HTTP_ERROR=6,G.COMPLETE="complete",(kv.EventType=Ws).OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",zm.prototype.listen=zm.prototype.N,Bg.prototype.listenOnce=Bg.prototype.O,Bg.prototype.getLastError=Bg.prototype.La,Bg.prototype.getLastErrorCode=Bg.prototype.Da,Bg.prototype.getStatus=Bg.prototype.ba,Bg.prototype.getResponseJson=Bg.prototype.Qa,Bg.prototype.getResponseText=Bg.prototype.ga,Bg.prototype.send=Bg.prototype.ea;var My=yv,ky=H,Cy=G,Ay=vv,Oy=xg,Ry=kv,Ny=Bg,xy=(Py.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Py.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Py);function Py(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}xy.o=-1;var Dy,jy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ly=(Hi(Uy,Dy=Error),Uy),Fy=new fa("@firebase/firestore");function Uy(t,e){var n=this;return(n=Dy.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function By(){return Fy.logLevel}function qy(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fy.logLevel<=aa.DEBUG&&(e=n.map(zy),Fy.debug.apply(Fy,Ji(["Firestore (8.10.1): "+t],e)))}function Vy(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fy.logLevel<=aa.ERROR&&(e=n.map(zy),Fy.error.apply(Fy,Ji(["Firestore (8.10.1): "+t],e)))}function Ky(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fy.logLevel<=aa.WARN&&(e=n.map(zy),Fy.warn.apply(Fy,Ji(["Firestore (8.10.1): "+t],e)))}function zy(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Wy(t){throw Vy(t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t)),new Error(t)}function Hy(t){t||Wy()}var Gy=(Qy.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Qy);function Qy(){}function Yy(t,e){return t<e?-1:e<t?1:0}function Xy(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function $y(t){return t+"\0"}var Jy=(eb.now=function(){return eb.fromMillis(Date.now())},eb.fromDate=function(t){return eb.fromMillis(t.getTime())},eb.fromMillis=function(t){var e=Math.floor(t/1e3);return new eb(e,Math.floor(1e6*(t-1e3*e)))},eb.prototype.toDate=function(){return new Date(this.toMillis())},eb.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},eb.prototype._compareTo=function(t){return this.seconds===t.seconds?Yy(this.nanoseconds,t.nanoseconds):Yy(this.seconds,t.seconds)},eb.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},eb.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},eb.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},eb.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},eb),Zy=(tb.fromTimestamp=function(t){return new tb(t)},tb.min=function(){return new tb(new Jy(0,0))},tb.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},tb.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},tb.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},tb.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},tb.prototype.toTimestamp=function(){return this.timestamp},tb);function tb(t){this.timestamp=t}function eb(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Ly(jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Ly(jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ly(jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Ly(jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function nb(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function rb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ib(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ob,ab,H=(Object.defineProperty(vb.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),vb.prototype.isEqual=function(t){return 0===vb.comparator(this,t)},vb.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof vb?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},vb.prototype.limit=function(){return this.offset+this.length},vb.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},vb.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},vb.prototype.firstSegment=function(){return this.segments[this.offset]},vb.prototype.lastSegment=function(){return this.get(this.length-1)},vb.prototype.get=function(t){return this.segments[this.offset+t]},vb.prototype.isEmpty=function(){return 0===this.length},vb.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},vb.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},vb.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},vb.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},vb.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},vb),sb=(Hi(mb,ab=H),mb.prototype.construct=function(t,e,n){return new mb(t,e,n)},mb.prototype.canonicalString=function(){return this.toArray().join("/")},mb.prototype.toString=function(){return this.canonicalString()},mb.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Ly(jy.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new mb(n)},mb.emptyPath=function(){return new mb([])},mb),ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cb=(Hi(pb,ob=H),pb.prototype.construct=function(t,e,n){return new pb(t,e,n)},pb.isValidIdentifier=function(t){return ub.test(t)},pb.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=pb.isValidIdentifier(t)?t:"`"+t+"`"}).join(".")},pb.prototype.toString=function(){return this.canonicalString()},pb.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},pb.keyField=function(){return new pb(["__name__"])},pb.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Ly(jy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Ly(jy.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ly(jy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Ly(jy.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pb(e)},pb.emptyPath=function(){return new pb([])},pb),hb=(db.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},db.prototype.isEqual=function(t){return Xy(this.fields,t.fields,function(t,e){return t.isEqual(e)})},db),lb=(fb.fromBase64String=function(t){return new fb(atob(t))},fb.fromUint8Array=function(t){return new fb(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},fb.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},fb.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},fb.prototype.approximateByteSize=function(){return 2*this.binaryString.length},fb.prototype.compareTo=function(t){return Yy(this.binaryString,t.binaryString)},fb.prototype.isEqual=function(t){return this.binaryString===t.binaryString},fb);function fb(t){this.binaryString=t}function db(t){(this.fields=t).sort(cb.comparator)}function pb(){return null!==ob&&ob.apply(this,arguments)||this}function mb(){return null!==ab&&ab.apply(this,arguments)||this}function vb(t,e,n){void 0===e?e=0:e>t.length&&Wy(),void 0===n?n=t.length-e:n>t.length-e&&Wy(),this.segments=t,this.offset=e,this.len=n}lb.EMPTY_BYTE_STRING=new lb("");var gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yb(t){if(Hy(!!t),"string"!=typeof t)return{seconds:bb(t.seconds),nanos:bb(t.nanos)};var e=0,n=gb.exec(t);return Hy(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function bb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wb(t){return"string"==typeof t?lb.fromBase64String(t):lb.fromUint8Array(t)}function _b(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eb(t){return t=yb(t.mapValue.fields.__local_write_time__.timestampValue),new Jy(t.seconds,t.nanos)}function Sb(t){return null==t}function Tb(t){return 0===t&&1/t==-1/0}function Ib(t){return"number"==typeof t&&Number.isInteger(t)&&!Tb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Mb=(kb.fromPath=function(t){return new kb(sb.fromString(t))},kb.fromName=function(t){return new kb(sb.fromString(t).popFirst(5))},kb.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},kb.prototype.isEqual=function(t){return null!==t&&0===sb.comparator(this.path,t.path)},kb.prototype.toString=function(){return this.path.toString()},kb.comparator=function(t,e){return sb.comparator(t.path,e.path)},kb.isDocumentKey=function(t){return t.length%2==0},kb.fromSegments=function(t){return new kb(new sb(t.slice()))},kb);function kb(t){this.path=t}function Cb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_b(t)?4:10:Wy()}function Ab(t,e){var n,r,i=Cb(t);if(i!==Cb(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eb(t).isEqual(Eb(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=yb(t.timestampValue),e=yb(e.timestampValue);return n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,wb(t.bytesValue).isEqual(wb(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return n=e,bb((r=t).geoPointValue.latitude)===bb(n.geoPointValue.latitude)&&bb(r.geoPointValue.longitude)===bb(n.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?bb(t.integerValue)===bb(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&(t=bb(t.doubleValue),e=bb(e.doubleValue),t===e?Tb(t)===Tb(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return Xy(t.arrayValue.values||[],e.arrayValue.values||[],Ab);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(nb(r)!==nb(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Ab(r[n],i[n])))return!1;return!0}();default:return Wy()}}function Ob(t,e){return void 0!==(t.values||[]).find(function(t){return Ab(t,e)})}function Rb(t,e){var n,r,i,o=Cb(t),a=Cb(e);if(o!==a)return Yy(o,a);switch(o){case 0:return 0;case 1:return Yy(t.booleanValue,e.booleanValue);case 2:return r=e,i=bb(t.integerValue||t.doubleValue),r=bb(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Nb(t.timestampValue,e.timestampValue);case 4:return Nb(Eb(t),Eb(e));case 5:return Yy(t.stringValue,e.stringValue);case 6:return function(t,e){return t=wb(t),e=wb(e),t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yy(n[i],r[i]);if(0!==o)return o}return Yy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=Yy(bb(n.latitude),bb(i.latitude)))?r:Yy(bb(n.longitude),bb(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Rb(n[i],r[i]);if(o)return o}return Yy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yy(r[a],o[a]);if(0!==s)return s;if(0!==(s=Rb(n[r[a]],i[o[a]])))return s}return Yy(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wy()}}function Nb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yy(t,e);var n=yb(t),t=yb(e),e=Yy(n.seconds,t.seconds);return 0!==e?e:Yy(n.nanos,t.nanos)}function xb(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=yb(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mb.fromName(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Wy();var n}(t)}function Pb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Db(t){return t&&"integerValue"in t}function jb(t){return!!t&&"arrayValue"in t}function Lb(t){return t&&"nullValue"in t}function Fb(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ub(t){return t&&"mapValue"in t}function Bb(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return rb(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Bb(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bb(t.arrayValue.values[r]);return n}return Object.assign({},t)}var qb=(Vb.empty=function(){return new Vb({mapValue:{}})},Vb.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ub(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},Vb.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bb(e)},Vb.prototype.setAll=function(t){var e=this,n=cb.emptyPath(),r={},i=[];t.forEach(function(t,o){var a;n.isImmediateParentOf(o)||(a=e.getFieldsMap(n),e.applyChanges(a,r,i),r={},i=[],n=o.popLast()),t?r[o.lastSegment()]=Bb(t):i.push(o.lastSegment())}),t=this.getFieldsMap(n),this.applyChanges(t,r,i)},Vb.prototype.delete=function(t){var e=this.field(t.popLast());Ub(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},Vb.prototype.isEqual=function(t){return Ab(this.value,t.value)},Vb.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ub(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},Vb.prototype.applyChanges=function(t,e,n){rb(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},Vb.prototype.clone=function(){return new Vb(Bb(this.value))},Vb);function Vb(t){this.value=t}var Kb=(Wb.newInvalidDocument=function(t){return new Wb(t,0,Zy.min(),qb.empty(),0)},Wb.newFoundDocument=function(t,e,n){return new Wb(t,1,e,n,0)},Wb.newNoDocument=function(t,e){return new Wb(t,2,e,qb.empty(),0)},Wb.newUnknownDocument=function(t,e){return new Wb(t,3,e,qb.empty(),2)},Wb.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},Wb.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=qb.empty(),this.documentState=0,this},Wb.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=qb.empty(),this.documentState=2,this},Wb.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Wb.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Wb.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Wb.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Wb.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Wb.prototype.isValidDocument=function(){return 0!==this.documentType},Wb.prototype.isFoundDocument=function(){return 1===this.documentType},Wb.prototype.isNoDocument=function(){return 2===this.documentType},Wb.prototype.isUnknownDocument=function(){return 3===this.documentType},Wb.prototype.isEqual=function(t){return t instanceof Wb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},Wb.prototype.clone=function(){return new Wb(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Wb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Wb),zb=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Wb(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Hb(t,e,n,r,i,o,a){return new zb(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Gb(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+xb(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(","),Sb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Ew(e.startAt)),e.endAt&&(t+="|ub:",t+=Ew(e.endAt)),e.h=t),e.h}function Qb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Ab(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iw(t.startAt,e.startAt)&&Iw(t.endAt,e.endAt)}function Yb(t){return Mb.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xb,$b=(Hi(Jb,Xb=function(){}),Jb.create=function(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.l(t,e,n):new nw(t,e,n):"array-contains"===e?new dw(t,n):"in"===e?new pw(t,n):"not-in"===e?new mw(t,n):"array-contains-any"===e?new vw(t,n):new Jb(t,e,n)},Jb.l=function(t,e,n){return new("in"===e?rw:iw)(t,n)},Jb.prototype.matches=function(t){return t=t.data.field(this.field),"!="===this.op?null!==t&&this.m(Rb(t,this.value)):null!==t&&Cb(this.value)===Cb(t)&&this.m(Rb(t,this.value))},Jb.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Wy()}},Jb.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Jb);function Jb(t,e,n){var r=this;return(r=Xb.call(this)||this).field=t,r.op=e,r.value=n,r}var Zb,tw,ew,nw=(Hi(sw,ew=$b),sw.prototype.matches=function(t){return t=Mb.comparator(t.key,this.key),this.m(t)},sw),rw=(Hi(aw,tw=$b),aw.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},aw),iw=(Hi(ow,Zb=$b),ow.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},ow);function ow(t,e){var n=this;return(n=Zb.call(this,t,"not-in",e)||this).keys=uw(0,e),n}function aw(t,e){var n=this;return(n=tw.call(this,t,"in",e)||this).keys=uw(0,e),n}function sw(t,e,n){var r=this;return(r=ew.call(this,t,e,n)||this).key=Mb.fromName(n.referenceValue),r}function uw(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return Mb.fromName(t.referenceValue)})}var cw,hw,lw,fw,dw=(Hi(_w,fw=$b),_w.prototype.matches=function(t){return jb(t=t.data.field(this.field))&&Ob(t.arrayValue,this.value)},_w),pw=(Hi(ww,lw=$b),ww.prototype.matches=function(t){return null!==(t=t.data.field(this.field))&&Ob(this.value.arrayValue,t)},ww),mw=(Hi(bw,hw=$b),bw.prototype.matches=function(t){return!Ob(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.data.field(this.field))&&!Ob(this.value.arrayValue,t)},bw),vw=(Hi(yw,cw=$b),yw.prototype.matches=function(t){var e=this,t=t.data.field(this.field);return!(!jb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Ob(e.value.arrayValue,t)})},yw),gw=function(t,e){this.position=t,this.before=e};function yw(t,e){return cw.call(this,t,"array-contains-any",e)||this}function bw(t,e){return hw.call(this,t,"not-in",e)||this}function ww(t,e){return lw.call(this,t,"in",e)||this}function _w(t,e){return fw.call(this,t,"array-contains",e)||this}function Ew(t){return(t.before?"b":"a")+":"+t.position.map(xb).join(",")}var Sw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i],r=o.field.isKeyField()?Mb.comparator(Mb.fromName(a.referenceValue),n.key):Rb(a,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Iw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ab(t.position[n],e.position[n]))return!1;return!0}var Mw=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function kw(t,e,n,r,i,o,a,s){return new Mw(t,e,n,r,i,o,a,s)}function Cw(t){return new Mw(t)}function Aw(t){return!Sb(t.limit)&&"F"===t.limitType}function Ow(t){return!Sb(t.limit)&&"L"===t.limitType}function Rw(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function Nw(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function xw(t){return null!==t.collectionGroup}function Pw(t){var e=t;if(null===e.p){e.p=[];var n=Nw(e),t=Rw(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new Sw(n)),e.p.push(new Sw(cb.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var a=o[i];e.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",e.p.push(new Sw(cb.keyField(),n)))}}return e.p}function Dw(t){var e=t;if(!e.T)if("F"===e.limitType)e.T=Hb(e.path,e.collectionGroup,Pw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Pw(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Sw(o.field,a))}var s=e.endAt?new gw(e.endAt.position,!e.endAt.before):null,t=e.startAt?new gw(e.startAt.position,!e.startAt.before):null;e.T=Hb(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.T}function jw(t,e,n){return new Mw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lw(t,e){return Qb(Dw(t),Dw(e))&&t.limitType===e.limitType}function Fw(t){return Gb(Dw(t))+"|lt:"+t.limitType}function Uw(t){return"Query(target="+(e=Dw(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.canonicalString()+" "+t.op+" "+xb(t.value)}).join(", ")+"]"),Sb(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Ew(e.startAt)),e.endAt&&(n+=", endAt: "+Ew(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function Bw(t,e){return e.isFoundDocument()&&(n=t,r=e.key.path,null!==n.collectionGroup?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Mb.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||Tw(e.startAt,Pw(e),r))&&(!e.endAt||!Tw(e.endAt,Pw(e),r)));var n,r}function qw(t){return function(e,n){for(var r=!1,i=0,o=Pw(t);i<o.length;i++){var a=o[i],s=function(t,e,n){var r=t.field.isKeyField()?Mb.comparator(e.key,n.key):function(t,n){var r=e.data.field(t),t=n.data.field(t);return null!==r&&null!==t?Rb(r,t):Wy()}(t.field,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wy()}}(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Vw(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tb(e)?"-0":e}}function Kw(t){return{integerValue:""+t}}function zw(t,e){return Ib(e)?Kw(e):Vw(t,e)}function Ww(t,e){return t instanceof i_?Db(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Hw,Gw,Qw=(Hi($w,Gw=G=function(){this._=void 0}),$w),Yw=(Hi(Xw,Hw=G),Xw);function Xw(t){var e=this;return(e=Hw.call(this)||this).elements=t,e}function $w(){return null!==Gw&&Gw.apply(this,arguments)||this}function Jw(t,e){for(var n=s_(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return Ab(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Zw,t_=(Hi(e_,Zw=G),e_);function e_(t){var e=this;return(e=Zw.call(this)||this).elements=t,e}function n_(t,e){for(var n=s_(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!Ab(e,t)})}(i[r]);return{arrayValue:{values:n}}}var r_,i_=(Hi(o_,r_=G),o_);function o_(t,e){var n=this;return(n=r_.call(this)||this).R=t,n.A=e,n}function a_(t){return bb(t.integerValue||t.doubleValue)}function s_(t){return jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u_(t,e){this.version=t,this.transformResults=e}var c_=function(t,e){this.field=t,this.transform=e},h_=(l_.none=function(){return new l_},l_.exists=function(t){return new l_(void 0,t)},l_.updateTime=function(t){return new l_(t)},Object.defineProperty(l_.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),l_.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},l_);function l_(t,e){this.updateTime=t,this.exists=e}function f_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}function d_(t,e,n){var r,i,o,a;t instanceof y_?(i=e,o=n,f_((r=t).precondition,i)&&(a=r.value.clone(),o=T_(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(m_(i),a).setHasLocalMutations())):t instanceof b_?(o=e,i=n,f_((a=t).precondition,o)&&(n=T_(a.fieldTransforms,i,o),(i=o.data).setAll(E_(a)),i.setAll(n),o.convertToFoundDocument(m_(o),i).setHasLocalMutations())):(e=e,f_(t.precondition,e)&&e.convertToNoDocument(Zy.min()))}function p_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Xy(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Yw&&e instanceof Yw||t instanceof t_&&e instanceof t_?Xy(t.elements,e.elements,Ab):t instanceof i_&&e instanceof i_?Ab(t.A,e.A):t instanceof Qw&&e instanceof Qw)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function m_(t){return t.isFoundDocument()?t.version:Zy.min()}var v_,g_,y_=(Hi(__,g_=H=function(){}),__),b_=(Hi(w_,v_=H),w_);function w_(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=v_.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function __(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=g_.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function E_(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){var r;n.isEmpty()||(r=t.data.field(n),e.set(n,r))}),e}function S_(t,e,n){var r=new Map;Hy(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof Yw?Jw(o,a):o instanceof t_?n_(o,a):s))}return r}function T_(t,e,n){for(var r,i=new Map,o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=e,c=void 0,(u=u)instanceof Qw?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Yw?Jw(u,r):u instanceof t_?n_(u,r):(u=Ww(c=u,r),r=a_(u)+a_(c.A),Db(u)&&Db(c.A)?Kw(r):Vw(c.R,r))))}return i}function I_(t){this.count=t}var M_,k_,C_,A_=(Hi(N_,C_=H),N_),O_=(Hi(R_,k_=H),R_);function R_(t,e){var n=this;return(n=k_.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function N_(t,e){var n=this;return(n=C_.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function x_(t){switch(t){case jy.OK:return Wy(),0;case jy.CANCELLED:case jy.UNKNOWN:case jy.DEADLINE_EXCEEDED:case jy.RESOURCE_EXHAUSTED:case jy.INTERNAL:case jy.UNAVAILABLE:case jy.UNAUTHENTICATED:return;case jy.INVALID_ARGUMENT:case jy.NOT_FOUND:case jy.ALREADY_EXISTS:case jy.PERMISSION_DENIED:case jy.FAILED_PRECONDITION:case jy.ABORTED:case jy.OUT_OF_RANGE:case jy.UNIMPLEMENTED:case jy.DATA_LOSS:return 1;default:return Wy(),0}}function P_(t){if(void 0===t)return Vy("GRPC error has no .code"),jy.UNKNOWN;switch(t){case M_.OK:return jy.OK;case M_.CANCELLED:return jy.CANCELLED;case M_.UNKNOWN:return jy.UNKNOWN;case M_.DEADLINE_EXCEEDED:return jy.DEADLINE_EXCEEDED;case M_.RESOURCE_EXHAUSTED:return jy.RESOURCE_EXHAUSTED;case M_.INTERNAL:return jy.INTERNAL;case M_.UNAVAILABLE:return jy.UNAVAILABLE;case M_.UNAUTHENTICATED:return jy.UNAUTHENTICATED;case M_.INVALID_ARGUMENT:return jy.INVALID_ARGUMENT;case M_.NOT_FOUND:return jy.NOT_FOUND;case M_.ALREADY_EXISTS:return jy.ALREADY_EXISTS;case M_.PERMISSION_DENIED:return jy.PERMISSION_DENIED;case M_.FAILED_PRECONDITION:return jy.FAILED_PRECONDITION;case M_.ABORTED:return jy.ABORTED;case M_.OUT_OF_RANGE:return jy.OUT_OF_RANGE;case M_.UNIMPLEMENTED:return jy.UNIMPLEMENTED;case M_.DATA_LOSS:return jy.DATA_LOSS;default:return Wy()}}(G=M_=M_||{})[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var D_=(B_.prototype.insert=function(t,e){return new B_(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,L_.BLACK,null,null))},B_.prototype.remove=function(t){return new B_(this.comparator,this.root.remove(t,this.comparator).copy(null,null,L_.BLACK,null,null))},B_.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},B_.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},B_.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(B_.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),B_.prototype.minKey=function(){return this.root.minKey()},B_.prototype.maxKey=function(){return this.root.maxKey()},B_.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},B_.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},B_.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},B_.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},B_.prototype.getIterator=function(){return new j_(this.root,null,this.comparator,!1)},B_.prototype.getIteratorFrom=function(t){return new j_(this.root,t,this.comparator,!1)},B_.prototype.getReverseIterator=function(){return new j_(this.root,null,this.comparator,!0)},B_.prototype.getReverseIteratorFrom=function(t){return new j_(this.root,t,this.comparator,!0)},B_),j_=(U_.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},U_.prototype.hasNext=function(){return 0<this.nodeStack.length},U_.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},U_),L_=(F_.prototype.copy=function(t,e,n,r,i){return new F_(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},F_.prototype.isEmpty=function(){return!1},F_.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},F_.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},F_.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},F_.prototype.minKey=function(){return this.min().key},F_.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},F_.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},F_.prototype.removeMin=function(){if(this.left.isEmpty())return F_.EMPTY;var t=this;return(t=(t=t.left.isRed()||t.left.left.isRed()?t:t.moveRedLeft()).copy(null,null,null,t.left.removeMin(),null)).fixUp()},F_.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return F_.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},F_.prototype.isRed=function(){return this.color},F_.prototype.fixUp=function(){var t=this;return t=(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},F_.prototype.moveRedLeft=function(){var t=this.colorFlip();return t=t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},F_.prototype.moveRedRight=function(){var t=this.colorFlip();return t=t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},F_.prototype.rotateLeft=function(){var t=this.copy(null,null,F_.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},F_.prototype.rotateRight=function(){var t=this.copy(null,null,F_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},F_.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},F_.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},F_.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wy();if(this.right.isRed())throw Wy();var t=this.left.check();if(t!==this.right.check())throw Wy();return t+(this.isRed()?0:1)},F_);function F_(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:F_.RED,this.left=null!=r?r:F_.EMPTY,this.right=null!=i?i:F_.EMPTY,this.size=this.left.size+1+this.right.size}function U_(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function B_(t,e){this.comparator=t,this.root=e||L_.EMPTY}function q_(){this.size=0}L_.EMPTY=null,L_.RED=!0,L_.BLACK=!1,L_.EMPTY=(Object.defineProperty(q_.prototype,"key",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"value",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"color",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"left",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"right",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),q_.prototype.copy=function(t,e,n,r,i){return this},q_.prototype.insert=function(t,e,n){return new L_(t,e)},q_.prototype.remove=function(t,e){return this},q_.prototype.isEmpty=function(){return!0},q_.prototype.inorderTraversal=function(t){return!1},q_.prototype.reverseTraversal=function(t){return!1},q_.prototype.minKey=function(){return null},q_.prototype.maxKey=function(){return null},q_.prototype.isRed=function(){return!1},q_.prototype.checkMaxDepth=function(){return!0},q_.prototype.check=function(){return 0},new q_);var V_=(H_.prototype.has=function(t){return null!==this.data.get(t)},H_.prototype.first=function(){return this.data.minKey()},H_.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(H_.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),H_.prototype.indexOf=function(t){return this.data.indexOf(t)},H_.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},H_.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},H_.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},H_.prototype.firstAfterOrEqual=function(t){return(t=this.data.getIteratorFrom(t)).hasNext()?t.getNext().key:null},H_.prototype.getIterator=function(){return new K_(this.data.getIterator())},H_.prototype.getIteratorFrom=function(t){return new K_(this.data.getIteratorFrom(t))},H_.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},H_.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},H_.prototype.isEmpty=function(){return this.data.isEmpty()},H_.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},H_.prototype.isEqual=function(t){if(!(t instanceof H_))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},H_.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},H_.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},H_.prototype.copy=function(t){var e=new H_(this.comparator);return e.data=t,e},H_),K_=(W_.prototype.getNext=function(){return this.iter.getNext().key},W_.prototype.hasNext=function(){return this.iter.hasNext()},W_),z_=new D_(Mb.comparator);function W_(t){this.iter=t}function H_(t){this.comparator=t,this.data=new D_(this.comparator)}var G_=new D_(Mb.comparator),Q_=new D_(Mb.comparator),Y_=new V_(Mb.comparator);function X_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Y_,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var $_=new V_(Yy),J_=(uE.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,Z_.createSynthesizedTargetChangeForCurrentChange(t,e)),new uE(Zy.min(),n,$_,z_,X_())},uE),Z_=(sE.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new sE(lb.EMPTY_BYTE_STRING,e,X_(),X_(),X_())},sE),tE=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},eE=function(t,e){this.targetId=t,this.V=e},nE=function(t,e,n,r){void 0===n&&(n=lb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},rE=(Object.defineProperty(aE.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(aE.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(aE.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(aE.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),aE.prototype.O=function(t){0<t.approximateByteSize()&&(this.k=!0,this.C=t)},aE.prototype.M=function(){var t=X_(),e=X_(),n=X_();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wy()}}),new Z_(this.C,this.N,t,e,n)},aE.prototype.L=function(){this.k=!1,this.D=hE()},aE.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},aE.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},aE.prototype.U=function(){this.S+=1},aE.prototype.K=function(){--this.S},aE.prototype.j=function(){this.k=!0,this.N=!0},aE),iE=(oE.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},oE.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Wy()}})},oE.prototype.forEachTarget=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},oE.prototype.rt=function(t){var e=t.targetId,n=t.V.count,t=this.ot(e);t&&(Yb(t=t.target)?0===n?(t=new Mb(t.path),this.tt(e,t,Kb.newNoDocument(t,Zy.min()))):Hy(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},oE.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);o&&(r.current&&Yb(o.target)&&(o=new Mb(o.target.path),null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Kb.newNoDocument(o,t))),r.$&&(n.set(i,r.M()),r.L()))});var r=X_();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){return!(t=e.ot(t))||2===t.purpose||(i=!1)}),i&&(r=r.add(t))});var i=new J_(t,n,this.Y,this.H,r);return this.H=z_,this.J=cE(),this.Y=new V_(Yy),i},oE.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.at(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},oE.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},oE.prototype.removeTarget=function(t){this.G.delete(t)},oE.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},oE.prototype.U=function(t){this.nt(t).U()},oE.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new rE,this.G.set(t,e)),e},oE.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new V_(Yy),this.J=this.J.insert(t,e)),e},oE.prototype.st=function(t){var e=null!==this.ot(t);return e||qy("WatchChangeAggregator","Detected inactive target",t),e},oE.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},oE.prototype.it=function(t){var e=this;this.G.set(t,new rE),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},oE.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},oE);function oE(t){this.W=t,this.G=new Map,this.H=z_,this.J=cE(),this.Y=new V_(Yy)}function aE(){this.S=0,this.D=hE(),this.C=lb.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}function sE(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function uE(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function cE(){return new D_(Mb.comparator)}function hE(){return new D_(Mb.comparator)}var lE={asc:"ASCENDING",desc:"DESCENDING"},fE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dE=function(t,e){this.databaseId=t,this.I=e};function pE(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(t,e){return t.I?e.toBase64():e.toUint8Array()}function vE(t){return Hy(!!t),Zy.fromTimestamp((t=yb(t),new Jy(t.seconds,t.nanos)))}function gE(t,e){return new sb(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function yE(t){return Hy(FE(t=sb.fromString(t))),t}function bE(t,e){return gE(t.databaseId,e.path)}function wE(t,e){if((e=yE(e)).get(1)!==t.databaseId.projectId)throw new Ly(jy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Ly(jy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new Mb(TE(e))}function _E(t,e){return gE(t.databaseId,e)}function EE(t){return 4===(t=yE(t)).length?sb.emptyPath():TE(t)}function SE(t){return new sb(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TE(t){return Hy(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function IE(t,e,n){return{name:bE(t,e),fields:n.value.mapValue.fields}}function ME(t,e,n){var r=wE(t,e.name),t=vE(e.updateTime),e=new qb({mapValue:{fields:e.fields}}),e=Kb.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function kE(t,e){var n,r,i;if(e instanceof y_)n={update:IE(t,e.key,e.value)};else if(e instanceof A_)n={delete:bE(t,e.key)};else if(e instanceof b_)n={update:IE(t,e.key,e.data),updateMask:(r=e.fieldMask,i=[],r.fields.forEach(function(t){return i.push(t.canonicalString())}),{fieldPaths:i})};else{if(!(e instanceof O_))return Wy();n={verify:bE(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Qw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof Yw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof t_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof i_)return{fieldPath:t.field.canonicalString(),increment:e.A};throw Wy()})),e.precondition.isNone||(n.currentDocument=void 0!==(e=e.precondition).updateTime?{updateTime:pE(t,e.updateTime.toTimestamp())}:void 0!==e.exists?{exists:e.exists}:Wy()),n}function CE(t,e){var n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?h_.updateTime(vE(a.updateTime)):void 0!==a.exists?h_.exists(a.exists):h_.none():h_.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(Hy("REQUEST_TIME"===e.setToServerValue),r=new Qw):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Yw(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new t_(n)):"increment"in e?r=new i_(t,e.increment):Wy(),e=cb.fromServerFormat(e.fieldPath),new c_(e,r)}(t,e)}):[];if(e.update){e.update.name;var i=wE(t,e.update.name),o=new qb({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=(a=e.updateMask.fieldPaths||[],new hb(a.map(function(t){return cb.fromServerFormat(t)})));return new b_(i,o,a,n,r)}return new y_(i,o,n,r)}return e.delete?(r=wE(t,e.delete),new A_(r,n)):e.verify?(e=wE(t,e.verify),new O_(e,n)):Wy()}function AE(t,e){return{documents:[_E(t,e.path)]}}function OE(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=_E(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_E(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map(function(t){if("=="===t.op){if(Fb(t.value))return{unaryFilter:{field:PE(t.field),op:"IS_NAN"}};if(Lb(t.value))return{unaryFilter:{field:PE(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fb(t.value))return{unaryFilter:{field:PE(t.field),op:"IS_NOT_NAN"}};if(Lb(t.value))return{unaryFilter:{field:PE(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:PE(t.field),op:(e=t.op,fE[e]),value:t.value}};var e})).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map(function(t){return{field:PE((t=t).field),direction:(t=t.dir,lE[t])}})}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.I||Sb(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=NE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=NE(e.endAt)),n}function RE(t){var e=EE(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Hy(1===r),(s=n.from[0]).allDescendants?i=s.collectionId:e=e.child(s.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[LE(e)]:void 0!==e.fieldFilter?[jE(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):Wy():[]}(n.where));var a=[],t=null,r=null,s=null;return kw(e,i,a=n.orderBy?n.orderBy.map(function(t){return new Sw(DE((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):a,o,t=n.limit?Sb(o="object"==typeof(o=n.limit)?o.value:o)?null:o:t,"F",r=n.startAt?xE(n.startAt):r,s=n.endAt?xE(n.endAt):s)}function NE(t){return{before:t.before,values:t.position}}function xE(t){var e=!!t.before,t=t.values||[];return new gw(t,e)}function PE(t){return{fieldPath:t.canonicalString()}}function DE(t){return cb.fromServerFormat(t.fieldPath)}function jE(t){return $b.create(DE(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wy()}}(),t.fieldFilter.value)}function LE(t){switch(t.unaryFilter.op){case"IS_NAN":var e=DE(t.unaryFilter.field);return $b.create(e,"==",{doubleValue:NaN});case"IS_NULL":return e=DE(t.unaryFilter.field),$b.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=DE(t.unaryFilter.field);return $b.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=DE(t.unaryFilter.field),$b.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wy()}}function FE(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function UE(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=BE(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return BE(e)}function BE(t){return t+"\x01\x01"}function qE(t){var e=t.length;if(Hy(2<=e),2===e)return Hy("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),sb.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Wy(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Wy()}o=a+2}return new sb(r)}function VE(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var KE=function(t,e){this.seconds=t,this.nanoseconds=e};function zE(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}function WE(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}VE.store="owner",VE.key="owner",zE.store="mutationQueues",zE.keyPath="userId",WE.store="mutations",WE.keyPath="batchId",WE.userMutationsIndex="userMutationsIndex",WE.userMutationsKeyPath=["userId","batchId"];var HE=(GE.prefixForUser=function(t){return[t]},GE.prefixForPath=function(t,e){return[t,UE(e)]},GE.key=function(t,e,n){return[t,UE(e),n]},GE);function GE(){}function QE(t,e){this.path=t,this.readTime=e}function YE(t,e){this.path=t,this.version=e}HE.store="documentMutations",HE.PLACEHOLDER=new HE;var XE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function $E(t){this.byteSize=t}function JE(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}XE.store="remoteDocuments",XE.readTimeIndex="readTimeIndex",XE.readTimeIndexPath="readTime",XE.collectionReadTimeIndex="collectionReadTimeIndex",XE.collectionReadTimeIndexPath=["parentPath","readTime"],$E.store="remoteDocumentGlobal",$E.key="remoteDocumentGlobalKey",JE.store="targets",JE.keyPath="targetId",JE.queryTargetsIndexName="queryTargetsIndex",JE.queryTargetsKeyPath=["canonicalId","targetId"];var ZE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};function tS(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function eS(t,e){this.collectionId=t,this.parent=e}function nS(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}function rS(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}function iS(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}ZE.store="targetDocuments",ZE.keyPath=["targetId","path"],ZE.documentTargetsIndex="documentTargetsIndex",ZE.documentTargetsKeyPath=["path","targetId"],tS.key="targetGlobalKey",tS.store="targetGlobal",eS.store="collectionParents",eS.keyPath=["collectionId","parent"],nS.store="clientMetadata",nS.keyPath="clientId",rS.store="bundles",rS.keyPath="bundleId",iS.store="namedQueries",iS.keyPath="name";var oS,aS=Ji(Ji([],Ji(Ji([],Ji(Ji([],Ji(Ji([],[zE.store,WE.store,HE.store,XE.store,JE.store,VE.store,tS.store,ZE.store]),[nS.store])),[$E.store])),[eS.store])),[rS.store,iS.store]),sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",H=(bS.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},bS.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},bS),uS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},cS=(yS.prototype.catch=function(t){return this.next(void 0,t)},yS.prototype.next=function(t,e){var n=this;return this.callbackAttached&&Wy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yS(function(r,i){n.nextCallback=function(e){n.wrapSuccess(t,e).next(r,i)},n.catchCallback=function(t){n.wrapFailure(e,t).next(r,i)}})},yS.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},yS.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof yS?e:yS.resolve(e)}catch(t){return yS.reject(t)}},yS.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):yS.resolve(e)},yS.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):yS.reject(e)},yS.resolve=function(t){return new yS(function(e,n){e(t)})},yS.reject=function(t){return new yS(function(e,n){n(t)})},yS.waitFor=function(t){return new yS(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},yS.or=function(t){for(var e=yS.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next(function(e){return e?yS.resolve(e):t()})}(r[n]);return e},yS.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},yS),hS=(gS.open=function(t,e,n,r){try{return new gS(e,t.transaction(r,n))}catch(t){throw new dS(e,t)}},Object.defineProperty(gS.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),gS.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(qy("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},gS.prototype.store=function(t){return t=this.transaction.objectStore(t),new _S(t)},gS),lS=(vS.delete=function(t){return qy("SimpleDb","Removing database:",t),SS(window.indexedDB.deleteDatabase(t)).toPromise()},vS.yt=function(){if("undefined"==typeof indexedDB)return!1;if(vS.gt())return!0;var t=fo(),e=vS._t(t),n=0<e&&e<10,e=vS.Et(t),e=0<e&&e<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||e)},vS.gt=function(){var t;return"undefined"!=typeof n&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/Sourav-KK/OLX-CLone--React",REACT_APP_API_KEY:"AIzaSyCf2DCN-BRZvrAvPiM5P3eGG1gu_2wUWLA",REACT_APP_APP_ID:"1:54842418554:web:d3f4ea73429f8da1fa22c3",REACT_APP_AUTH_DOMAIN:"olx-clone-e8c6a.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-7P8ERFWQK3",REACT_APP_MESSAGING_SENDER_ID:"54842418554",REACT_APP_PROJECT_ID:"olx-clone-e8c6a",REACT_APP_STORAGE_BUCKET:"olx-clone-e8c6a.appspot.com"}))||void 0===t?void 0:t.Tt)},vS.It=function(t,e){return t.store(e)},vS._t=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},vS.Et=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},vS.prototype.At=function(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(qy("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new dS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new Ly(jy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new dS(t,e))},i.onupgradeneeded=function(t){qy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){qy("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},vS.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},vS.prototype.runTransaction=function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u;return Yi(this,function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=c.sent(),e=hS.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),cS.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,qy("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},vS.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},vS),fS=(Object.defineProperty(mS.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(mS.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(mS.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),mS.prototype.done=function(){this.Vt=!0},mS.prototype.Ct=function(t){this.St=t},mS.prototype.delete=function(){return SS(this.Pt.delete())},mS),dS=(Hi(pS,oS=Ly),pS);function pS(t,e){var n=this;return(n=oS.call(this,jy.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function mS(t){this.Pt=t,this.Vt=!1,this.St=null}function vS(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===vS._t(fo())&&Vy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function gS(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new uS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new dS(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){e=IS(e.target.error),n.ft.reject(new dS(t,e))}}function yS(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function bS(){this.onCommittedListeners=[]}function wS(t){return"IndexedDbTransactionError"===t.name}var _S=(ES.prototype.put=function(t,e){return SS(t=void 0!==e?(qy("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(qy("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},ES.prototype.add=function(t){return qy("SimpleDb","ADD",this.store.name,t,t),SS(this.store.add(t))},ES.prototype.get=function(t){var e=this;return SS(this.store.get(t)).next(function(n){return qy("SimpleDb","GET",e.store.name,t,n=void 0===n?null:n),n})},ES.prototype.delete=function(t){return qy("SimpleDb","DELETE",this.store.name,t),SS(this.store.delete(t))},ES.prototype.count=function(){return qy("SimpleDb","COUNT",this.store.name),SS(this.store.count())},ES.prototype.Nt=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},ES.prototype.kt=function(t,e){return qy("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).Ft=!1,e=this.cursor(e),this.xt(e,function(t,e,n){return n.delete()})},ES.prototype.$t=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},ES.prototype.Ot=function(t){var e=this.cursor({});return new cS(function(n,r){e.onerror=function(t){t=IS(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},ES.prototype.xt=function(t,e){var n=[];return new cS(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new fS(o),(t=e(o.primaryKey,o.value,i))instanceof cS&&(t=t.catch(function(t){return i.done(),cS.reject(t)}),n.push(t)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}}).next(function(){return cS.waitFor(n)})},ES.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},ES.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},ES);function ES(t){this.store=t}function SS(t){return new cS(function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=IS(t.target.error),n(t)}})}var TS=!1;function IS(t){var e=lS._t(fo());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new Ly("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return TS||(TS=!0,setTimeout(function(){throw n},0)),n}return t}var MS,kS=(Hi(CS,MS=H),CS);function CS(t,e){var n=this;return(n=MS.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function AS(t,e){return lS.It(t.Mt,e)}var OS=(jS.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,a,s,u=e.mutationResults,c=0;c<this.mutations.length;c++){var h=this.mutations[c];h.key.isEqual(t.key)&&(n=h,r=t,i=u[c],h=s=a=o=void 0,n instanceof y_?(a=r,s=i,h=(o=n).value.clone(),o=S_(o.fieldTransforms,a,s.transformResults),h.setAll(o),a.convertToFoundDocument(s.version,h).setHasCommittedMutations()):n instanceof b_?(o=r,a=i,f_((s=n).precondition,o)?(h=S_(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(E_(s)),n.setAll(h),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},jS.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&d_(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&d_(r,t,this.localWriteTime)},jS.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),n=r;e.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Zy.min())})},jS.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},X_())},jS.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xy(this.mutations,t.mutations,p_)&&Xy(this.baseMutations,t.baseMutations,p_)},jS),RS=(DS.from=function(t,e,n){Hy(t.mutations.length===n.length);for(var r=Q_,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new DS(t,e,n,r)},DS),NS=(PS.prototype.withSequenceNumber=function(t){return new PS(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},PS.prototype.withResumeToken=function(t,e){return new PS(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},PS.prototype.withLastLimboFreeSnapshotVersion=function(t){return new PS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},PS),xS=function(t){this.Lt=t};function PS(t,e,n,r,i,o,a){void 0===i&&(i=Zy.min()),void 0===o&&(o=Zy.min()),void 0===a&&(a=lb.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function DS(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function jS(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function LS(t,e){if(e.document)return ME(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Mb.fromSegments(e.noDocument.path),r=VS(e.noDocument.readTime),n=Kb.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}return e.unknownDocument?(n=Mb.fromSegments(e.unknownDocument.path),r=VS(e.unknownDocument.version),Kb.newUnknownDocument(n,r)):Wy()}function FS(t,e,n){var r=US(n),n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:bE(o=t.Lt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:pE(o,a.version.toTimestamp())},o=e.hasCommittedMutations;return new XE(null,null,i,o,r,n)}if(e.isNoDocument()){var a=e.key.path.toArray(),i=qS(e.version),o=e.hasCommittedMutations;return new XE(null,new QE(a,i),null,o,r,n)}return e.isUnknownDocument()?(o=e.key.path.toArray(),e=qS(e.version),new XE(new YE(o,e),null,null,!0,r,n)):Wy()}function US(t){return[(t=t.toTimestamp()).seconds,t.nanoseconds]}function BS(t){return t=new Jy(t[0],t[1]),Zy.fromTimestamp(t)}function qS(t){return t=t.toTimestamp(),new KE(t.seconds,t.nanoseconds)}function VS(t){return t=new Jy(t.seconds,t.nanoseconds),Zy.fromTimestamp(t)}function KS(t,e){for(var n=(e.baseMutations||[]).map(function(e){return CE(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i,o=e.mutations[r];r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(i=e.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r+1,1),++r)}var a=e.mutations.map(function(e){return CE(t.Lt,e)}),s=Jy.fromMillis(e.localWriteTimeMs);return new OS(e.batchId,s,n,a)}function zS(t){var e=VS(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?VS(t.lastLimboFreeSnapshotVersion):Zy.min(),r=void 0!==t.query.documents?(Hy(1===(r=t.query).documents.length),Dw(Cw(EE(r.documents[0])))):Dw(RE(t.query));return new NS(r,t.targetId,0,t.lastListenSequenceNumber,e,n,lb.fromBase64String(t.resumeToken))}function WS(t,e){var n=qS(e.snapshotVersion),r=qS(e.lastLimboFreeSnapshotVersion),i=(Yb(e.target)?AE:OE)(t.Lt,e.target),t=e.resumeToken.toBase64();return new JE(e.targetId,Gb(e.target),n,t,e.sequenceNumber,r,i)}function HS(t){var e=RE({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jw(e,e.limit,"L"):e}var GS=(QS.prototype.getBundleMetadata=function(t,e){return YS(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:VS(t.createTime),version:t.version}})},QS.prototype.saveBundleMetadata=function(t,e){return YS(t).put({bundleId:(e=e).id,createTime:qS(vE(e.createTime)),version:e.version})},QS.prototype.getNamedQuery=function(t,e){return XS(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:HS(t.bundledQuery),readTime:VS(t.readTime)}})},QS.prototype.saveNamedQuery=function(t,e){return XS(t).put({name:(e=e).name,readTime:qS(vE(e.readTime)),bundledQuery:e.bundledQuery})},QS);function QS(){}function YS(t){return AS(t,rS.store)}function XS(t){return AS(t,iS.store)}var $S=(nT.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),cS.resolve()},nT.prototype.getCollectionParents=function(t,e){return cS.resolve(this.Bt.getEntries(e))},nT),JS=(eT.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new V_(sb.comparator),t=!r.has(n);return this.index[e]=r.add(n),t},eT.prototype.has=function(t){var e=t.lastSegment(),t=t.popLast(),e=this.index[e];return e&&e.has(t)},eT.prototype.getEntries=function(t){return(this.index[t]||new V_(sb.comparator)).toArray()},eT),ZS=(tT.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return cS.resolve();var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.qt.add(e)}),i={collectionId:r,parent:UE(i)},rT(t).put(i)},tT.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[$y(e),""],!1,!0);return rT(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(qE(o.parent))}return n})},tT);function tT(){this.qt=new JS}function eT(){this.index={}}function nT(){this.Bt=new JS}function rT(t){return AS(t,eS.store)}var iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=(aT.withCacheSize=function(t){return new aT(t,aT.DEFAULT_COLLECTION_PERCENTILE,aT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},aT);function aT(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function sT(t,e,n){var r=t.store(WE.store),i=t.store(HE.store),o=[],t=IDBKeyRange.only(n.batchId),a=0,t=r.$t({range:t},function(t,e,n){return a++,n.delete()});o.push(t.next(function(){Hy(1===a)}));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=HE.key(e,h.key.path,n.batchId);o.push(i.delete(l)),s.push(h.key)}return cS.waitFor(o).next(function(){return s})}function uT(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wy();e=t.noDocument}return JSON.stringify(e).length}oT.DEFAULT_COLLECTION_PERCENTILE=10,oT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oT.DEFAULT=new oT(41943040,oT.DEFAULT_COLLECTION_PERCENTILE,oT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oT.DISABLED=new oT(-1,0,0);var cT=(hT.Qt=function(t,e,n,r){return Hy(""!==t.uid),new hT(t.isAuthenticated()?t.uid:"",e,n,r)},hT.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fT(t).$t({index:WE.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},hT.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=dT(t),a=fT(t);return a.add({}).next(function(s){Hy("number"==typeof s);for(var u,c,h,l,f,d=new OS(s,e,n,r),p=(u=i.R,c=i.userId,l=(h=d).baseMutations.map(function(t){return kE(u.Lt,t)}),f=h.mutations.map(function(t){return kE(u.Lt,t)}),new WE(c,h.batchId,h.localWriteTime.toMillis(),l,f)),m=[],v=new V_(function(t,e){return Yy(t.canonicalString(),e.canonicalString())}),g=0,y=r;g<y.length;g++){var b=y[g],w=HE.key(i.userId,b.key.path,s),v=v.add(b.key.path.popLast());m.push(a.put(p)),m.push(o.put(w,HE.PLACEHOLDER))}return v.forEach(function(e){m.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=d.keys()}),cS.waitFor(m).next(function(){return d})})},hT.prototype.lookupMutationBatch=function(t,e){var n=this;return fT(t).get(e).next(function(t){return t?(Hy(t.userId===n.userId),KS(n.R,t)):null})},hT.prototype.jt=function(t,e){var n=this;return this.Kt[e]?cS.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){return t?(t=t.keys(),n.Kt[e]=t):null})},hT.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,e=IDBKeyRange.lowerBound([this.userId,r]),i=null;return fT(t).$t({index:WE.userMutationsIndex,range:e},function(t,e,o){e.userId===n.userId&&(Hy(e.batchId>=r),i=KS(n.R,e)),o.done()}).next(function(){return i})},hT.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fT(t).$t({index:WE.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},hT.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fT(t).Nt(WE.userMutationsIndex,n).next(function(t){return t.map(function(t){return KS(e.R,t)})})},hT.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=HE.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(r),i=[];return dT(t).$t({range:r},function(r,o,a){var s=r[0],u=r[1],r=r[2],u=qE(u);if(s===n.userId&&e.path.isEqual(u))return fT(t).get(r).next(function(t){if(!t)throw Wy();Hy(t.userId===n.userId),i.push(KS(n.R,t))});a.done()}).next(function(){return i})},hT.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new V_(Yy),i=[];return e.forEach(function(e){var o=HE.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(o),o=dT(t).$t({range:o},function(t,i,o){var a=t[0],s=t[1],t=t[2],s=qE(s);a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()});i.push(o)}),cS.waitFor(i).next(function(){return n.Wt(t,r)})},hT.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,e=HE.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),o=new V_(Yy);return dT(t).$t({range:e},function(t,e,a){var s=t[0],u=t[1],t=t[2],u=qE(u);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(t)):a.done()}).next(function(){return n.Wt(t,o)})},hT.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(fT(t).get(e).next(function(t){if(null===t)throw Wy();Hy(t.userId===n.userId),r.push(KS(n.R,t))}))}),cS.waitFor(i).next(function(){return r})},hT.prototype.removeMutationBatch=function(t,e){var n=this;return sT(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),cS.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},hT.prototype.Gt=function(t){delete this.Kt[t]},hT.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return cS.resolve();var n=IDBKeyRange.lowerBound(HE.prefixForUser(e.userId)),r=[];return dT(t).$t({range:n},function(t,n,i){t[0]===e.userId?(t=qE(t[1]),r.push(t)):i.done()}).next(function(){Hy(0===r.length)})})},hT.prototype.containsKey=function(t,e){return lT(t,this.userId,e)},hT.prototype.zt=function(t){var e=this;return pT(t).get(this.userId).next(function(t){return t||new zE(e.userId,-1,"")})},hT);function hT(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}function lT(t,e,n){var n=HE.prefixForPath(e,n.path),r=n[1],n=IDBKeyRange.lowerBound(n),i=!1;return dT(t).$t({range:n,Ft:!0},function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()}).next(function(){return i})}function fT(t){return AS(t,WE.store)}function dT(t){return AS(t,HE.store)}function pT(t){return AS(t,zE.store)}var mT=(yT.prototype.next=function(){return this.Ht+=2,this.Ht},yT.Jt=function(){return new yT(0)},yT.Yt=function(){return new yT(-1)},yT),vT=(gT.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new mT(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},gT.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Zy.fromTimestamp(new Jy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},gT.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},gT.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},gT.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},gT.prototype.updateTargetData=function(t,e){return this.te(t,e)},gT.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return bT(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Hy(0<e.targetCount),--e.targetCount,n.Zt(t,e)})},gT.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return bT(t).$t(function(a,s){(s=zS(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(t,s)))}).next(function(){return cS.waitFor(o)}).next(function(){return i})},gT.prototype.forEachTarget=function(t,e){return bT(t).$t(function(t,n){n=zS(n),e(n)})},gT.prototype.Xt=function(t){return wT(t).get(tS.key).next(function(t){return Hy(null!==t),t})},gT.prototype.Zt=function(t,e){return wT(t).put(tS.key,e)},gT.prototype.te=function(t,e){return bT(t).put(WS(this.R,e))},gT.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},gT.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},gT.prototype.getTargetData=function(t,e){var n=Gb(e),n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return bT(t).$t({range:n,index:JE.queryTargetsIndexName},function(t,n,i){n=zS(n),Qb(e,n.target)&&(r=n,i.done())}).next(function(){return r})},gT.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=_T(t);return e.forEach(function(e){var a=UE(e.path);i.push(o.put(new ZE(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),cS.waitFor(i)},gT.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=_T(t);return cS.forEach(e,function(e){var o=UE(e.path);return cS.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},gT.prototype.removeMatchingKeysForTargetId=function(t,e){return t=_T(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},gT.prototype.getMatchingKeysForTargetId=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=_T(t),n=X_();return t.$t({range:e,Ft:!0},function(t,e,r){t=qE(t[1]),t=new Mb(t),n=n.add(t)}).next(function(){return n})},gT.prototype.containsKey=function(t,e){var e=UE(e.path),e=IDBKeyRange.bound([e],[$y(e)],!1,!0),n=0;return _T(t).$t({index:ZE.documentTargetsIndex,Ft:!0,range:e},function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())}).next(function(){return 0<n})},gT.prototype.lt=function(t,e){return bT(t).get(e).next(function(t){return t?zS(t):null})},gT);function gT(t,e){this.referenceDelegate=t,this.R=e}function yT(t){this.Ht=t}function bT(t){return AS(t,JE.store)}function wT(t){return AS(t,tS.store)}function _T(t){return AS(t,ZE.store)}function ET(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){if(t.code!==jy.FAILED_PRECONDITION||t.message!==sS)throw t;return qy("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ST(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=Yy(n,t);return 0===t?Yy(r,e):t}var TT=(RT.prototype.ie=function(){return++this.se},RT.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):ST(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(RT.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),RT),IT=(OT.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},OT.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(OT.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),OT.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;qy("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Qi(e,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return wS(e=n.sent())?(qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ET(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},OT),MT=(AT.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},AT.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return cS.resolve(xy.o);var r=new TT(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},AT.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},AT.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},AT.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; disabled"),cS.resolve(iT)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),iT):n.fe(t,e)})},AT.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},AT.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return r=e>c.params.maximumSequenceNumbersToCollect?(qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),c.params.maximumSequenceNumbersToCollect):e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),By()<=aa.DEBUG&&qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),cS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},AT),kT=(CT.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},CT.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},CT.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},CT.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},CT.prototype.addReference=function(t,e,n){return NT(t,n)},CT.prototype.removeReference=function(t,e,n){return NT(t,n)},CT.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},CT.prototype.markPotentiallyOrphaned=NT,CT.prototype._e=function(t,e){return r=e,i=!1,pT(n=t).Ot(function(t){return lT(n,t,r).next(function(t){return t&&(i=!0),cS.resolve(!t)})}).next(function(){return i});var n,r,i},CT.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){s<=e&&(s=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),_T(t).delete([0,UE(a.path)])})}),i.push(s))}).next(function(){return cS.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},CT.prototype.removeTarget=function(t,e){return e=e.withSequenceNumber(t.currentSequenceNumber),this.db.getTargetCache().updateTargetData(t,e)},CT.prototype.updateLimboDocument=NT,CT.prototype.we=function(t,e){var n,t=_T(t),r=xy.o;return t.$t({index:ZE.documentTargetsIndex},function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==xy.o&&e(new Mb(qE(n)),r),r=i,n=t):r=xy.o}).next(function(){r!==xy.o&&e(new Mb(qE(n)),r)})},CT.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},CT);function CT(t,e){this.db=t,this.garbageCollector=new MT(this,e)}function AT(t,e){this.ae=t,this.params=e}function OT(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function RT(t){this.ne=t,this.buffer=new V_(ST),this.se=0}function NT(t,e){return _T(t).put((t=t.currentSequenceNumber,new ZE(0,UE(e.path),t)))}var xT,PT=(BT.prototype.get=function(t){var e=this.mapKeyFn(t),e=this.inner[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.equalsFn(o,t))return i}},BT.prototype.has=function(t){return void 0!==this.get(t)},BT.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},BT.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},BT.prototype.forEach=function(t){rb(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],o=o[1];t(a,o)}})},BT.prototype.isEmpty=function(){return ib(this.inner)},BT),G=(UT.prototype.getReadTime=function(t){return(t=this.changes.get(t))?t.readTime:Zy.min()},UT.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},UT.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Kb.newInvalidDocument(t),readTime:e})},UT.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?cS.resolve(n.document):this.getFromCache(t,e)},UT.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},UT.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},UT.prototype.assertNotApplied=function(){},UT),DT=(FT.prototype.addEntry=function(t,e,n){return VT(t).put(KT(e),n)},FT.prototype.removeEntry=function(t,e){return t=VT(t),e=KT(e),t.delete(e)},FT.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},FT.prototype.getEntry=function(t,e){var n=this;return VT(t).get(KT(e)).next(function(t){return n.ye(e,t)})},FT.prototype.ge=function(t,e){var n=this;return VT(t).get(KT(e)).next(function(t){return{document:n.ye(e,t),size:uT(t)}})},FT.prototype.getEntries=function(t,e){var n=this,r=z_;return this.pe(t,e,function(t,e){e=n.ye(t,e),r=r.insert(t,e)}).next(function(){return r})},FT.prototype.Ee=function(t,e){var n=this,r=z_,i=new D_(Mb.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,uT(e))}).next(function(){return{documents:r,Te:i}})},FT.prototype.pe=function(t,e,n){if(e.isEmpty())return cS.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return VT(t).$t({range:r},function(t,e,r){for(var a=Mb.fromSegments(t);o&&Mb.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},FT.prototype.getDocumentsMatchingQuery=function(t,e,n){var r,i=this,o=z_,a=e.path.length+1,s={};return n.isEqual(Zy.min())?(r=e.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.toArray(),n=US(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=XE.collectionReadTimeIndex),VT(t).$t(s,function(t,n,r){t.length===a&&(n=LS(i.R,n),e.path.isPrefixOf(n.key.path)?Bw(e,n)&&(o=o.insert(n.key,n)):r.done())}).next(function(){return o})},FT.prototype.newChangeBuffer=function(t){return new jT(this,!!t&&t.trackRemovals)},FT.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},FT.prototype.getMetadata=function(t){return qT(t).get($E.key).next(function(t){return Hy(!!t),t})},FT.prototype.me=function(t,e){return qT(t).put($E.key,e)},FT.prototype.ye=function(t,e){return!e||(e=LS(this.R,e)).isNoDocument()&&e.version.isEqual(Zy.min())?Kb.newInvalidDocument(t):e},FT),jT=(Hi(LT,xT=G),LT.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new V_(function(t,e){return Yy(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s,u=e.Ae.get(o);a.document.isValidDocument()?(s=FS(e.Ie.R,a.document,e.getReadTime(o)),i=i.add(o.path.popLast()),a=uT(s),r+=a-u,n.push(e.Ie.addEntry(t,o,s))):(r-=u,e.trackRemovals?(u=FS(e.Ie.R,Kb.newNoDocument(o,Zy.min()),e.getReadTime(o)),n.push(e.Ie.addEntry(t,o,u))):n.push(e.Ie.removeEntry(t,o)))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),cS.waitFor(n)},LT.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},LT.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},LT);function LT(t,e){var n=this;return(n=xT.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new PT(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function FT(t,e){this.R=t,this.Ut=e}function UT(){this.changes=new PT(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function BT(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function qT(t){return AS(t,$E.store)}function VT(t){return AS(t,XE.store)}function KT(t){return t.path.toArray()}var zT=(WT.prototype.Rt=function(t,e,n,r){var i=this;Hy(n<r&&0<=n&&r<=11);var o=new hS("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(VE.store),(a=t).createObjectStore(zE.store,{keyPath:zE.keyPath}),a.createObjectStore(WE.store,{keyPath:WE.keyPath,autoIncrement:!0}).createIndex(WE.userMutationsIndex,WE.userMutationsKeyPath,{unique:!0}),a.createObjectStore(HE.store),HT(t),t.createObjectStore(XE.store));var a,s=cS.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(ZE.store),a.deleteObjectStore(JE.store),a.deleteObjectStore(tS.store),HT(t)),s=s.next(function(){return t=o.store(tS.store),e=new tS(0,0,Zy.min().toTimestamp(),0),t.put(tS.key,e);var t,e})),n<4&&4<=r&&(s=(s=0!==n?s.next(function(){return e=t,(n=o).store(WE.store).Nt().next(function(t){e.deleteObjectStore(WE.store),e.createObjectStore(WE.store,{keyPath:WE.keyPath,autoIncrement:!0}).createIndex(WE.userMutationsIndex,WE.userMutationsKeyPath,{unique:!0});var r=n.store(WE.store),t=t.map(function(t){return r.put(t)});return cS.waitFor(t)});var e,n}):s).next(function(){t.createObjectStore(nS.store,{keyPath:nS.keyPath})})),n<5&&5<=r&&(s=s.next(function(){return i.Re(o)})),n<6&&6<=r&&(s=s.next(function(){return t.createObjectStore($E.store),i.be(o)})),n<7&&7<=r&&(s=s.next(function(){return i.ve(o)})),n<8&&8<=r&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&9<=r&&(s=s.next(function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(XE.store)).createIndex(XE.readTimeIndex,XE.readTimeIndexPath,{unique:!1}),n.createIndex(XE.collectionReadTimeIndex,XE.collectionReadTimeIndexPath,{unique:!1})})),n<10&&10<=r&&(s=s.next(function(){return i.Ve(o)})),s=n<11&&11<=r?s.next(function(){t.createObjectStore(rS.store,{keyPath:rS.keyPath}),t.createObjectStore(iS.store,{keyPath:iS.keyPath})}):s},WT.prototype.be=function(t){var e=0;return t.store(XE.store).$t(function(t,n){e+=uT(n)}).next(function(){var n=new $E(e);return t.store($E.store).put($E.key,n)})},WT.prototype.Re=function(t){var e=this,n=t.store(zE.store),r=t.store(WE.store);return n.Nt().next(function(n){return cS.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(WE.userMutationsIndex,i).next(function(r){return cS.forEach(r,function(r){return Hy(r.userId===n.userId),r=KS(e.R,r),sT(t,n.userId,r).next(function(){})})})})})},WT.prototype.ve=function(t){var e=t.store(ZE.store),n=t.store(XE.store);return t.store(tS.store).get(tS.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new sb(n),n=[0,UE(o)];r.push(e.get(n).next(function(n){return n?cS.resolve():e.put(new ZE(0,UE(o),t.highestListenSequenceNumber))}))}).next(function(){return cS.waitFor(r)})})},WT.prototype.Pe=function(t,e){function n(t){if(i.add(t)){var e=t.lastSegment(),t=t.popLast();return r.put({collectionId:e,parent:UE(t)})}}t.createObjectStore(eS.store,{keyPath:eS.keyPath});var r=e.store(eS.store),i=new JS;return e.store(XE.store).$t({Ft:!0},function(t,e){return n((t=new sb(t)).popLast())}).next(function(){return e.store(HE.store).$t({Ft:!0},function(t,e){t[0];var r=t[1];return t[2],n((r=qE(r)).popLast())})})},WT.prototype.Ve=function(t){var e=this,n=t.store(JE.store);return n.$t(function(t,r){return r=zS(r),r=WS(e.R,r),n.put(r)})},WT);function WT(t){this.R=t}function HT(t){t.createObjectStore(ZE.store,{keyPath:ZE.keyPath}).createIndex(ZE.documentTargetsIndex,ZE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(JE.store,{keyPath:JE.keyPath}).createIndex(JE.queryTargetsIndexName,JE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(tS.store)}var GT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QT=(YT.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ly(jy.FAILED_PRECONDITION,GT);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new xy(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},YT.prototype.He=function(t){var e=this;return this.Me=function(n){return Qi(e,void 0,void 0,function(){return Yi(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},YT.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Qi(e,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},YT.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Qi(e,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},YT.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $T(e).put(new nS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(wS(e))return qy("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},YT.prototype.Je=function(t){var e=this;return XT(t).get(VE.key).next(function(t){return cS.resolve(e.tn(t))})},YT.prototype.en=function(t){return $T(t).delete(this.clientId)},YT.prototype.nn=function(){return Qi(this,void 0,void 0,function(){var t,e,n,r,i=this;return Yi(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=AS(t,nS.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return cS.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},YT.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},YT.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},YT.prototype.Ye=function(t){var e=this;return this.Ce?cS.resolve(!0):XT(t).get(VE.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ly(jy.FAILED_PRECONDITION,GT);return!1}}return!(!e.networkEnabled||!e.inForeground)||$T(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,t=e.networkEnabled===t.networkEnabled;if(n||r&&t)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&qy("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},YT.prototype.shutdown=function(){return Qi(this,void 0,void 0,function(){var t=this;return Yi(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[VE.store,nS.store],function(e){var n=new kS(e,xy.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},YT.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},YT.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return $T(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(YT.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),YT.prototype.getMutationQueue=function(t){return cT.Qt(t,this.R,this.Ut,this.referenceDelegate)},YT.prototype.getTargetCache=function(){return this.qe},YT.prototype.getRemoteDocumentCache=function(){return this.Ue},YT.prototype.getIndexManager=function(){return this.Ut},YT.prototype.getBundleCache=function(){return this.Ke},YT.prototype.runTransaction=function(t,e,n){var r,i=this;return qy("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",aS,function(o){return r=new kS(o,i.Ne?i.Ne.next():xy.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Vy("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ly(jy.FAILED_PRECONDITION,sS);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},YT.prototype.dn=function(t){var e=this;return XT(t).get(VE.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ly(jy.FAILED_PRECONDITION,GT)})},YT.prototype.Ze=function(t){var e=new VE(this.clientId,this.allowTabSynchronization,Date.now());return XT(t).put(VE.key,e)},YT.yt=function(){return lS.yt()},YT.prototype.Xe=function(t){var e=this,n=XT(t);return n.get(VE.key).next(function(t){return e.tn(t)?(qy("IndexedDbPersistence","Releasing primary lease."),n.delete(VE.key)):cS.resolve()})},YT.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Vy("Detected an update time that is in the future: "+t+" > "+n),1))},YT.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},YT.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},YT.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!mo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},YT.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},YT.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return qy("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vy("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},YT.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vy("Failed to set zombie client id.",t)}},YT.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},YT.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},YT);function YT(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!YT.yt())throw new Ly(jy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kT(this,r),this.Le=e+"main",this.R=new xS(s),this.Be=new lS(this.Le,11,new zT(this.R)),this.qe=new vT(this.referenceDelegate,this.R),this.Ut=new ZS,this.Ue=(e=this.R,s=this.Ut,new DT(e,s)),this.Ke=new GS,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Vy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function XT(t){return AS(t,VE.store)}function $T(t){return AS(t,nS.store)}function JT(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function ZT(t,e){this.progress=t,this.wn=e}var tI=(sI.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},sI.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},sI.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},sI.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},sI.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},sI.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,Mb.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):xw(e)?this.In(t,e,n):this.An(t,e,n);var r},sI.prototype.Tn=function(t,e){return this.mn(t,new Mb(e)).next(function(t){var e=G_;return e=t.isFoundDocument()?e.insert(t.key,t):e})},sI.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=G_;return this.Ut.getCollectionParents(t,i).next(function(a){return cS.forEach(a,function(a){var s=(s=e,a=a.child(i),new Mw(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},sI.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=Kb.newInvalidDocument(c),r=r.insert(c,h)),d_(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Bw(e,n)||(r=r.remove(t))}),r})},sI.prototype.Rn=function(t,e,n){for(var r=X_(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof b_&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},sI),eI=(aI.Pn=function(t,e){for(var n=X_(),r=X_(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new aI(t,e.fromCache,n,r)},aI),nI=(oI.prototype.Vn=function(t){this.Sn=t},oI.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(Zy.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Aw(e)||Ow(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(By()<=aa.DEBUG&&qy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Uw(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},oI.prototype.Cn=function(t,e){var n=new V_(qw(t));return e.forEach(function(e,r){Bw(t,r)&&(n=n.add(r))}),n},oI.prototype.Nn=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.compareTo(r))},oI.prototype.Dn=function(t,e){return By()<=aa.DEBUG&&qy("QueryEngine","Using full collection scan to execute query:",Uw(e)),this.Sn.getDocumentsMatchingQuery(t,e,Zy.min())},oI),rI=(iI.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},iI);function iI(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new D_(Yy),this.Fn=new PT(Gb,Qb),this.$n=Zy.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new tI(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}function oI(){}function aI(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function sI(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function uI(t,e,n,r){return new rI(t,e,n,r)}function cI(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new tI(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=X_(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++)var f=l[h],a=a.add(f.key)}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function hI(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r,i,o,a,s,u,c,h=e.batch.keys(),l=n.On.newChangeBuffer({trackRemovals:!0});return r=n,i=t,a=l,s=(o=e).batch,u=s.keys(),c=cS.resolve(),u.forEach(function(t){c=c.next(function(){return a.getEntry(i,t)}).next(function(e){var n=o.docVersions.get(t);Hy(null!==n),e.version.compareTo(n)<0&&(s.applyToRemoteDocument(e,o),e.isValidDocument()&&a.addEntry(e,o.commitVersion))})}),c.next(function(){return r._n.removeMutationBatch(i,s)}).next(function(){return l.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,h)})})}function lI(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fI(t,e){var n=t,r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach(function(e,o){var s,u,c,h=i.get(o);h&&(a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})),0<(c=e.resumeToken).approximateByteSize()&&(s=h.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber),i=i.insert(o,s),u=h,c=e,Hy(0<(h=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=h.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(t,s))))});var s,u=z_;return e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(dI(t,o,e.documentUpdates,r,void 0).next(function(t){u=t})),r.isEqual(Zy.min())||(s=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}),a.push(s)),cS.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,u)}).next(function(){return u})}).then(function(t){return n.kn=i,t})}function dI(t,e,n,r,i){var o=X_();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=z_;return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Zy.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):qy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function pI(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,cS.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new NS(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||0<t.snapshotVersion.compareTo(r.snapshotVersion))&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function mI(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o;return Yi(this,function(a){switch(a.label){case 0:i=(r=t).kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!wS(o=a.sent()))throw o;return qy("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function vI(t,e,n){var r=t,i=Zy.min(),o=X_();return r.persistence.runTransaction("Execute query","readonly",function(t){return a=r,s=t,u=Dw(e),(void 0!==(a=(c=a).Fn.get(u))?cS.resolve(c.kn.get(a)):c.qe.getTargetData(s,u)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Zy.min(),n?o:X_())}).next(function(t){return{documents:t,Bn:o}});var a,s,u,c})}function gI(t,e){var n=t,r=n.qe,t=n.kn.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function yI(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",function(t){return n=e.On,r=t,t=e.$n,i=n,o=z_,a=US(t),t=VT(r),r=IDBKeyRange.lowerBound(a,!0),t.$t({index:XE.readTimeIndex,range:r},function(t,e){var n=LS(i.R,e);o=o.insert(n.key,n),a=e.readTime}).next(function(){return{wn:o,readTime:BS(a)}});var n,r,i,o,a}).then(function(t){var n=t.wn,t=t.readTime;return e.$n=t,n})}function bI(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=VT(t),e=Zy.min(),t.$t({index:XE.readTimeIndex,reverse:!0},function(t,n,r){n.readTime&&(e=BS(n.readTime)),r.done()}).next(function(){return e});var e}).then(function(t){e.$n=t})]})})}var wI,_I,EI=(KI.prototype.getBundleMetadata=function(t,e){return cS.resolve(this.Qn.get(e))},KI.prototype.saveBundleMetadata=function(t,e){return this.Qn.set(e.id,{id:e.id,version:e.version,createTime:vE(e.createTime)}),cS.resolve()},KI.prototype.getNamedQuery=function(t,e){return cS.resolve(this.jn.get(e))},KI.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:HS(e.bundledQuery),readTime:vE(e.readTime)}),cS.resolve()},KI),SI=(VI.prototype.isEmpty=function(){return this.Wn.isEmpty()},VI.prototype.addReference=function(t,e){e=new TI(t,e),this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},VI.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},VI.prototype.removeReference=function(t,e){this.Yn(new TI(t,e))},VI.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},VI.prototype.Zn=function(t){var e=this,n=new Mb(new sb([])),r=new TI(n,t),t=new TI(n,t+1),i=[];return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},VI.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},VI.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},VI.prototype.es=function(t){var e=new Mb(new sb([])),n=new TI(e,t),t=new TI(e,t+1),r=X_();return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},VI.prototype.containsKey=function(t){var e=new TI(t,0),e=this.Wn.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)},VI),TI=(qI.Gn=function(t,e){return Mb.comparator(t.key,e.key)||Yy(t.ns,e.ns)},qI.Hn=function(t,e){return Yy(t.ns,e.ns)||Mb.comparator(t.key,e.key)},qI),II=(BI.prototype.checkEmpty=function(t){return cS.resolve(0===this._n.length)},BI.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new OS(i,e,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new TI(s.key,i)),this.Ut.addToCollectionParentIndex(t,s.key.path.popLast())}return cS.resolve(n)},BI.prototype.lookupMutationBatch=function(t,e){return cS.resolve(this.os(e))},BI.prototype.getNextMutationBatchAfterBatchId=function(t,e){return e=(e=this.cs(e+1))<0?0:e,cS.resolve(this._n.length>e?this._n[e]:null)},BI.prototype.getHighestUnacknowledgedBatchId=function(){return cS.resolve(0===this._n.length?-1:this.ss-1)},BI.prototype.getAllMutationBatches=function(t){return cS.resolve(this._n.slice())},BI.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new TI(e,0),e=new TI(e,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns),i.push(t)}),cS.resolve(i)},BI.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new V_(Yy);return e.forEach(function(t){var e=new TI(t,0),t=new TI(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),cS.resolve(this.us(r))},BI.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,e=n;Mb.isDocumentKey(e)||(e=e.child(""));var e=new TI(new Mb(e),0),i=new V_(Yy);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),cS.resolve(this.us(i))},BI.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){null!==(t=e.os(t))&&n.push(t)}),n},BI.prototype.removeMutationBatch=function(t,e){var n=this;Hy(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return cS.forEach(e.mutations,function(i){var o=new TI(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},BI.prototype.Gt=function(t){},BI.prototype.containsKey=function(t,e){var n=new TI(e,0),n=this.rs.firstAfterOrEqual(n);return cS.resolve(e.isEqual(n&&n.key))},BI.prototype.performConsistencyCheck=function(t){return this._n.length,cS.resolve()},BI.prototype.hs=function(t,e){return this.cs(t)},BI.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},BI.prototype.os=function(t){return(t=this.cs(t))<0||t>=this._n.length?null:this._n[t]},BI),MI=(UI.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:i,readTime:n}),this.size+=i-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},UI.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},UI.prototype.getEntry=function(t,e){var n=this.docs.get(e);return cS.resolve(n?n.document.clone():Kb.newInvalidDocument(e))},UI.prototype.getEntries=function(t,e){var n=this,r=z_;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Kb.newInvalidDocument(t))}),cS.resolve(r)},UI.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=z_,i=new Mb(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,a=u.document,u=u.readTime;if(!e.path.isPrefixOf(s.path))break;u.compareTo(n)<=0||Bw(e,a)&&(r=r.insert(a.key,a.clone()))}return cS.resolve(r)},UI.prototype.fs=function(t,e){return cS.forEach(this.docs,function(t){return e(t)})},UI.prototype.newChangeBuffer=function(t){return new kI(this)},UI.prototype.getSize=function(t){return cS.resolve(this.size)},UI),kI=(Hi(FI,_I=G),FI.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),cS.waitFor(n)},FI.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},FI.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},FI),CI=(LI.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),cS.resolve()},LI.prototype.getLastRemoteSnapshotVersion=function(t){return cS.resolve(this.lastRemoteSnapshotVersion)},LI.prototype.getHighestSequenceNumber=function(t){return cS.resolve(this.ws)},LI.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),cS.resolve(this.highestTargetId)},LI.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),cS.resolve()},LI.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new mT(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},LI.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,cS.resolve()},LI.prototype.updateTargetData=function(t,e){return this.te(e),cS.resolve()},LI.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,cS.resolve()},LI.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),cS.waitFor(o).next(function(){return i})},LI.prototype.getTargetCount=function(t){return cS.resolve(this.targetCount)},LI.prototype.getTargetData=function(t,e){return e=this.ds.get(e)||null,cS.resolve(e)},LI.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),cS.resolve()},LI.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),cS.waitFor(i)},LI.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),cS.resolve()},LI.prototype.getMatchingKeysForTargetId=function(t,e){return e=this._s.es(e),cS.resolve(e)},LI.prototype.containsKey=function(t,e){return cS.resolve(this._s.containsKey(e))},LI),AI=(jI.prototype.start=function(){return Promise.resolve()},jI.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(jI.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),jI.prototype.setDatabaseDeletedListener=function(){},jI.prototype.setNetworkEnabled=function(){},jI.prototype.getIndexManager=function(){return this.Ut},jI.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new II(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},jI.prototype.getTargetCache=function(){return this.qe},jI.prototype.getRemoteDocumentCache=function(){return this.Ue},jI.prototype.getBundleCache=function(){return this.Ke},jI.prototype.runTransaction=function(t,e,n){var r=this;qy("MemoryPersistence","Starting transaction:",t);var i=new OI(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},jI.prototype.Is=function(t,e){return cS.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},jI),OI=(Hi(DI,wI=H),DI),RI=(PI.bs=function(t){return new PI(t)},Object.defineProperty(PI.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wy()},enumerable:!1,configurable:!0}),PI.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),cS.resolve()},PI.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),cS.resolve()},PI.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),cS.resolve()},PI.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},PI.prototype.Es=function(){this.Rs=new Set},PI.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cS.forEach(this.vs,function(r){var i=Mb.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},PI.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},PI.prototype.ps=function(t){return 0},PI.prototype.Ps=function(t,e){var n=this;return cS.or([function(){return cS.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},PI),NI=(xI.prototype.isAuthenticated=function(){return null!=this.uid},xI.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},xI.prototype.isEqual=function(t){return t.uid===this.uid},xI);function xI(t){this.uid=t}function PI(t){this.persistence=t,this.As=new SI,this.Rs=null}function DI(t){var e=this;return(e=wI.call(this)||this).currentSequenceNumber=t,e}function jI(t,e){var n=this;this.gs={},this.Ne=new xy(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new CI(this),this.Ut=new $S,this.Ue=(t=this.Ut,new MI(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new xS(e),this.Ke=new EI(this.R)}function LI(t){this.persistence=t,this.ds=new PT(Gb,Qb),this.lastRemoteSnapshotVersion=Zy.min(),this.highestTargetId=0,this.ws=0,this._s=new SI,this.targetCount=0,this.ys=mT.Jt()}function FI(t){var e=this;return(e=_I.call(this)||this).Ie=t,e}function UI(t,e){this.Ut=t,this.ls=e,this.docs=new D_(Mb.comparator),this.size=0}function BI(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new V_(TI.Gn)}function qI(t,e){this.key=t,this.ns=e}function VI(){this.Wn=new V_(TI.Gn),this.zn=new V_(TI.Hn)}function KI(t){this.R=t,this.Qn=new Map,this.jn=new Map}function zI(t,e){return"firestore_clients_"+t+"_"+e}function WI(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.isAuthenticated()&&(n+="_"+e.uid),n}function HI(t,e){return"firestore_targets_"+t+"_"+e}NI.UNAUTHENTICATED=new NI(null),NI.GOOGLE_CREDENTIALS=new NI("google-credentials-uid"),NI.FIRST_PARTY=new NI("first-party-uid"),NI.MOCK_USER=new NI("mock-user");var GI,QI=(gM.Vs=function(t,e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ly(i.error.code,i.error.message)),o?new gM(t,e,i.state,r):(Vy("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},gM.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},gM),YI=(vM.Vs=function(t,e){var n,r=JSON.parse(e),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Ly(r.error.code,r.error.message)),i?new vM(t,r.state,n):(Vy("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},vM.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},vM),XI=(mM.Vs=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=$_,o=0;r&&o<n.activeTargetIds.length;++o)r=Ib(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new mM(t,i):(Vy("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},mM),$I=(pM.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new pM(e.clientId,e.onlineState):(Vy("SharedClientState","Failed to parse online state: "+t),null)},pM),JI=(dM.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},dM.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},dM.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},dM),ZI=(fM.yt=function(t){return!(!t||!t.localStorage)},fM.prototype.start=function(){return Qi(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,h=this;return Yi(this,function(l){switch(l.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=l.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this.Ns&&(r=this.getItem(zI(this.persistenceKey,n)))&&(i=XI.Vs(n,r))&&(this.Fs=this.Fs.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.$s;s<u.length;s++)c=u[s],this.ks(c);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},fM.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},fM.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},fM.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},fM.prototype.addPendingMutation=function(t){this.zs(t,"pending")},fM.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},fM.prototype.addLocalQueryTarget=function(t){var e,n="not-current";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(HI(this.persistenceKey,t)))||(e=YI.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Qs(),n},fM.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},fM.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},fM.prototype.clearQueryState=function(t){this.removeItem(HI(this.persistenceKey,t))},fM.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},fM.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},fM.prototype.setOnlineState=function(t){this.Xs(t)},fM.prototype.notifyBundleLoaded=function(){this.Zs()},fM.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},fM.prototype.getItem=function(t){var e=this.storage.getItem(t);return qy("SharedClientState","READ",t,e),e},fM.prototype.setItem=function(t,e){qy("SharedClientState","SET",t,e),this.storage.setItem(t,e)},fM.prototype.removeItem=function(t){qy("SharedClientState","REMOVE",t),this.storage.removeItem(t)},fM.prototype.ks=function(t){var e=this,n=t;n.storageArea===this.storage&&(qy("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Os?this.Se.enqueueRetryable(function(){return Qi(e,void 0,void 0,function(){var t,e,r,i;return Yi(this,function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(e=this.si(n.key,n.newValue)))return[2,this.ii(e)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(t){var e=xy.o;if(null!=t)try{var n=JSON.parse(t);Hy("number"==typeof n),e=n}catch(t){Vy("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==xy.o&&this.sequenceNumberHandler(i);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})}):Vy("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(fM.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),fM.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},fM.prototype.zs=function(t,e,n){n=new QI(this.currentUser,t,e,n),t=WI(this.persistenceKey,this.currentUser,t),this.setItem(t,n.Ss())},fM.prototype.Hs=function(t){t=WI(this.persistenceKey,this.currentUser,t),this.removeItem(t)},fM.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t},this.storage.setItem(this.Us,JSON.stringify(t))},fM.prototype.Ys=function(t,e,n){var r=HI(this.persistenceKey,t),n=new YI(t,e,n);this.setItem(r,n.Ss())},fM.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},fM.prototype.ti=function(t){return(t=this.Ls.exec(t))?t[1]:null},fM.prototype.ni=function(t,e){return t=this.ti(t),XI.Vs(t,e)},fM.prototype.si=function(t,e){var n=this.Bs.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return QI.Vs(new NI(n),t,e)},fM.prototype.ri=function(t,e){return t=this.qs.exec(t),t=Number(t[1]),YI.Vs(t,e)},fM.prototype.js=function(t){return $I.Vs(t)},fM.prototype.ii=function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(qy("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},fM.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},fM.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},fM.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},fM.prototype.Gs=function(t){var e=$_;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},fM),tM=(lM.prototype.addPendingMutation=function(t){},lM.prototype.updateMutationState=function(t,e,n){},lM.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},lM.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},lM.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},lM.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},lM.prototype.clearQueryState=function(t){delete this.fi[t]},lM.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},lM.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},lM.prototype.start=function(){return this.li=new JI,Promise.resolve()},lM.prototype.handleUserChange=function(t,e,n){},lM.prototype.setOnlineState=function(t){},lM.prototype.shutdown=function(){},lM.prototype.writeSequenceNumber=function(t){},lM.prototype.notifyBundleLoaded=function(){},lM),eM=(hM.prototype.di=function(t){},hM.prototype.shutdown=function(){},hM),nM=(cM.prototype.di=function(t){this.gi.push(t)},cM.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},cM.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},cM.prototype._i=function(){qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},cM.prototype.yi=function(){qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},cM.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},cM),rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iM=(uM.prototype.Ii=function(t){this.Ai=t},uM.prototype.Ri=function(t){this.bi=t},uM.prototype.onMessage=function(t){this.vi=t},uM.prototype.close=function(){this.Ti()},uM.prototype.send=function(t){this.Ei(t)},uM.prototype.Pi=function(){this.Ai()},uM.prototype.Vi=function(t){this.bi(t)},uM.prototype.Si=function(t){this.vi(t)},uM),oM=(sM.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);return qy("RestConnection","Sending: ",i,n),e={},this.ki(e,r),this.Fi(t,i,e,n).then(function(t){return qy("RestConnection","Received: ",t),t},function(e){throw Ky("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},sM.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},sM.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},sM.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+rM[t]},Hi(aM,GI=sM),aM.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var a=new Ny;a.listenOnce(Cy.COMPLETE,function(){try{switch(a.getLastErrorCode()){case ky.NO_ERROR:var e=a.getResponseJson();qy("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ky.TIMEOUT:qy("Connection",'RPC "'+t+'" timed out'),o(new Ly(jy.DEADLINE_EXCEEDED,"Request time out"));break;case ky.HTTP_ERROR:var n,r,s=a.getStatus();qy("Connection",'RPC "'+t+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace(/_/g,"-"),r=0<=Object.values(jy).indexOf(u)?u:jy.UNKNOWN,o(new Ly(r,n.message))):o(new Ly(jy.UNKNOWN,"Server responded with status "+a.getStatus())):o(new Ly(jy.UNAVAILABLE,"Connection failed."));break;default:Wy()}}finally{qy("Connection",'RPC "'+t+'" completed.')}var u});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},aM.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _y,i=My(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(t.xmlHttpFactory=new Oy({})),this.ki(t.initMessageHeaders,e),po()||go()||0<=fo().indexOf("Electron/")||0<=(e=fo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=fo().indexOf("MSAppHost/")||vo()||(t.httpHeadersOverwriteParam="$httpHeaders"),qy("Connection","Creating WebChannel: "+(n=n.join("")),t);var o=r.createWebChannel(n,t),a=!1,s=!1,u=new iM({Ei:function(t){s?qy("Connection","Not sending because WebChannel is closed:",t):(a||(qy("Connection","Opening WebChannel transport."),o.open(),a=!0),qy("Connection","WebChannel sending:",t),o.send(t))},Ti:function(){return o.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(o,Ry.EventType.OPEN,function(){s||qy("Connection","WebChannel transport opened.")}),t(o,Ry.EventType.CLOSE,function(){s||(s=!0,qy("Connection","WebChannel transport closed"),u.Vi())}),t(o,Ry.EventType.ERROR,function(t){s||(s=!0,Ky("Connection","WebChannel transport errored:",t),u.Vi(new Ly(jy.UNAVAILABLE,"The operation could not be completed")))}),t(o,Ry.EventType.MESSAGE,function(t){var e,n,r,i;s||(Hy(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(qy("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=M_[r];if(void 0!==t)return P_(t)}(),i=n.message,void 0===t&&(t=jy.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new Ly(t,i)),o.close()):(qy("Connection","WebChannel received:",e),u.Si(e)))}),t(i,Ay.STAT_EVENT,function(t){10===t.stat?qy("Connection","Detected buffering proxy"):11===t.stat&&qy("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Pi()},0),u},aM);function aM(t){var e=this;return(e=GI.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e.useFetchStreams=t.useFetchStreams,e}function sM(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function uM(t){this.Ei=t.Ei,this.Ti=t.Ti}function cM(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function hM(){}function lM(){this.li=new JI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function fM(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new D_(Yy),this.started=!1,this.$s=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Os=zI(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new JI),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function dM(){this.activeTargetIds=$_}function pM(t,e){this.clientId=t,this.onlineState=e}function mM(t,e){this.clientId=t,this.activeTargetIds=e}function vM(t,e,n){this.targetId=t,this.state=e,this.error=n}function gM(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function yM(){return"undefined"!=typeof window?window:null}function bM(){return"undefined"!=typeof document?document:null}function wM(t){return new dE(t,!0)}function _M(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Qi(o,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return zM(this)?(qy("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return(e=t).Or.add(4),[4,LM(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,jM(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new AM(n,r)}var EM,SM,TM,IM=(DM.prototype.reset=function(){this.qi=0},DM.prototype.Qi=function(){this.qi=this.Bi},DM.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);0<i&&qy("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},DM.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},DM.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},DM.prototype.Wi=function(){return(Math.random()-.5)*this.qi},DM),G=(PM.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},PM.prototype.er=function(){return 2===this.state},PM.prototype.start=function(){3!==this.state?this.auth():this.nr()},PM.prototype.stop=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},PM.prototype.sr=function(){this.state=0,this.Zi.reset()},PM.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},PM.prototype.cr=function(t){this.ur(),this.stream.send(t)},PM.prototype.rr=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},PM.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},PM.prototype.close=function(t,e){return Qi(this,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===jy.RESOURCE_EXHAUSTED?(Vy(e.toString()),Vy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===jy.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},PM.prototype.ar=function(){},PM.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ly(jy.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},PM.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},PM.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Qi(t,void 0,void 0,function(){return Yi(this,function(t){return this.state=0,this.start(),[2]})})})},PM.prototype.dr=function(t){return qy("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},PM.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},PM),MM=(Hi(xM,TM=G),xM.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},xM.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Wy(),r=e.targetChange.targetIds||[],i=(a=e.targetChange.resumeToken,t.I?(Hy(void 0===a||"string"==typeof a),lb.fromBase64String(a||"")):(Hy(void 0===a||a instanceof Uint8Array),lb.fromUint8Array(a||new Uint8Array))),o=(s=e.targetChange.cause)&&(u=void 0===(c=s).code?jy.UNKNOWN:P_(c.code),new Ly(u,c.message||"")),a=new nE(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=wE(t,n.document.name),i=vE(n.document.updateTime),s=new qb({mapValue:{fields:n.document.fields}}),u=(o=Kb.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new tE(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=wE(t,n.document),i=n.readTime?vE(n.readTime):Zy.min(),s=Kb.newNoDocument(r,i),o=n.removedTargetIds||[],a=new tE([],o,s.key,s);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=wE(t,n.document),i=n.removedTargetIds||[],a=new tE([],i,r,null);else{if(!("filter"in e))return Wy();e.filter,(e=e.filter).targetId,n=e.count||0,r=new I_(n),i=e.targetId,a=new eE(i,r)}return a}(this.R,t),t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?Zy.min():vE(t.readTime):Zy.min()}(t);return this.listener._r(e,t)},xM.prototype.mr=function(t){var e,n,r,i={};i.database=SE(this.R),i.addTarget=(e=this.R,(r=Yb(r=(n=t).target)?{documents:AE(e,r)}:{query:OE(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=mE(e,n.resumeToken):0<n.snapshotVersion.compareTo(Zy.min())&&(r.readTime=pE(e,n.snapshotVersion.toTimestamp())),r);var o,t=(this.R,o=t,null==(t=function(){switch(o.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wy()}}())?null:{"goog-listen-tags":t});t&&(i.labels=t),this.cr(i)},xM.prototype.yr=function(t){var e={};e.database=SE(this.R),e.removeTarget=t,this.cr(e)},xM),kM=(Hi(NM,SM=G),Object.defineProperty(NM.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),NM.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,SM.prototype.start.call(this)},NM.prototype.ar=function(){this.gr&&this.Er([])},NM.prototype.wr=function(t){return this.Hi.Oi("Write",t)},NM.prototype.onMessage=function(t){if(Hy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Hy(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?vE(e.updateTime):vE(n)).isEqual(Zy.min())&&(t=vE(n)),new u_(t,e.transformResults||[]);var e,n})):[]),n=vE(t.commitTime);return this.listener.Tr(n,e)}var r;return Hy(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},NM.prototype.Ar=function(){var t={};t.database=SE(this.R),this.cr(t)},NM.prototype.Er=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return kE(e.R,t)})};this.cr(t)},NM),CM=(Hi(RM,EM=function(){}),RM.prototype.br=function(){if(this.Rr)throw new Ly(jy.FAILED_PRECONDITION,"The client has already been terminated.")},RM.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jy.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ly(jy.UNKNOWN,t.toString())})},RM.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jy.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ly(jy.UNKNOWN,t.toString())})},RM.prototype.terminate=function(){this.Rr=!0},RM),AM=(OM.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},OM.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},OM.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},OM.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},OM.prototype.Cr=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(Vy(t),this.Vr=!1):qy("OnlineStateTracker",t)},OM.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},OM);function OM(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function RM(t,e,n){var r=this;return(r=EM.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function NM(t,e,n,r,i){var o=this;return(o=SM.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).R=r,o.gr=!1,o}function xM(t,e,n,r,i){var o=this;return(o=TM.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).R=r,o}function PM(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new IM(t,e)}function DM(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function jM(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:if(!zM(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function LM(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function FM(t,e){t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),KM(t)?VM(t):ZM(t).er()&&BM(t,e))}function UM(t,e){var n=t,t=ZM(n);n.$r.delete(e),t.er()&&qM(n,e),0===n.$r.size&&(t.er()?t.ir():zM(n)&&n.Br.set("Unknown"))}function BM(t,e){t.qr.U(e.targetId),ZM(t).mr(e)}function qM(t,e){t.qr.U(e),ZM(t).yr(e)}function VM(t){t.qr=new iE({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ZM(t).start(),t.Br.Sr()}function KM(t){return zM(t)&&!ZM(t).tr()&&0<t.$r.size}function zM(t){return 0===t.Or.size}function WM(t){t.qr=void 0}function HM(t,e,n){return Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof nE&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),qy("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,GM(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof tE?t.qr.X(e):e instanceof eE?t.qr.rt(e):t.qr.et(e),n.isEqual(Zy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,lI(t.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=t).qr.ut(s)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&(n=a.$r.get(e))&&a.$r.set(e,n.withResumeToken(t.resumeToken,s))}),u.targetMismatches.forEach(function(t){var e=a.$r.get(t);e&&(a.$r.set(t,e.withResumeToken(lb.EMPTY_BYTE_STRING,e.snapshotVersion)),qM(a,t),e=new NS(e.target,t,1,e.sequenceNumber),BM(a,e))}),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return qy("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,GM(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u})})}function GM(t,e,n){return Qi(this,void 0,void 0,function(){var r=this;return Yi(this,function(i){switch(i.label){case 0:if(!wS(e))throw e;return t.Or.add(1),[4,LM(t)];case 1:return i.sent(),t.Br.set("Offline"),n=n||function(){return lI(t.localStore)},t.asyncQueue.enqueueRetryable(function(){return Qi(r,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return qy("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,jM(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function QM(t,e){return e().catch(function(n){return GM(t,n,e)})}function YM(t){return Qi(this,void 0,void 0,function(){var e,n,r,i;return Yi(this,function(o){switch(o.label){case 0:n=tk(e=t),r=0<e.Fr.length?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!(zM(e)&&e.Fr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(t,s)}))];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e),(t=tk(t)).er()&&t.pr&&t.Er(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,GM(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return XM(e)&&$M(e),[2]}var a,s,u})})}function XM(t){return zM(t)&&!tk(t).tr()&&0<t.Fr.length}function $M(t){tk(t).start()}function JM(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return n=t,e?(n.Or.delete(2),[4,jM(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,LM(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ZM(t){var e,n,r,i=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){return t.$r.forEach(function(e,n){BM(t,e)}),[2]})})}.bind(null,t),Ri:function(t,e){return Qi(this,void 0,void 0,function(){return Yi(this,function(n){return WM(t),KM(t)?(t.Br.Nr(e),VM(t)):t.Br.set("Unknown"),[2]})})}.bind(null,t),_r:HM.bind(null,t)},e.br(),new MM(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return Qi(i,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),KM(t)?VM(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),WM(t),n.label=3;case 3:return[2]}})})})),t.Ur}function tk(t){var e,n,r,i=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){return tk(t).Ar(),[2]})})}.bind(null,t),Ri:function(t,e){return Qi(this,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return e&&tk(t).pr?[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return x_(r=e.code)&&r!==jy.ABORTED?(n=t.Fr.shift(),tk(t).sr(),[4,QM(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,YM(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return XM(t)&&$M(t),[2]}})})}.bind(null,t),Ir:function(t){return Qi(this,void 0,void 0,function(){var e,n,r,i;return Yi(this,function(o){for(e=tk(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,t),Tr:function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=RS.from(r,e,n),[4,QM(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,YM(t)];case 2:return o.sent(),[2]}})})}.bind(null,t)},e.br(),new kM(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return Qi(i,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,YM(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),0<t.Fr.length&&(qy("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),n.label=4;case 4:return[2]}})})})),t.Kr}var ek=(nk.createAndSchedule=function(t,e,n,r,i){return(i=new nk(t,e,Date.now()+n,r,i)).start(n),i},nk.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},nk.prototype.skipDelay=function(){return this.handleDelayElapsed()},nk.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ly(jy.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},nk.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},nk.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},nk);function nk(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new uS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function rk(t,e){if(Vy("AsyncQueue",e+": "+t),wS(t))return new Ly(jy.UNAVAILABLE,e+": "+t);throw t}function ik(){this.queries=new PT(Fw,Lw),this.onlineState="Unknown",this.Gr=new Set}var ok=(lk.emptySet=function(t){return new lk(t.comparator)},lk.prototype.has=function(t){return null!=this.keyedMap.get(t)},lk.prototype.get=function(t){return this.keyedMap.get(t)},lk.prototype.first=function(){return this.sortedSet.minKey()},lk.prototype.last=function(){return this.sortedSet.maxKey()},lk.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},lk.prototype.indexOf=function(t){return(t=this.keyedMap.get(t))?this.sortedSet.indexOf(t):-1},Object.defineProperty(lk.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),lk.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},lk.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},lk.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},lk.prototype.isEqual=function(t){if(!(t instanceof lk))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},lk.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},lk.prototype.copy=function(t,e){var n=new lk;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},lk),ak=(hk.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);!n||0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Wy()},hk.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},hk),sk=(ck.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new ck(t,e,ok.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(ck.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),ck.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},ck),uk=function(){this.Wr=void 0,this.listeners=[]};function ck(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function hk(){this.Qr=new D_(Mb.comparator)}function lk(t){this.comparator=t?function(e,n){return t(e,n)||Mb.comparator(e.key,n.key)}:function(t,e){return Mb.comparator(t.key,e.key)},this.keyedMap=G_,this.sortedSet=new D_(this.comparator)}function fk(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new uk),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=rk(a=s.sent(),"Initialization of query '"+Uw(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&pk(n),[2]}})})}function dk(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pk(t){t.Gr.forEach(function(t){t.next()})}var mk=(Ek.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sk(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},Ek.prototype.onError=function(t){this.Jr.error(t)},Ek.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},Ek.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},Ek.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},Ek.prototype.no=function(t){t=sk.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},Ek),vk=(_k.prototype.io=function(){return"metadata"in this.payload},_k),gk=(wk.prototype.qn=function(t){return wE(this.R,t)},wk.prototype.Un=function(t){return t.metadata.exists?ME(this.R,t.document,!1):Kb.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},wk.prototype.Kn=vE,wk),yk=(bk.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},bk.prototype.co=function(t){for(var e=new Map,n=new gk(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],h=(e.get(c)||X_()).add(a);e.set(c,h)}}return e},bk.prototype.complete=function(){return Qi(this,void 0,void 0,function(){var t,e,n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o,a,s,u,c,h,l,f,d;return Yi(this,function(p){switch(p.label){case 0:for(i=t,o=X_(),a=z_,s=Q_,u=0,c=n;u<c.length;u++)h=c[u],l=e.qn(h.metadata.name),h.document&&(o=o.add(l)),a=a.insert(l,e.Un(h)),s=s.insert(l,e.Kn(h.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,pI(i,Dw(Cw(sb.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return dI(t,f,a,Zy.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new gk(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(t,e,n){return void 0===n&&(n=X_()),Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:return[4,pI(t,Dw(HS(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=vE(e.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Ke.saveNamedQuery(t,e):(o=r.withResumeToken(lb.EMPTY_BYTE_STRING,o),i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)}))})]}})})}(this.localStore,r,e.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ZT(Object.assign({},this.progress),t))]}})})},bk);function bk(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Sk(t)}function wk(t){this.R=t}function _k(t,e){this.payload=t,this.byteLength=e}function Ek(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function Sk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Tk=function(t){this.key=t},Ik=function(t){this.key=t},Mk=(Object.defineProperty(Rk.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Rk.prototype._o=function(t,e){var n=this,r=e?e.mo:new ak,i=(e||this).fo,o=(e||this).mutatedKeys,a=i,s=!1,u=Aw(this.query)&&i.size===this.query.limit?i.last():null,c=Ow(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var h=i.get(t),l=Bw(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),e=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),e=!0):n.yo(h,l)||(r.track({type:2,doc:l}),e=!0,(u&&0<n.lo(l,u)||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),e=!0):h&&!l&&(r.track({type:1,doc:h}),e=!0,(u||c)&&(s=!0)),e&&(o=l?(a=a.add(l),d?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))}),Aw(this.query)||Ow(this.query))for(;a.size>this.query.limit;){var h=Aw(this.query)?a.last():a.first(),a=a.delete(h.key),o=o.delete(h.key);r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},Rk.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Rk.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wy()}}var i,o}),this.po(n);var a=e?this.Eo():[],n=0===this.ho.size&&this.current?1:0,e=n!==this.ao;return this.ao=n,0!==o.length||e?{snapshot:new sk(this.query,t.fo,i,o,t.mutatedKeys,0==n,e,!1),To:a}:{To:a}},Rk.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ak,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Rk.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Rk.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},Rk.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=X_(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ik(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Tk(t))}),n},Rk.prototype.Ao=function(t){return this.uo=t.Bn,this.ho=X_(),t=this._o(t.documents),this.applyChanges(t,!0)},Rk.prototype.Ro=function(){return sk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},Rk),kk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ck=function(t){this.key=t,this.bo=!1},Ak=(Object.defineProperty(Ok.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),Ok);function Ok(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new PT(Fw,Lw),this.Vo=new Map,this.So=new Set,this.Do=new D_(Mb.comparator),this.Co=new Map,this.No=new SI,this.xo={},this.ko=new Map,this.Fo=mT.Yt(),this.onlineState="Unknown",this.$o=void 0}function Rk(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=X_(),this.mutatedKeys=X_(),this.lo=qw(t),this.fo=new ok(this.lo)}function Nk(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o,a;return Yi(this,function(s){switch(s.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o;return Yi(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,vI(t.localStore,e.query,!1).then(function(t){return t=t.documents,e.view._o(t,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(qk(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,vI(t.localStore,e,!0)];case 1:return o=s.sent(),a=new Mk(e,o.Bn),i=a._o(o.documents),o=Z_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),o=a.applyChanges(i,t.isPrimaryClient,o),qk(t,n,o.To),a=new kk(e,n,a),[2,(t.Po.set(e,a),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),o.snapshot)]}})})}function xk(t,e,n){return Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:i=Yk(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,h=e,f=c,d=Jy.now(),p=h.reduce(function(t,e){return t.add(e.key)},X_()),f.persistence.runTransaction("Locally write mutations","readwrite",function(t){return f.Mn.pn(t,p).next(function(e){l=e;for(var n=[],r=0,i=h;r<i.length;r++){var o=i[r],a=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),a=Ww(o.transform,a||null);null!=a&&(n=null==n?qb.empty():n).set(o.field,a)}return n||null}(o,l.get(o.key));null!=a&&n.push(new b_(o.key,a,function t(e){var n=[];return rb(e.fields,function(e,r){var i=new cb([e]);if(Ub(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)}),new hb(n)}(a.value.mapValue),h_.exists(!0)))}return f._n.addMutationBatch(t,d,n,h)})}).then(function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}}))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new D_(Yy)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,Kk(i,r.changes)];case 3:return o.sent(),[4,YM(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=rk(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,h,l,f,d,p})})}function Pk(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fI(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){(e=n.Co.get(e))&&(Hy(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Hy(e.bo):0<t.removedDocuments.size&&(Hy(e.bo),e.bo=!1))}),[4,Kk(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ET(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Dk(t,e,n){var r,t=t;(t.isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n)&&(r=[],t.Po.forEach(function(t,n){(n=n.view.zr(e)).snapshot&&r.push(n.snapshot)}),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach(function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(e)&&(n=!0)}),n&&pk(t)}(t.eventManager,e),r.length&&t.vo._r(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e))}function jk(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:zM((n=t).remoteStore)||qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return i=rk(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a})})}function Lk(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Fk(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function Uk(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Bk(t,e)})}function Bk(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(UM(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vk(t))}function qk(t,e,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof Tk?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(qy("SyncEngine","New document in limbo: "+o),r.So.add(i),Vk(r))):u instanceof Ik?(qy("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Bk(t,u.key)):Wy()}}function Vk(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Mb(sb.fromString(e)),e=t.Fo.next();t.Co.set(e,new Ck(n)),t.Do=t.Do.insert(n,e),FM(t.remoteStore,new NS(Dw(Cw(n.path)),e,2,xy.o))}}function Kk(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){t&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=eI.Pn(s.targetId,t),o.push(t))}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Yi(this,function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return cS.forEach(e,function(e){return cS.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return cS.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return c.sent(),[3,4];case 3:if(!wS(r=c.sent()))throw r;return qy("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.kn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.kn=n.kn.insert(a,u));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function zk(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o;return Yi(this,function(a){switch(a.label){case 0:return[4,(s=(i=t).localStore,u=e,h=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return h.jt(t,u).next(function(e){return e?c.Mn.pn(t,e):cS.resolve(null)})}))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,YM(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fk(i,e,r||null),Lk(i,e),i.localStore._n.Gt(e)):Wy(),a.label=4;case 4:return[4,Kk(i,o)];case 5:return a.sent(),[3,7];case 6:qy("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,h})})}function Wk(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Yi(this,function(h){switch(h.label){case 0:return Qk(n=t),Yk(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hk(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,JM(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],FM(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return Uk(n,e),mI(n.localStore,e,!0)}),UM(n.remoteStore,e)}),[4,c]);case 4:return h.sent(),[4,Hk(n,u)];case 5:return h.sent(),(l=n).Co.forEach(function(t,e){UM(l.remoteStore,e)}),l.No.ts(),l.Co=new Map,l.Do=new D_(Mb.comparator),n.$o=!1,[4,JM(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var l})})}function Hk(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,h,l,f,d;return Yi(this,function(p){switch(p.label){case 0:n=t,r=[],i=[],o=0,a=e,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,pI(n.localStore,Dw(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),h=0,l=c,p.label=3;case 3:return h<l.length?(f=l[h],f=n.Po.get(f),[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,vI((n=t).localStore,e.query,!0)];case 1:return r=i.sent(),r=e.view.Ao(r),[2,(n.isPrimaryClient&&qk(n,e.targetId,r.To),r)]}})})}(n,f)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,gI(n.localStore,s)];case 8:return d=p.sent(),[4,pI(n.localStore,d)];case 9:return u=p.sent(),[4,Nk(n,Gk(d),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Gk(t){return kw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qk(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return X_().add(t.key);var r=X_();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var a=o[i],a=n.Po.get(a),r=r.unionWith(a.view.wo);return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),a=r.Co.get(e),(i=a&&a.key)?(o=(o=new D_(Mb.comparator)).insert(i,Kb.newNoDocument(i,Zy.min())),a=X_().add(i),a=new J_(Zy.min(),new Map,new V_(Yy),o,a),[4,Pk(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(e),Vk(r),[3,4];case 2:return[4,mI(r.localStore,e,!1).then(function(){return Uk(r,e,n)}).catch(ET)];case 3:s.sent(),s.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,s=n.queries.get(s);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&pk(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Yk(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hI(n.localStore,e)];case 2:return i=o.sent(),Fk(n,r,null),Lk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Kk(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ET(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",function(t){var e;return u._n.lookupMutationBatch(t,s).next(function(n){return Hy(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)}).next(function(){return u._n.performConsistencyCheck(t)}).next(function(){return u.Mn.pn(t,e)})}))];case 2:return i=o.sent(),Fk(r,e,n),Lk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Kk(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ET(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u})})}.bind(null,t),t}function Xk(t,e,n){var r=t;(function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,(l=t.localStore,d=l,p=vE((f=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",function(t){return d.Ke.getBundleMetadata(t,f.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(p)}))];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(Sk(r)),i=new yk(r,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,Kk(t,s.wn,void 0)];case 12:return u.sent(),[4,(l=t.localStore,c=r,(h=l).persistence.runTransaction("Save bundle","readwrite",function(t){return h.Ke.saveBundleMetadata(t,c)}))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return Ky("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,h,l,f,d,p})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var $k,Jk,Zk=(aC.prototype.initialize=function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return this.R=wM(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},aC.prototype.Uo=function(t){return null},aC.prototype.Ko=function(t){return uI(this.persistence,new nI,t.initialUser,this.R)},aC.prototype.qo=function(t){return new AI(RI.bs,this.R)},aC.prototype.Bo=function(t){return new tM},aC.prototype.terminate=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},aC),tC=(Hi(oC,Jk=Zk),oC.prototype.initialize=function(t){return Qi(this,void 0,void 0,function(){var e=this;return Yi(this,function(n){switch(n.label){case 0:return[4,Jk.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,bI(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Yk(this.Qo.syncEngine)];case 4:return n.sent(),[4,YM(this.Qo.remoteStore)];case 5:return n.sent(),[4,this.persistence.He(function(){return e.gcScheduler&&!e.gcScheduler.started&&e.gcScheduler.start(e.localStore),Promise.resolve()})];case 6:return n.sent(),[2]}})})},oC.prototype.Ko=function(t){return uI(this.persistence,new nI,t.initialUser,this.R)},oC.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new IT(e,t.asyncQueue)},oC.prototype.qo=function(t){var e=JT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?oT.withCacheSize(this.cacheSizeBytes):oT.DEFAULT;return new QT(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yM(),bM(),this.R,this.sharedClientState,!!this.forceOwnership)},oC.prototype.Bo=function(t){return new tM},oC),eC=(Hi(iC,$k=tC),iC.prototype.initialize=function(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:return[4,$k.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Qo.syncEngine,this.sharedClientState instanceof ZI?(this.sharedClientState.syncEngine={ui:zk.bind(null,e),ai:function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o,a;return Yi(this,function(s){switch(s.label){case 0:return(i=t).$o?(qy("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yI(i.localStore)];case 3:return o=s.sent(),a=J_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Kk(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,mI(i.localStore,e,!0)];case 6:return s.sent(),Uk(i,e,r),[3,8];case 7:Wy(),s.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o,a,s,u,c,h;return Yi(this,function(l){switch(l.label){case 0:if(!(r=Qk(t)).$o)return[3,10];i=0,o=e,l.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(qy("SyncEngine","Adding an already active target "+o),[3,5]):[4,gI(r.localStore,o)]):[3,6];case 2:return a=l.sent(),[4,pI(r.localStore,a)];case 3:return s=l.sent(),[4,Nk(r,Gk(a),s.targetId,!1)];case 4:l.sent(),FM(r.remoteStore,s),l.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Yi(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,mI(r.localStore,t,!1).then(function(){UM(r.remoteStore,t),Uk(r,t)}).catch(ET)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},c=0,h=n,l.label=7;case 7:return c<h.length?(h=h[c],[5,u(h)]):[3,10];case 8:l.sent(),l.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){return[2,yI((e=t).localStore).then(function(t){return Kk(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return Qi(n,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return[4,Wk(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},iC.prototype.Bo=function(t){var e=yM();if(!ZI.yt(e))throw new Ly(jy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=JT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ZI(e,t.asyncQueue,n,t.clientId,t.initialUser)},iC),nC=(rC.prototype.initialize=function(t,e){return Qi(this,void 0,void 0,function(){var n=this;return Yi(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Dk(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(qy("SyncEngine","User change. New user:",e.toKey()),[4,cI(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).ko.forEach(function(t){t.forEach(function(t){t.reject(new Ly(jy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Kk(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o})})}.bind(null,this.syncEngine),[4,JM(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},rC.prototype.createEventManager=function(t){return new ik},rC.prototype.createDatastore=function(t){var e=wM(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new oM(n));return t=t.credentials,new CM(t,n,e)},rC.prototype.createRemoteStore=function(t){var e=this,n=this.localStore,r=this.datastore,i=t.asyncQueue,t=new(nM.yt()?nM:eM);return new _M(n,r,i,function(t){return Dk(e.syncEngine,t,0)},t)},rC.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){return o=new Ak(t,e,n,r,i,o),a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},rC.prototype.terminate=function(){return function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=t,qy("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,LM(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},rC);function rC(){}function iC(t,e){var n=this;return(n=$k.call(this,t,e,!1)||this).Qo=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function oC(t,e,n){var r=this;return(r=Jk.call(this)||this).Qo=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function aC(){this.synchronizeTabs=!1}function sC(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Qi(this,void 0,void 0,function(){var r;return Yi(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var uC=(gC.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},gC.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},gC.prototype.Wo=function(){this.muted=!0},gC.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},gC),cC=(vC.prototype.close=function(){return this.Go.cancel()},vC.prototype.getMetadata=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){return[2,this.metadata.promise]})})},vC.prototype.Lo=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},vC.prototype.Ho=function(){return Qi(this,void 0,void 0,function(){var t,e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(n=this.zo.decode(t),e=Number(n),isNaN(e)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(e)]);case 2:return n=r.sent(),[2,new vk(JSON.parse(n),t.length+e)]}})})},vC.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},vC.prototype.Jo=function(){return Qi(this,void 0,void 0,function(){var t,e;return Yi(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},vC.prototype.Xo=function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},vC.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},vC.prototype.tc=function(){return Qi(this,void 0,void 0,function(){var t,e;return Yi(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},vC),hC=(mC.prototype.lookup=function(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Ly(jy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return r=SE((n=t).R)+"/documents",i={documents:e.map(function(t){return bE(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach(function(t){var e,t=(e=n.R,"found"in(t=t)?function(t,e){Hy(!!e.found),e.found.name,e.found.updateTime;var n=wE(t,e.found.name),t=vE(e.found.updateTime),e=new qb({mapValue:{fields:e.found.fields}});return Kb.newFoundDocument(n,t,e)}(e,t):"missing"in t?function(t,e){return Hy(!!e.missing),Hy(!!e.readTime),t=wE(t,e.missing),e=vE(e.readTime),Kb.newNoDocument(t,e)}(e,t):Wy());o.set(t.key.toString(),t)}),a=[],[2,(e.forEach(function(t){Hy(!!(t=o.get(t.toString()))),a.push(t)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},mC.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},mC.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},mC.prototype.delete=function(t){this.write(new A_(t,this.precondition(t))),this.writtenDocs.add(t.toString())},mC.prototype.commit=function(){return Qi(this,void 0,void 0,function(){var t,e=this;return Yi(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){n=Mb.fromPath(n),e.mutations.push(new O_(n,e.precondition(n)))}),[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return r=SE((n=t).R)+"/documents",i={writes:e.map(function(t){return kE(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},mC.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wy();e=Zy.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ly(jy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},mC.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?h_.updateTime(e):h_.none()},mC.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return h_.exists(!0);if(e.isEqual(Zy.min()))throw new Ly(jy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return h_.updateTime(e)},mC.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},mC.prototype.ensureCommitNotCalled=function(){},mC),lC=(pC.prototype.run=function(){--this.ec,this.nc()},pC.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Qi(t,void 0,void 0,function(){var t,e,n=this;return Yi(this,function(r){return t=new hC(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},pC.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Sb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},pC.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},pC.prototype.rc=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!x_(t))},pC),fC=(dC.prototype.getConfiguration=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},dC.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},dC.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ly(jy.FAILED_PRECONDITION,"The client has already been terminated.")},dC.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new uS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Qi(t,void 0,void 0,function(){var t;return Yi(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=rk(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},dC);function dC(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=NI.UNAUTHENTICATED,this.clientId=Gy.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Qi(r,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return qy("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}function pC(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new IM(this.asyncQueue,"transaction_retry")}function mC(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function vC(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new uS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function gC(t){this.observer=t,this.muted=!1}function yC(t,e){return Qi(this,void 0,void 0,function(){var n,r,i=this;return Yi(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),qy("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Qi(i,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,cI(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function bC(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,wC(t)];case 1:return n=i.sent(),qy("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),qy("RemoteStore","RemoteStore received new credentials"),r=zM(n),n.Or.add(3),[4,LM(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,jM(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function wC(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(qy("FirestoreClient","Using default OfflineComponentProvider"),[4,yC(t,new Zk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function _C(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(qy("FirestoreClient","Using default OnlineComponentProvider"),[4,bC(t,new nC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function EC(t){return wC(t).then(function(t){return t.persistence})}function SC(t){return wC(t).then(function(t){return t.localStore})}function TC(t){return _C(t).then(function(t){return t.remoteStore})}function IC(t){return _C(t).then(function(t){return t.syncEngine})}function MC(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,_C(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return n=Qk(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,pI(n.localStore,Dw(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,Nk(n,e,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&FM(n.remoteStore,o),s.label=4;case 4:return[2,i]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Lw(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mI(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),UM(n.remoteStore,r.targetId),Uk(n,r.targetId)}).catch(ET)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Uk(n,r.targetId),[4,mI(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function kC(t,e,n){var r=this;void 0===n&&(n={});var i=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(r,void 0,void 0,function(){var r;return Yi(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uC({next:function(o){e.enqueueAndForget(function(){return dk(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ly(jy.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ly(jy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new mk(Cw(n.path),o,{includeMetadataChanges:!0,so:!0});return fk(t,a)},[4,MC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function CC(t,e,n){var r=this;void 0===n&&(n={});var i=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(r,void 0,void 0,function(){var r;return Yi(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uC({next:function(n){e.enqueueAndForget(function(){return dk(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Ly(jy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new mk(n,o,{includeMetadataChanges:!0,so:!0});return fk(t,a)},[4,MC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function AC(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}var OC=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},RC=(Object.defineProperty(KC.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),KC.prototype.isEqual=function(t){return t instanceof KC&&t.projectId===this.projectId&&t.database===this.database},KC),NC=new Map,xC=(VC.prototype.getToken=function(){return Promise.resolve(null)},VC.prototype.invalidateToken=function(){},VC.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(NI.UNAUTHENTICATED)})},VC.prototype.removeChangeListener=function(){this.changeListener=null},VC),PC=(qC.prototype.getToken=function(){return Promise.resolve(this.token)},qC.prototype.invalidateToken=function(){},qC.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},qC.prototype.removeChangeListener=function(){this.changeListener=null},qC),DC=(BC.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(qy("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Hy("string"==typeof n.accessToken),new AC(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},BC.prototype.invalidateToken=function(){this.forceRefresh=!0},BC.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Qi(n,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},BC.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},BC.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Hy(null===t||"string"==typeof t),new NI(t)},BC),jC=(Object.defineProperty(UC.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),UC),LC=(FC.prototype.getToken=function(){return Promise.resolve(new jC(this.hc,this.lc,this.fc))},FC.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(NI.FIRST_PARTY)})},FC.prototype.removeChangeListener=function(){},FC.prototype.invalidateToken=function(){},FC);function FC(t,e,n){this.hc=t,this.lc=e,this.fc=n}function UC(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=NI.FIRST_PARTY}function BC(t){var e=this;function n(t){qy("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)}this.currentUser=NI.UNAUTHENTICATED,this.oc=new uS,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})},t.onInit(n),setTimeout(function(){var r;e.auth||((r=t.getImmediate({optional:!0}))?n(r):(qy("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve()))},0)}function qC(t){this.token=t,this.changeListener=null}function VC(){this.changeListener=null}function KC(t,e){this.projectId=t,this.database=e||"(default)"}function zC(t,e,n){if(!n)throw new Ly(jy.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function WC(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ly(jy.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function HC(t,e,n,r){if(!0===e&&!0===r)throw new Ly(jy.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function GC(t){if(!Mb.isDocumentKey(t))throw new Ly(jy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function QC(t){if(Mb.isDocumentKey(t))throw new Ly(jy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function YC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Wy();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function XC(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new Ly(jy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=YC(t),new Ly(jy.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function $C(t,e){if(e<=0)throw new Ly(jy.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var JC,ZC=(uA.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},uA),tA=(Object.defineProperty(sA.prototype,"app",{get:function(){if(!this._app)throw new Ly(jy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(sA.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(sA.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),sA.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ly(jy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZC(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new xC;switch(t.type){case"gapi":var e=t.client;return Hy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new LC(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ly(jy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},sA.prototype._getSettings=function(){return this._settings},sA.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},sA.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},sA.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},sA.prototype._terminate=function(){return(t=NC.get(this))&&(qy("ComponentProvider","Removing Datastore"),NC.delete(this),t.terminate()),Promise.resolve();var t},sA),eA=(Object.defineProperty(aA.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(aA.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(aA.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(aA.prototype,"parent",{get:function(){return new rA(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),aA.prototype.withConverter=function(t){return new aA(this.firestore,t,this._key)},aA),nA=(oA.prototype.withConverter=function(t){return new oA(this.firestore,t,this._query)},oA),rA=(Hi(iA,JC=nA),Object.defineProperty(iA.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(iA.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(iA.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new eA(this.firestore,null,new Mb(t))},enumerable:!1,configurable:!0}),iA.prototype.withConverter=function(t){return new iA(this.firestore,t,this._path)},iA);function iA(t,e,n){var r=this;return(r=JC.call(this,t,e,Cw(n))||this)._path=n,r.type="collection",r}function oA(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}function aA(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}function sA(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZC({}),this._settingsFrozen=!1,t instanceof RC?(this._databaseId=t,this._credentials=new xC):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ly(jy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new RC(t.options.projectId)}(t),this._credentials=new DC(e))}function uA(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ly(jy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ly(jy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,HC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function cA(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Jo(t),zC("collection","path",e),t instanceof tA)return QC(n=sb.fromString.apply(sb,Ji([e],r))),new rA(t,null,n);if(!(t instanceof eA||t instanceof rA))throw new Ly(jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return QC(n=sb.fromString.apply(sb,Ji([t.path],r)).child(sb.fromString(e))),new rA(t.firestore,null,n)}function hA(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Jo(t),zC("doc","path",e=1===arguments.length?Gy.u():e),t instanceof tA)return GC(n=sb.fromString.apply(sb,Ji([e],r))),new eA(t,null,new Mb(n));if(!(t instanceof eA||t instanceof rA))throw new Ly(jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GC(n=t._path.child(sb.fromString.apply(sb,Ji([e],r)))),new eA(t.firestore,t instanceof rA?t.converter:null,new Mb(n))}function lA(t,e){return t=Jo(t),e=Jo(e),(t instanceof eA||t instanceof rA)&&(e instanceof eA||e instanceof rA)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function fA(t,e){return t=Jo(t),e=Jo(e),t instanceof nA&&e instanceof nA&&t.firestore===e.firestore&&Lw(t._query,e._query)&&t.converter===e.converter}var dA=(Object.defineProperty(pA.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),pA.prototype.enqueueAndForget=function(t){this.enqueue(t)},pA.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},pA.prototype.enterRestrictedMode=function(t){this._c||(this._c=!0,this.Ec=t||!1,(t=bM())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic))},pA.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new uS;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},pA.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},pA.prototype.bc=function(){return Qi(this,void 0,void 0,function(){var t,e=this;return Yi(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wS(t=n.sent()))throw t;return qy("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.wc.length&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},pA.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Vy("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),t;var n,r}).then(function(t){return e.gc=!1,t})});return this.dc=n},pA.prototype.enqueueAfterDelay=function(t,e,n){var r=this;return this.Ac(),-1<this.Tc.indexOf(t)&&(e=0),n=ek.createAndSchedule(this,t,e,n,function(t){return r.vc(t)}),this.mc.push(n),n},pA.prototype.Ac=function(){this.yc&&Wy()},pA.prototype.verifyOperationInProgress=function(){},pA.prototype.Pc=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},pA.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},pA.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},pA.prototype.Dc=function(t){this.Tc.push(t)},pA.prototype.vc=function(t){t=this.mc.indexOf(t),this.mc.splice(t,1)},pA);function pA(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new IM(this,"async_queue_retry"),this.Ic=function(){var e=bM();e&&qy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=bM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}function mA(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var vA,gA=(wA.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},wA.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},wA.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},wA.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},wA.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},wA.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},wA),yA=(Hi(bA,vA=tA),bA.prototype._terminate=function(){return this._firestoreClient||EA(this),this._firestoreClient.terminate()},bA);function bA(t,e){var n=this;return(n=vA.call(this,t,e)||this).type="firestore",n._queue=new dA,n._persistenceKey="name"in t?t.name:"[DEFAULT]",n}function wA(){this._progressObserver={},this._taskCompletionResolver=new uS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function _A(t){return t._firestoreClient||EA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EA(t){var e,n,r,i=t._freezeSettings(),i=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,new OC(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams));t._firestoreClient=new fC(t._credentials,t._queue,i)}function SA(t,e,n){var r=this,i=new uS;return t.asyncQueue.enqueue(function(){return Qi(r,void 0,void 0,function(){var r;return Yi(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,yC(t,n)];case 1:return o.sent(),[4,bC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(r=o.sent()).name?r.code===jy.FAILED_PRECONDITION||r.code===jy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function TA(t){if(t._initialized||t._terminated)throw new Ly(jy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var IA=(jA.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},jA),MA=(DA.fromBase64String=function(t){try{return new DA(lb.fromBase64String(t))}catch(t){throw new Ly(jy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},DA.fromUint8Array=function(t){return new DA(lb.fromUint8Array(t))},DA.prototype.toBase64=function(){return this._byteString.toBase64()},DA.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},DA.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},DA.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},DA),kA=function(t){this._methodName=t},CA=(Object.defineProperty(PA.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(PA.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),PA.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},PA.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},PA.prototype._compareTo=function(t){return Yy(this._lat,t._lat)||Yy(this._long,t._long)},PA),AA=/^__.*__$/,OA=(xA.prototype.toMutation=function(t,e){return null!==this.fieldMask?new b_(t,this.data,this.fieldMask,e,this.fieldTransforms):new y_(t,this.data,e,this.fieldTransforms)},xA),RA=(NA.prototype.toMutation=function(t,e){return new b_(t,this.data,this.fieldMask,e,this.fieldTransforms)},NA);function NA(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function xA(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function PA(t,e){if(!isFinite(t)||t<-90||90<t)throw new Ly(jy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Ly(jy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}function DA(t){this._byteString=t}function jA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ly(jy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cb(t)}function LA(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Wy()}}var FA=(Object.defineProperty(qA.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(qA.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),qA.prototype.xc=function(t){return new qA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},qA.prototype.kc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.xc({path:e,Fc:!1});return e.$c(t),e},qA.prototype.Oc=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.xc({path:t,Fc:!1});return t.Cc(),t},qA.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},qA.prototype.Lc=function(t){return vO(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},qA.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},qA.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},qA.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(LA(this.Nc)&&AA.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},qA),UA=(BA.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new FA({Nc:t,methodName:e,qc:n,path:cb.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},BA);function BA(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||wM(t)}function qA(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function VA(t){var e=t._freezeSettings(),n=wM(t._databaseId);return new UA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KA(t,e,n,r,i,o){var a=t.Uc((o=void 0===o?{}:o).merge||o.mergeFields?2:0,e,n,i);fO("Data must be an object, but it was:",a,r);var s,u,r=hO(r,a);if(o.merge)s=new hb(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=dO(e,l[h],n);if(!a.contains(f))throw new Ly(jy.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");gO(c,f)||c.push(f)}s=new hb(c),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new OA(new qb(r),s,u)}var zA,WA=(Hi(HA,zA=kA),HA.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},HA.prototype.isEqual=function(t){return t instanceof HA},HA);function HA(){return null!==zA&&zA.apply(this,arguments)||this}function GA(t,e,n){return new FA({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var QA,YA,XA,$A,JA=(Hi(oO,$A=kA),oO.prototype._toFieldTransform=function(t){return new c_(t.path,new Qw)},oO.prototype.isEqual=function(t){return t instanceof oO},oO),ZA=(Hi(iO,XA=kA),iO.prototype._toFieldTransform=function(t){var e=GA(this,t,!0),n=this.Kc.map(function(t){return cO(t,e)}),n=new Yw(n);return new c_(t.path,n)},iO.prototype.isEqual=function(t){return this===t},iO),tO=(Hi(rO,YA=kA),rO.prototype._toFieldTransform=function(t){var e=GA(this,t,!0),n=this.Kc.map(function(t){return cO(t,e)}),n=new t_(n);return new c_(t.path,n)},rO.prototype.isEqual=function(t){return this===t},rO),eO=(Hi(nO,QA=kA),nO.prototype._toFieldTransform=function(t){var e=new i_(t.R,zw(t.R,this.Qc));return new c_(t.path,e)},nO.prototype.isEqual=function(t){return this===t},nO);function nO(t,e){var n=this;return(n=QA.call(this,t)||this).Qc=e,n}function rO(t,e){var n=this;return(n=YA.call(this,t)||this).Kc=e,n}function iO(t,e){var n=this;return(n=XA.call(this,t)||this).Kc=e,n}function oO(){return null!==$A&&$A.apply(this,arguments)||this}function aO(t,e,n,r){var i=t.Uc(1,e,n);fO("Data must be an object, but it was:",i,r);var o=[],a=qb.empty();return rb(r,function(t,r){var s=mO(e,t,n);r=Jo(r),t=i.Oc(s),r instanceof WA?o.push(s):null!=(t=cO(r,t))&&(o.push(s),a.set(s,t))}),r=new hb(o),new RA(a,r,i.fieldTransforms)}function sO(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[dO(e,r,n)],u=[i];if(o.length%2!=0)throw new Ly(jy.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(dO(e,o[c])),u.push(o[c+1]);for(var h,l,f,d=[],p=qb.empty(),m=s.length-1;0<=m;--m)gO(d,s[m])||(h=s[m],l=Jo(l=u[m]),f=a.Oc(h),l instanceof WA?d.push(h):null!=(f=cO(l,f))&&(d.push(h),p.set(h,f)));return i=new hb(d),new RA(p,i,a.fieldTransforms)}function uO(t,e,n,r){return cO(n,t.Uc((r=void 0!==r&&r)?4:3,e))}function cO(t,e){if(lO(t=Jo(t)))return fO("Unsupported field value:",e,t),hO(t,e);if(t instanceof kA)return function(t,e){if(!LA(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");(t=t._toFieldTransform(e))&&e.fieldTransforms.push(t)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=cO(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(e,n){if(null===(e=Jo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zw(n.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var r=Jy.fromDate(e);return{timestampValue:pE(n.R,r)}}if(e instanceof Jy)return r=new Jy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:pE(n.R,r)};if(e instanceof CA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof MA)return{bytesValue:mE(n.R,e._byteString)};if(e instanceof eA){var r=n.databaseId,i=e.firestore._databaseId;if(!i.isEqual(r))throw n.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:gE(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n.Lc("Unsupported field value: "+YC(e))}(0,e)}function hO(t,e){var n={};return ib(t)?e.path&&0<e.path.length&&e.fieldMask.push(e.path):rb(t,function(t,r){null!=(r=cO(r,e.kc(t)))&&(n[t]=r)}),{mapValue:{fields:n}}}function lO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jy||t instanceof CA||t instanceof MA||t instanceof eA||t instanceof kA)}function fO(t,e,n){if(!lO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=YC(n))?e.Lc(t+" a custom object"):e.Lc(t+" "+n);var r}function dO(t,e,n){if((e=Jo(e))instanceof IA)return e._internalPath;if("string"==typeof e)return mO(t,e);throw vO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pO=new RegExp("[~\\*/\\[\\]]");function mO(e,n,r){if(0<=n.search(pO))throw vO("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return(new(IA.bind.apply(IA,Ji([void 0],n.split(".")))))._internalPath}catch(t){throw vO("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function vO(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,e="Function "+e+"() called with invalid data";return n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new Ly(jy.INVALID_ARGUMENT,(e+=". ")+t+n)}function gO(t,e){return t.some(function(t){return t.isEqual(e)})}var yO,bO=(Object.defineProperty(EO.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(EO.prototype,"ref",{get:function(){return new eA(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),EO.prototype.exists=function(){return null!==this._document},EO.prototype.data=function(){if(this._document){if(this._converter){var t=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},EO.prototype.get=function(t){if(this._document&&null!==(t=this._document.data.field(SO("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t)},EO),wO=(Hi(_O,yO=bO),_O.prototype.data=function(){return yO.prototype.data.call(this)},_O);function _O(){return null!==yO&&yO.apply(this,arguments)||this}function EO(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function SO(t,e){return"string"==typeof e?mO(t,e):(e instanceof IA?e:e._delegate)._internalPath}var TO,IO,MO=(xO.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},xO),kO=(Hi(NO,IO=bO),NO.prototype.exists=function(){return IO.prototype.exists.call(this)},NO.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new CO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},NO.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document&&null!==(t=this._document.data.field(SO("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t,e.serverTimestamps)},NO),CO=(Hi(RO,TO=kO),RO.prototype.data=function(t){return TO.prototype.data.call(this,t=void 0===t?{}:t)},RO),AO=(Object.defineProperty(OO.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(OO.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(OO.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),OO.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new CO(n._firestore,n._userDataWriter,r.key,r,new MO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},OO.prototype.docChanges=function(t){if((t=!!(t=void 0===t?{}:t).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new Ly(jy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new CO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new MO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new CO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new MO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wy()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},OO);function OO(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new MO(r.hasPendingWrites,r.fromCache),this.query=n}function RO(){return null!==TO&&TO.apply(this,arguments)||this}function NO(t,e,n,r,i,o){var a=this;return(a=IO.call(this,t,e,n,r,o)||this)._firestore=t,a._firestoreImpl=t,a.metadata=i,a}function xO(t,e){this.hasPendingWrites=t,this.fromCache=e}function PO(t,e){return t instanceof kO&&e instanceof kO?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof AO&&e instanceof AO&&t._firestore===e._firestore&&fA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function DO(t){if(Ow(t)&&0===t.explicitOrderBy.length)throw new Ly(jy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function jO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var LO,FO,UO,BO,qO,VO=(Hi($O,qO=H=function(){}),$O.prototype._apply=function(t){var e=VA(t.firestore),e=function(t,e,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Ly(jy.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){tR(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(ZO(n,t,c))}h={arrayValue:{values:a}}}else h=ZO(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||tR(o,i),h=uO(e,"where",o,"in"===i||"not-in"===i);var h=$b.create(r,i,h);return function(t,e){if(e.g()){var n=Nw(t);if(null!==n&&!n.isEqual(e.field))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=Rw(t))&&eR(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new Ly(jy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ly(jy.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(t._query,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new nA(t.firestore,t.converter,(t=t._query,e=t.filters.concat([e]),new Mw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},$O),KO=(Hi(XO,BO=H),XO.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Sw(e,n);return e=r,null!==Rw(n=t)||null!==(t=Nw(n))&&eR(0,t,e.field),r}(t._query,this.jc,this.zc);return new nA(t.firestore,t.converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new Mw(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},XO),zO=(Hi(YO,UO=H),YO.prototype._apply=function(t){return new nA(t.firestore,t.converter,jw(t._query,this.Hc,this.Jc))},YO),WO=(Hi(QO,FO=H),QO.prototype._apply=function(t){var e=JO(t,this.type,this.Yc,this.Xc);return new nA(t.firestore,t.converter,(t=t._query,e=e,new Mw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},QO),HO=(Hi(GO,LO=H),GO.prototype._apply=function(t){var e=JO(t,this.type,this.Yc,this.Xc);return new nA(t.firestore,t.converter,(t=t._query,e=e,new Mw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},GO);function GO(t,e,n){var r=this;return(r=LO.call(this)||this).type=t,r.Yc=e,r.Xc=n,r}function QO(t,e,n){var r=this;return(r=FO.call(this)||this).type=t,r.Yc=e,r.Xc=n,r}function YO(t,e,n){var r=this;return(r=UO.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function XO(t,e){var n=this;return(n=BO.call(this)||this).jc=t,n.zc=e,n.type="orderBy",n}function $O(t,e,n){var r=this;return(r=qO.call(this)||this).jc=t,r.Wc=e,r.Gc=n,r.type="where",r}function JO(t,e,n,r){if(n[0]=Jo(n[0]),n[0]instanceof bO)return function(t,n,r,i){if(!r)throw new Ly(jy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var o=[],a=0,s=Pw(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Pb(n,r.key));else{var c=r.data.field(u.field);if(_b(c))throw new Ly(jy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new Ly(jy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new gw(o,i)}(t._query,t.firestore._databaseId,n[0]._document,r);var i=VA(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Ly(jy.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xw(t)&&-1!==c.indexOf("/"))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(sb.fromString(c));if(!Mb.isDocumentKey(h))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");h=new Mb(h),s.push(Pb(e,h))}else c=uO(n,r,c),s.push(c)}return new gw(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function ZO(t,e,n){if("string"==typeof(n=Jo(n))){if(""===n)throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xw(e)&&-1!==n.indexOf("/"))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(sb.fromString(n)),!Mb.isDocumentKey(e))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Pb(t,new Mb(e))}if(n instanceof eA)return Pb(t,n._key);throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+YC(n)+".")}function tR(t,e){if(!Array.isArray(t)||0===t.length)throw new Ly(jy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Ly(jy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function eR(t,e,n){if(!n.isEqual(e))throw new Ly(jy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function nR(){}function rR(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}nR.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Cb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bb(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wb(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wy()}},nR.prototype.convertObject=function(t,e){var n=this,r={};return rb(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},nR.prototype.convertGeoPoint=function(t){return new CA(bb(t.latitude),bb(t.longitude))},nR.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},nR.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){return _b(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Eb(t));default:return null}},nR.prototype.convertTimestamp=function(t){return t=yb(t),new Jy(t.seconds,t.nanos)},nR.prototype.convertDocumentKey=function(t,e){var n=sb.fromString(t);return Hy(FE(n)),t=new RC(n.get(1),n.get(3)),n=new Mb(n.popFirst(5)),t.isEqual(e)||Vy("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n};var iR,oR=(Hi(uR,iR=G=nR),uR.prototype.convertBytes=function(t){return new MA(t)},uR.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new eA(this.firestore,null,t)},uR),aR=(sR.prototype.set=function(t,e,n){return this._verifyNotCommitted(),t=cR(t,this._firestore),e=rR(t.converter,e,n),n=KA(this._dataReader,"WriteBatch.set",t._key,e,null!==t.converter,n),this._mutations.push(n.toMutation(t._key,h_.none())),this},sR.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),t=cR(t,this._firestore),e="string"==typeof(e=Jo(e))||e instanceof IA?sO(this._dataReader,"WriteBatch.update",t._key,e,n,r):aO(this._dataReader,"WriteBatch.update",t._key,e),this._mutations.push(e.toMutation(t._key,h_.exists(!0))),this},sR.prototype.delete=function(t){return this._verifyNotCommitted(),t=cR(t,this._firestore),this._mutations=this._mutations.concat(new A_(t._key,h_.none())),this},sR.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},sR.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ly(jy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},sR);function sR(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=VA(t)}function uR(t){var e=this;return(e=iR.call(this)||this).firestore=t,e}function cR(t,e){if((t=Jo(t)).firestore!==e)throw new Ly(jy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hR,lR=(Hi(fR,hR=G),fR.prototype.convertBytes=function(t){return new MA(t)},fR.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new eA(this.firestore,null,t)},fR);function fR(t){var e=this;return(e=hR.call(this)||this).firestore=t,e}function dR(t,e,n){t=XC(t,eA);var r=XC(t.firestore,yA),e=rR(t.converter,e,n);return vR(r,[KA(VA(r),"setDoc",t._key,e,null!==t.converter,n).toMutation(t._key,h_.none())])}function pR(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=XC(t,eA);var o=XC(t.firestore,yA),a=VA(o);return vR(o,[("string"==typeof(e=Jo(e))||e instanceof IA?sO(a,"updateDoc",t._key,e,n,r):aO(a,"updateDoc",t._key,e)).toMutation(t._key,h_.exists(!0))])}function mR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=Jo(t);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||mA(e[i])||(r=e[i],i++);var o,a,s,u,c,h,l={includeMetadataChanges:r.includeMetadataChanges};return mA(e[i])&&(o=e[i],e[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),e[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),e[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),t instanceof eA?(s=XC(t.firestore,yA),u=Cw(t._key.path),h={next:function(n){e[i]&&e[i](gR(s,t,n))},error:e[i+1],complete:e[i+2]}):(a=XC(t,nA),s=XC(a.firestore,yA),u=a._query,c=new lR(s),h={next:function(t){e[i]&&e[i](new AO(s,c,a,t))},error:e[i+1],complete:e[i+2]},DO(t._query)),function(t,e,n){var r=this,i=new uC(h),o=new mk(e,i,n);return t.asyncQueue.enqueueAndForget(function(){return Qi(r,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=fk,[4,MC(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return Qi(r,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=dk,[4,MC(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(_A(s),u,l)}function vR(t,e){return function(t,e){var n=this,r=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(i){switch(i.label){case 0:return n=xk,[4,IC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(_A(t),e)}function gR(t,e,n){var r=n.docs.get(e._key),i=new lR(t);return new kO(t,i,e._key,r,new MO(n.hasPendingWrites,n.fromCache),e.converter)}var yR,bR=(_R.prototype.get=function(t){var e=this,n=cR(t,this._firestore),r=new oR(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wy();if((t=t[0]).isFoundDocument())return new bO(e._firestore,r,t.key,t,n.converter);if(t.isNoDocument())return new bO(e._firestore,r,n._key,null,n.converter);throw Wy()})},_R.prototype.set=function(t,e,n){return t=cR(t,this._firestore),e=rR(t.converter,e,n),n=KA(this._dataReader,"Transaction.set",t._key,e,null!==t.converter,n),this._transaction.set(t._key,n),this},_R.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=cR(t,this._firestore),e="string"==typeof(e=Jo(e))||e instanceof IA?sO(this._dataReader,"Transaction.update",t._key,e,n,r):aO(this._dataReader,"Transaction.update",t._key,e),this._transaction.update(t._key,e),this},_R.prototype.delete=function(t){return t=cR(t,this._firestore),this._transaction.delete(t._key),this},Hi(wR,yR=_R),wR.prototype.get=function(t){var e=this,n=cR(t,this._firestore),r=new lR(this._firestore);return yR.prototype.get.call(this,t).then(function(t){return new kO(e._firestore,r,n._key,t._document,new MO(!1,!1),n.converter)})},wR);function wR(t,e){var n=this;return(n=yR.call(this,t,e)||this)._firestore=t,n}function _R(t,e){this._firestore=t,this._transaction=e,this._dataReader=VA(t)}function ER(){if("undefined"==typeof Uint8Array)throw new Ly(jy.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function SR(){if("undefined"==typeof atob)throw new Ly(jy.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var TR,IR=(NR.fromBase64String=function(t){return SR(),new NR(MA.fromBase64String(t))},NR.fromUint8Array=function(t){return ER(),new NR(MA.fromUint8Array(t))},NR.prototype.toBase64=function(){return SR(),this._delegate.toBase64()},NR.prototype.toUint8Array=function(){return ER(),this._delegate.toUint8Array()},NR.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},NR.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},NR),MR=(RR.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){TA(t=XC(t,yA));var n=_A(t),r=t._freezeSettings(),t=new nC;return SA(n,t,new tC(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},RR.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){TA(t=XC(t,yA));var e=_A(t),n=t._freezeSettings(),t=new nC;return SA(e,t,new eC(t,n.cacheSizeBytes))}(t._delegate)},RR.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ly(jy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new uS;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Qi(e,void 0,void 0,function(){var e;return Yi(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return lS.yt()?(e=t+"main",[4,lS.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(JT(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},RR),kR=(Object.defineProperty(OR.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),OR.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ky("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},OR.prototype.useEmulator=function(t,e,n){!function(t,e,n,r){void 0===r&&(r={});var i,o=(t=XC(t,tA))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Ky("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)a=r.mockUserToken,i=NI.MOCK_USER;else{var a=lo(r.mockUserToken,null===(n=t._app)||void 0===n?void 0:n.options.projectId),r=r.mockUserToken.sub||r.mockUserToken.user_id;if(!r)throw new Ly(jy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new NI(r)}t._credentials=new PC(new AC(a,i))}}(this._delegate,t,e,n=void 0===n?{}:n)},OR.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Qi(e,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,EC(t)];case 1:return e=r.sent(),[4,TC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),(i=n).Or.delete(0),jM(i))]}var i})})})}(_A(XC(this._delegate,yA)))},OR.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Qi(e,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,EC(t)];case 1:return e=r.sent(),[4,TC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return(e=t).Or.add(0),[4,LM(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(_A(XC(this._delegate,yA)))},OR.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&HC("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},OR.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},OR.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},OR.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(e,void 0,void 0,function(){var e;return Yi(this,function(r){switch(r.label){case 0:return e=jk,[4,IC(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(_A(XC(this._delegate,yA)))},OR.prototype.onSnapshotsInSync=function(t){return e=this._delegate,t=t,function(t,e){var n=this,r=new uC(e);return t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,MC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,MC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(_A(XC(e,yA)),mA(t)?t:{next:t});var e},Object.defineProperty(OR.prototype,"app",{get:function(){if(!this.tu)throw new Ly(jy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),OR.prototype.collection=function(t){try{return new $R(this,cA(this._delegate,t))}catch(t){throw qR(t,"collection()","Firestore.collection()")}},OR.prototype.doc=function(t){try{return new UR(this,hA(this._delegate,t))}catch(t){throw qR(t,"doc()","Firestore.doc()")}},OR.prototype.collectionGroup=function(t){try{return new QR(this,function(t,e){if(t=XC(t,tA),zC("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Ly(jy.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nA(t,null,(e=e,new Mw(sb.emptyPath(),e)))}(this._delegate,t))}catch(t){throw qR(t,"collectionGroup()","Firestore.collectionGroup()")}},OR.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(i){switch(i.label){case 0:return[4,_C(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new lC(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(_A(e=this._delegate),function(r){return r=new bR(e,r),t(new xR(n,r))})},OR.prototype.batch=function(){var t=this;return _A(this._delegate),new PR(new aR(this._delegate,function(e){return vR(t._delegate,e)}))},OR.prototype.loadBundle=function(t){throw new Ly(jy.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},OR.prototype.namedQuery=function(t){throw new Ly(jy.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},OR),CR=(Hi(AR,TR=G),AR.prototype.convertBytes=function(t){return new IR(new MA(t))},AR.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),UR.eu(t,this.firestore,null)},AR);function AR(t){var e=this;return(e=TR.call(this)||this).firestore=t,e}function OR(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof RC||(this.tu=t)}function RR(){}function NR(t){this._delegate=t}var xR=(FR.prototype.get=function(t){var e=this,n=iN(t);return this._delegate.get(n).then(function(t){return new HR(e._firestore,new kO(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},FR.prototype.set=function(t,e,n){return t=iN(t),n?(WC("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},FR.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=iN(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,Ji([o,e,n],r)),this},FR.prototype.delete=function(t){return t=iN(t),this._delegate.delete(t),this},FR),PR=(LR.prototype.set=function(t,e,n){return t=iN(t),n?(WC("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},LR.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=iN(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,Ji([o,e,n],r)),this},LR.prototype.delete=function(t){return t=iN(t),this._delegate.delete(t),this},LR.prototype.commit=function(){return this._delegate.commit()},LR),DR=(jR.prototype.fromFirestore=function(t,e){return t=new CO(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null),this._delegate.fromFirestore(new GR(this._firestore,t),null!=e?e:{})},jR.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},jR.nu=function(t,e){var n=jR.su,r=n.get(t);return r||(r=new WeakMap,n.set(t,r)),(n=r.get(e))||(n=new jR(t,new CR(t),e),r.set(e,n)),n},jR);function jR(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function LR(t){this._delegate=t}function FR(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new CR(t)}DR.su=new WeakMap;var UR=(BR.iu=function(t,e,n){if(t.length%2!=0)throw new Ly(jy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new BR(e,new eA(e._delegate,n,new Mb(t)))},BR.eu=function(t,e,n){return new BR(e,new eA(e._delegate,n,t))},Object.defineProperty(BR.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(BR.prototype,"parent",{get:function(){return new $R(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(BR.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),BR.prototype.collection=function(t){try{return new $R(this.firestore,cA(this._delegate,t))}catch(t){throw qR(t,"collection()","DocumentReference.collection()")}},BR.prototype.isEqual=function(t){return(t=Jo(t))instanceof eA&&lA(this._delegate,t)},BR.prototype.set=function(t,e){e=WC("DocumentReference.set",e);try{return e?dR(this._delegate,t,e):dR(this._delegate,t)}catch(t){throw qR(t,"setDoc()","DocumentReference.set()")}},BR.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pR(this._delegate,t):pR.apply(void 0,Ji([this._delegate,t,e],n))}catch(t){throw qR(t,"updateDoc()","DocumentReference.update()")}},BR.prototype.delete=function(){return vR(XC((t=this._delegate).firestore,yA),[new A_(t._key,h_.none())]);var t},BR.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=VR(e),i=KR(e,function(e){return new HR(t.firestore,new kO(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return mR(this._delegate,r,i)},BR.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=XC(t,eA);var e=XC(t.firestore,yA),n=_A(e),r=new lR(e);return function(t,e){var n=this,r=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i;return Yi(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,(s=t).persistence.runTransaction("read document","readonly",function(t){return s.Mn.mn(t,a)}))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ly(jy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=rk(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s})})},[4,SC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new kO(e,r,t._key,n,new MO(null!==n&&n.hasLocalMutations,!0),t.converter)})}:"server"===(null==t?void 0:t.source)?function(t){t=XC(t,eA);var e=XC(t.firestore,yA);return kC(_A(e),t._key,{source:"server"}).then(function(n){return gR(e,t,n)})}:function(t){t=XC(t,eA);var e=XC(t.firestore,yA);return kC(_A(e),t._key).then(function(n){return gR(e,t,n)})})(this._delegate).then(function(t){return new HR(e.firestore,new kO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},BR.prototype.withConverter=function(t){return new BR(this.firestore,t?this._delegate.withConverter(DR.nu(this.firestore,t)):this._delegate.withConverter(null))},BR);function BR(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CR(t)}function qR(t,e,n){return t.message=t.message.replace(e,n),t}function VR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mA(r))return r}return{}}function KR(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=mA(t[0])?t[0]:mA(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var zR,WR,HR=(Object.defineProperty(rN.prototype,"ref",{get:function(){return new UR(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(rN.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(rN.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(rN.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),rN.prototype.data=function(t){return this._delegate.data(t)},rN.prototype.get=function(t,e){return this._delegate.get(t,e)},rN.prototype.isEqual=function(t){return PO(this._delegate,t._delegate)},rN),GR=(Hi(nN,WR=HR),nN.prototype.data=function(t){return this._delegate.data(t)},nN),QR=(eN.prototype.where=function(t,e,n){try{return new eN(this.firestore,jO(this._delegate,(r=n,i=e,o=SO("where",t),new VO(o,i,r))))}catch(t){throw qR(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},eN.prototype.orderBy=function(t,e){try{return new eN(this.firestore,jO(this._delegate,(n=void 0===e?"asc":e,r=SO("orderBy",t),new KO(r,n))))}catch(t){throw qR(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},eN.prototype.limit=function(t){try{return new eN(this.firestore,jO(this._delegate,($C("limit",e=t),new zO("limit",e,"F"))))}catch(t){throw qR(t,"limit()","Query.limit()")}var e},eN.prototype.limitToLast=function(t){try{return new eN(this.firestore,jO(this._delegate,($C("limitToLast",e=t),new zO("limitToLast",e,"L"))))}catch(t){throw qR(t,"limitToLast()","Query.limitToLast()")}var e},eN.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new eN(this.firestore,jO(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new WO("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw qR(t,"startAt()","Query.startAt()")}},eN.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new eN(this.firestore,jO(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new WO("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw qR(t,"startAfter()","Query.startAfter()")}},eN.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new eN(this.firestore,jO(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new HO("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw qR(t,"endBefore()","Query.endBefore()")}},eN.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new eN(this.firestore,jO(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new HO("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw qR(t,"endAt()","Query.endAt()")}},eN.prototype.isEqual=function(t){return fA(this._delegate,t._delegate)},eN.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=XC(t,nA);var e=XC(t.firestore,yA),n=_A(e),r=new lR(e);return function(t,e){var n=this,r=new uS;return t.asyncQueue.enqueueAndForget(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o;return Yi(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,vI(t,e,!0)];case 1:return o=a.sent(),r=new Mk(e,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=rk(i,"Failed to execute query '"+e+" against cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,SC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new AO(e,r,t,n)})}:"server"===(null==t?void 0:t.source)?function(t){t=XC(t,nA);var e=XC(t.firestore,yA),n=_A(e),r=new lR(e);return CC(n,t._query,{source:"server"}).then(function(n){return new AO(e,r,t,n)})}:function(t){t=XC(t,nA);var e=XC(t.firestore,yA),n=_A(e),r=new lR(e);return DO(t._query),CC(n,t._query).then(function(n){return new AO(e,r,t,n)})})(this._delegate).then(function(t){return new XR(e.firestore,new AO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},eN.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=VR(e),i=KR(e,function(e){return new XR(t.firestore,new AO(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return mR(this._delegate,r,i)},eN.prototype.withConverter=function(t){return new eN(this.firestore,t?this._delegate.withConverter(DR.nu(this.firestore,t)):this._delegate.withConverter(null))},eN),YR=(Object.defineProperty(tN.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(tN.prototype,"doc",{get:function(){return new GR(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(tN.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(tN.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),tN),XR=(Object.defineProperty(ZR.prototype,"query",{get:function(){return new QR(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(ZR.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ZR.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(ZR.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(ZR.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new GR(t._firestore,e)})},enumerable:!1,configurable:!0}),ZR.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new YR(e._firestore,t)})},ZR.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new GR(n._firestore,r))})},ZR.prototype.isEqual=function(t){return PO(this._delegate,t._delegate)},ZR),$R=(Hi(JR,zR=QR),Object.defineProperty(JR.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(JR.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(JR.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new UR(this.firestore,t):null},enumerable:!1,configurable:!0}),JR.prototype.doc=function(t){try{return new UR(this.firestore,void 0===t?hA(this._delegate):hA(this._delegate,t))}catch(t){throw qR(t,"doc()","CollectionReference.doc()")}},JR.prototype.add=function(t){var e,n,r,i=this;return e=this._delegate,n=t,t=XC(e.firestore,yA),r=hA(e),n=rR(e.converter,n),vR(t,[KA(VA(e.firestore),"addDoc",r._key,n,null!==e.converter,{}).toMutation(r._key,h_.exists(!1))]).then(function(){return r}).then(function(t){return new UR(i.firestore,t)})},JR.prototype.isEqual=function(t){return lA(this._delegate,t._delegate)},JR.prototype.withConverter=function(t){return new JR(this.firestore,t?this._delegate.withConverter(DR.nu(this.firestore,t)):this._delegate.withConverter(null))},JR);function JR(t,e){var n=this;return(n=zR.call(this,t,e)||this).firestore=t,n._delegate=e,n}function ZR(t,e){this._firestore=t,this._delegate=e}function tN(t,e){this._firestore=t,this._delegate=e}function eN(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CR(t)}function nN(){return null!==WR&&WR.apply(this,arguments)||this}function rN(t,e){this._firestore=t,this._delegate=e}function iN(t){return XC(t,eA)}function oN(t){this._delegate=t}function aN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(IA.bind.apply(IA,Ji([void 0],t)))}aN.documentId=function(){return new aN(cb.keyField().canonicalString())},aN.prototype.isEqual=function(t){return(t=Jo(t))instanceof IA&&this._delegate._internalPath.isEqual(t._internalPath)},H=aN,oN.serverTimestamp=function(){var t=new JA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new oN(t)},oN.delete=function(){var t=new WA("deleteField");return t._methodName="FieldValue.delete",new oN(t)},oN.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ZA("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new oN(n)},oN.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tO("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new oN(n)},oN.increment=function(t){return(t=new eO("increment",t))._methodName="FieldValue.increment",new oN(t)},oN.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)};var sN,uN,cN={Firestore:kR,GeoPoint:CA,Timestamp:Jy,Blob:IR,Transaction:xR,WriteBatch:PR,DocumentReference:UR,DocumentSnapshot:HR,Query:QR,QueryDocumentSnapshot:GR,QuerySnapshot:XR,CollectionReference:$R,FieldPath:H,FieldValue:G=oN,setLogLevel:function(t){Fy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(sN=Ca).INTERNAL.registerComponent(new Zo("firestore",function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new kR(e,new yA(e,t),new MR)},"PUBLIC").setServiceProps(Object.assign({},cN))),sN.registerVersion("@firebase/firestore","2.4.1"),(uN=kR).prototype.loadBundle=function(t){return e=this._delegate,n=t,r=_A(e=XC(e,yA)),t=new gA,function(t,e,r){var i,o=this,a=(i=n,e=wM(e),i=function(t){if(t instanceof Uint8Array)return sC(t,void 0);if(t instanceof ArrayBuffer)return sC(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new cC(i,e));t.asyncQueue.enqueueAndForget(function(){return Qi(o,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return e=Xk,[4,IC(t)];case 1:return e.apply(void 0,[n.sent(),a,r]),[2]}})})})}(r,e._databaseId,t),t;var e,n,r},uN.prototype.namedQuery=function(t){var e=this,n=this._delegate,t=t;return function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,SC(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(_A(n=XC(n,yA)),t).then(function(t){return t?new nA(n,null,t.query):null}).then(function(t){return t?new QR(e,t):null})};var hN,lN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fN=(Hi(dN,hN=Error),dN);function dN(t,e,n){return e=hN.call(this,e)||this,Object.setPrototypeOf(e,dN.prototype),e.code=t,e.details=n,e}var pN=(mN.prototype.getAuthToken=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},mN.prototype.getInstanceIdToken=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},mN.prototype.getContext=function(){return Qi(this,void 0,void 0,function(){var t,e;return Yi(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},mN);function mN(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}function vN(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var gN=(yN.prototype.encode=function(t){var e=this;if(null==t)return null;if("number"==typeof(t=t instanceof Number?t.valueOf():t)&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return vN(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},yN.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?vN(t,function(t){return e.decode(t)}):t},yN);function yN(){}var bN,wN,_N,EN=(Object.defineProperty(SN.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),SN.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},SN.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},SN.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},SN.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},SN.prototype.postJSON=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o;return Yi(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},SN.prototype.getAppCheckToken=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},SN.prototype.call=function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,l=new Promise(function(t,e){h=setTimeout(function(){e(new fN("deadline-exceeded","deadline-exceeded"))},c)}),s=(a={timer:h,promise:l}).timer,a=a.promise,[4,Promise.race([TN(s,this.postJSON(r,i,o)),a,TN(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new fN("cancelled","Firebase Functions instance was deleted.");if(s=function(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,t=void 0;try{var o=e&&e.error;if(o){var a=o.status;if("string"==typeof a){if(!lN[a])return new fN("internal","internal");r=lN[a],i=a}var s=o.message;"string"==typeof s&&(i=s),void 0!==(t=o.details)&&(t=n.decode(t))}}catch(t){}return"ok"===r?null:new fN(r,i,t)}(a.status,a.json,this.serializer))throw s;if(!a.json)throw new fN("internal","Response is not valid JSON object.");if(void 0===(s=void 0===(s=a.json.data)?a.json.result:s))throw new fN("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,h,l})})},SN);function SN(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new gN,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new pN(e,n),this.cancelAllRequests=new Promise(function(t){a.deleteService=function(){return t()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=i}}function TN(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}function IN(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function MN(t,e,n){var r,i=new Promise(function(i,o){IN(r=t[e].apply(t,n)).then(i,o)});return i.request=r,i}function kN(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function CN(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return MN(this[e],r,arguments)})})}function AN(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function ON(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=MN(t,r,arguments)).then(function(t){if(t)return new NN(t,n.request)});var t,n})})}function RN(t){this._index=t}function NN(t,e){this._cursor=t,this._request=e}function xN(t){this._store=t}function PN(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function DN(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new PN(n)}function jN(t){this._db=t}function LN(t,e,n){var e=MN(indexedDB,"open",[t,e]),r=e.request;return r&&(r.onupgradeneeded=function(t){n&&n(new DN(r.result,t.oldVersion,r.transaction))}),e.then(function(t){return new jN(t)})}function FN(t){return MN(indexedDB,"deleteDatabase",[t])}bN=Ca,wN=fetch.bind(self),_N={Functions:EN},bN.INTERNAL.registerComponent(new Zo("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),e=t.getProvider("app-check-internal"),t=t.getProvider("messaging");return new EN(r,i,t,e,n,wN)},"PUBLIC").setServiceProps(_N).setMultipleInstances(!0)),Ca.registerVersion("@firebase/functions","0.6.16"),kN(RN,"_index",["name","keyPath","multiEntry","unique"]),CN(RN,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ON(RN,"_index",IDBIndex,["openCursor","openKeyCursor"]),kN(NN,"_cursor",["direction","key","primaryKey","value"]),CN(NN,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(NN.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),IN(e._request).then(function(t){if(t)return new NN(t,e._request)})})})}),xN.prototype.createIndex=function(){return new RN(this._store.createIndex.apply(this._store,arguments))},xN.prototype.index=function(){return new RN(this._store.index.apply(this._store,arguments))},kN(xN,"_store",["name","keyPath","indexNames","autoIncrement"]),CN(xN,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ON(xN,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),AN(xN,"_store",IDBObjectStore,["deleteIndex"]),PN.prototype.objectStore=function(){return new xN(this._tx.objectStore.apply(this._tx,arguments))},kN(PN,"_tx",["objectStoreNames","mode"]),AN(PN,"_tx",IDBTransaction,["abort"]),DN.prototype.createObjectStore=function(){return new xN(this._db.createObjectStore.apply(this._db,arguments))},kN(DN,"_db",["name","version","objectStoreNames"]),AN(DN,"_db",IDBDatabase,["deleteObjectStore","close"]),jN.prototype.transaction=function(){return new PN(this._db.transaction.apply(this._db,arguments))},kN(jN,"_db",["name","version","objectStoreNames"]),AN(jN,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[xN,RN].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})})}),[RN,xN].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})});var UN=1e4,BN="w:0.4.32",qN="FIS_v2",VN="https://firebaseinstallations.googleapis.com/v1",KN=36e5,G=((H={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',H["not-registered"]="Firebase Installation is not registered.",H["installation-not-found"]="Firebase Installation not found.",H["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',H["app-offline"]="Could not process request. Application offline.",H["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",H),zN=new Mo("installations","Installations",G);function WN(t){return t instanceof To&&t.code.includes("request-failed")}function HN(t){return t=t.projectId,VN+"/projects/"+t+"/installations"}function GN(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function QN(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=(n=r.sent()).error,[2,zN.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function YN(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function XN(t,e){return e=e.refreshToken,(t=YN(t)).append("Authorization",qN+" "+e),t}function $N(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}})})}function JN(t){return new Promise(function(e){setTimeout(e,t)})}var ZN=/^[cdef][\w-]{21}$/,tx="";function ex(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return btoa(String.fromCharCode.apply(String,Ji([],$i(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22);return ZN.test(e)?e:tx}catch(t){return tx}}function nx(t){return t.appName+"!"+t.appId}var rx=new Map;function ix(t,e){ox(t=nx(t),e),function(t,e){var n=sx();n&&n.postMessage({key:t,fid:e}),ux()}(t,e)}function ox(t,e){var n,r,t=rx.get(t);if(t)try{for(var i=Xi(t),o=i.next();!o.done;o=i.next())(0,o.value)(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var ax=null;function sx(){return!ax&&"BroadcastChannel"in self&&((ax=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){ox(t.data.key,t.data.fid)}),ax}function ux(){0===rx.size&&ax&&(ax.close(),ax=null)}var cx,hx="firebase-installations-database",lx=1,fx="firebase-installations-store",dx=null;function px(){return dx=dx||LN(hx,lx,function(t){0===t.oldVersion&&t.createObjectStore(fx)})}function mx(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:return n=nx(t),[4,px()];case 1:return i=a.sent(),r=i.transaction(fx,"readwrite"),[4,(i=r.objectStore(fx)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||ix(t,e.fid),[2,e]}})})}function vx(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return e=nx(t),[4,px()];case 1:return[4,(n=(n=r.sent()).transaction(fx,"readwrite")).objectStore(fx).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}})})}function gx(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return n=nx(t),[4,px()];case 1:return i=s.sent(),r=i.transaction(fx,"readwrite"),[4,(i=r.objectStore(fx)).get(n)];case 2:return o=s.sent(),void 0!==(a=e(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||ix(t,a.fid),[2,a]}})})}function yx(t){return Qi(this,void 0,void 0,function(){var e,n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,gx(t,function(n){return n=wx(n||{fid:ex(),registrationStatus:0}),n=function(t,e){if(0!==e.registrationStatus)return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return Qi(this,void 0,void 0,function(){var e,n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,bx(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,JN(100)];case 3:return i.sent(),[4,bx(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,yx(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}})})}(t)}:{installationEntry:e};if(!navigator.onLine){var n=Promise.reject(zN.create("app-offline"));return{installationEntry:e,registrationPromise:n}}return e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},t=function(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return Qi(this,void 0,void 0,function(){var e,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return e=HN(t),r=YN(t),a={fid:n,authVersion:qN,appId:t.appId,sdkVersion:BN},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,$N(function(){return fetch(e,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:GN(a.authToken)}];case 3:return[4,QN("Create Installation",o)];case 4:throw s.sent()}})})}(t,e)];case 1:return n=i.sent(),[2,mx(t,n)];case 2:return WN(r=i.sent())&&409===r.customData.serverCode?[4,vx(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,mx(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,e),{installationEntry:e,registrationPromise:t}}(t,n),e=n.registrationPromise,n.installationEntry})];case 1:return(n=i.sent()).fid!==tx?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function bx(t){return gx(t,function(t){if(!t)throw zN.create("installation-not-found");return wx(t)})}function wx(t){return 1===(e=t).registrationStatus&&e.registrationTime+UN<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function _x(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Qi(this,void 0,void 0,function(){var t,i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,HN(t)+"/"+e+"/authTokens:generate"}(n,e),i=XN(n,e),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:BN}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,$N(function(){return fetch(t,o)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,GN(s=u.sent())];case 3:return[4,QN("Generate Auth Token",a)];case 4:throw u.sent()}})})}function Ex(t,e){return void 0===e&&(e=!1),Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return[4,gx(t.appConfig,function(r){if(!Tx(r))throw zN.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+KN}(i)){if(1===o.requestStatus)return n=function(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,Sx(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,JN(100)];case 3:return r.sent(),[4,Sx(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,Ex(t,e)]:[2,n]}})})}(t,e),r;if(!navigator.onLine)throw zN.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=Gi(Gi({},i),{authToken:o}),n=function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,_x(t,e)];case 1:return n=o.sent(),i=Gi(Gi({},e),{authToken:n}),[4,mx(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!WN(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,vx(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Gi(Gi({},e),{authToken:{requestStatus:0}}),[4,mx(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,o),o}return r})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function Sx(t){return gx(t,function(t){if(!Tx(t))throw zN.create("not-registered");var e=t.authToken;return 1===(e=e).requestStatus&&e.requestTime+UN<Date.now()?Gi(Gi({},t),{authToken:{requestStatus:0}}):t})}function Tx(t){return void 0!==t&&2===t.registrationStatus}function Ix(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,HN(t)+"/"+e}(t,e),i=XN(t,e),r={method:"DELETE",headers:i},[4,$N(function(){return fetch(n,r)})];case 1:return(i=o.sent()).ok?[3,3]:[4,QN("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}})})}function Mx(t){return zN.create("missing-app-config-values",{valueName:t})}(cx=Ca).INTERNAL.registerComponent(new Zo("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Mx("App Configuration");if(!t.name)throw Mx("App Name");try{for(var r=Xi(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Mx(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,yx(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||Ex(t)).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Qi(this,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return[4,function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return[4,yx(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(t.appConfig)];case 1:return n.sent(),[4,Ex(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,gx(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw zN.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw zN.create("app-offline");case 3:return[4,Ix(e,n)];case 4:return r.sent(),[4,vx(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){sx();var n=nx(t);(t=rx.get(n))||(t=new Set,rx.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=nx(t=n),(t=rx.get(i))&&(t.delete(r),0===t.size&&rx.delete(i),ux())}}(n,t)}}},"PUBLIC")),cx.registerVersion("@firebase/installations","0.4.32");var kx,G=((H={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',H["only-available-in-window"]="This method is available in a Window context.",H["only-available-in-sw"]="This method is available in a service worker context.",H["permission-default"]="The notification permission was not granted and dismissed instead.",H["permission-blocked"]="The notification permission was not granted and blocked instead.",H["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",H["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",H["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",H["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",H["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",H["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",H["token-update-no-token"]="FCM returned no token when updating the user to push.",H["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",H["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",H["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",H["invalid-vapid-key"]="The public VAPID key must be a string.",H["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",H),Cx=new Mo("messaging","Messaging",G),Ax="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ox="https://fcmregistrations.googleapis.com/v1",Rx="FCM_MSG",Nx="google.c.a.c_id";function xx(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,Ji([],$i(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(H=kx=kx||{}).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked";var Px="fcm_token_details_db",Dx=5,jx="fcm_token_object_Store";function Lx(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes(Px))return[2,null];r.label=2;case 2:return e=null,[4,LN(Px,Dx,function(r){return Qi(n,void 0,void 0,function(){var n,i,o;return Yi(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(jx)?[4,(o=r.transaction.objectStore(jx)).index("fcmSenderId").get(t)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:xx(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:xx(i.auth),p256dh:xx(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:xx(i.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,FN(Px)];case 4:return r.sent(),[4,FN("fcm_vapid_details_db")];case 5:return r.sent(),[4,FN("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}})})}var Fx="firebase-messaging-database",Ux=1,Bx="firebase-messaging-store",qx=null;function Vx(){return qx=qx||LN(Fx,Ux,function(t){0===t.oldVersion&&t.createObjectStore(Bx)})}function Kx(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return e=Wx(t),[4,Vx()];case 1:return[4,r.sent().transaction(Bx).objectStore(Bx).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,Lx(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,zx(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}})})}function zx(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return n=Wx(t),[4,Vx()];case 1:return[4,(r=(r=i.sent()).transaction(Bx,"readwrite")).objectStore(Bx).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}})})}function Wx(t){return t.appConfig.appId}function Hx(t,e){return Qi(this,void 0,void 0,function(){var n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,Qx(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(Gx(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,Cx.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),Cx.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}})})}function Gx(t){return t=t.projectId,Ox+"/projects/"+t+"/registrations"}function Qx(t){var e=t.appConfig,n=t.installations;return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Yx(t){var e=t.p256dh,n=t.auth,r=t.endpoint,t=t.vapidKey,e={web:{endpoint:r,auth:n,p256dh:e}};return t!==Ax&&(e.web.applicationPubKey=t),e}function Xx(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o;return Yi(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw Cx.create("permission-blocked");return[4,function(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){for(var t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}})})}(e,n)];case 1:return o=a.sent(),[4,Kx(t)];case 2:return r=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:xx(o.getKey("auth")),p256dh:xx(o.getKey("p256dh"))},r?[3,3]:[2,Jx(t,i)];case 3:if(s=r.subscriptionOptions,u=i.vapidKey===s.vapidKey,c=i.endpoint===s.endpoint,h=i.auth===s.auth,s=i.p256dh===s.p256dh,u&&c&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,Hx(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,Jx(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return Qi(this,void 0,void 0,function(){var r,i,o;return Yi(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:return[4,Qx(t)];case 1:n=a.sent(),r=Yx(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Gx(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),Cx.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,Cx.create("token-update-failed",{errorInfo:o});if(!i.token)throw Cx.create("token-update-no-token");return[2,i.token]}})})}(e,t)];case 1:return r=a.sent(),i=Gi(Gi({},t),{token:r,createTime:Date.now()}),[4,zx(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,$x(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var s,u,c,h})})}function $x(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,Kx(t)];case 1:return(n=r.sent())?[4,Hx(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return e=Wx(t),[4,Vx()];case 1:return[4,(n=(n=r.sent()).transaction(Bx,"readwrite")).objectStore(Bx).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}})})}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}})})}function Jx(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,function(t,e){return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:return[4,Qx(t)];case 1:n=a.sent(),r=Yx(e),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Gx(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),Cx.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,Cx.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw Cx.create("token-subscribe-no-token");return[2,i.token]}})})}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,zx(t,n)];case 2:return r.sent(),[2,n.token]}})})}function Zx(t){return"object"==typeof t&&t&&Nx in t}function tP(t){return new Promise(function(e){setTimeout(e,t)})}var eP=(Object.defineProperty(nP.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),nP.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Cx.create("invalid-bg-handler");this.bgMessageHandler=t},nP.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},nP.prototype.getToken=function(){var t;return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,Kx(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:Ax,n.label=2;case 2:return[2,Xx(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},nP.prototype.deleteToken=function(){return $x(this.firebaseDependencies,self.registration)},nP.prototype.requestPermission=function(){throw Cx.create("only-available-in-window")},nP.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Cx.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Cx.create("invalid-vapid-key");this.vapidKey=t},nP.prototype.useServiceWorker=function(){throw Cx.create("only-available-in-window")},nP.prototype.onMessage=function(){throw Cx.create("only-available-in-window")},nP.prototype.onTokenRefresh=function(){throw Cx.create("only-available-in-window")},nP.prototype.onPush=function(t){return Qi(this,void 0,void 0,function(){var e,n,r;return Yi(this,function(i){switch(i.label){case 0:return(r=function(t){if(!(t=t.data))return null;try{return t.json()}catch(t){return null}}(t))?[4,rP()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=kx.PUSH_RECEIVED;try{for(var i=Xi(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((c=Gi({},(s=r).notification)).data=((u={})[Rx]=s,u),c))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(a={from:(o=r).from,collapseKey:o.collapse_key,messageId:o.fcm_message_id},s=a,(u=o).notification&&(s.notification={},(c=u.notification.title)&&(s.notification.title=c),(c=u.notification.body)&&(s.notification.body=c),(u=u.notification.image)&&(s.notification.image=u)),s=a,(u=o).data&&(s.data=u.data),s=a,(u=o).fcmOptions&&(s.fcmOptions={},(o=u.fcmOptions.link)&&(s.fcmOptions.link=o),(u=u.fcmOptions.analytics_label)&&(s.fcmOptions.analyticsLabel=u)),r=a,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,tP(1e3)]);case 4:return i.sent(),[2]}var o,a,s,u,c})})},nP.prototype.onSubChange=function(t){var e;return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,$x(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,Kx(this.firebaseDependencies)];case 3:return n=r.sent(),[4,$x(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,Xx(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:Ax)];case 5:return r.sent(),[2]}})})},nP.prototype.onNotificationClick=function(t){var e;return Qi(this,void 0,void 0,function(){var n,r,i,o,a;return Yi(this,function(s){switch(s.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[Rx])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||(Zx(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return Qi(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:return[4,rP()];case 1:e=u.sent();try{for(n=Xi(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,tP(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=kx.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}})})},nP);function nP(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}function rP(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var iP=(Object.defineProperty(oP.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),oP.prototype.messageEventListener=function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===kx.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),Zx(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i})})},oP.prototype.getVapidKey=function(){return this.vapidKey},oP.prototype.getSwReg=function(){return this.swRegistration},oP.prototype.getToken=function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Cx.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Xx(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},oP.prototype.updateVapidKey=function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Ax),[2]})})},oP.prototype.updateSwReg=function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Cx.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},oP.prototype.registerDefaultSw=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=e.sent(),Cx.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},oP.prototype.deleteToken=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,$x(this.firebaseDependencies,this.swRegistration)]}})})},oP.prototype.requestPermission=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Cx.create("permission-blocked"):Cx.create("permission-default")}})})},oP.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Cx.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Cx.create("invalid-vapid-key");this.vapidKey=t},oP.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Cx.create("invalid-sw-registration");if(this.swRegistration)throw Cx.create("use-sw-after-get-token");this.swRegistration=t},oP.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},oP.prototype.setBackgroundMessageHandler=function(){throw Cx.create("only-available-in-sw")},oP.prototype.onBackgroundMessage=function(){throw Cx.create("only-available-in-sw")},oP.prototype.onTokenRefresh=function(){return function(){}},oP.prototype.logEvent=function(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case kx.NOTIFICATION_CLICKED:return"notification_open";case kx.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[Nx],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},oP);function oP(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}function aP(t){return Cx.create("missing-app-config-values",{valueName:t})}function sP(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}G={isSupported:sP},Ca.INTERNAL.registerComponent(new Zo("messaging",function(t){var e=t.getProvider("app").getImmediate(),t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw aP("App Configuration Object");if(!t.name)throw aP("App Name");var r=t.options;try{for(var i=Xi(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw aP(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!sP())throw Cx.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?eP:iP)(t)},"PUBLIC").setServiceProps(G));var uP,cP="firebasestorage.googleapis.com",hP="storageBucket",lP=(Hi(fP,uP=To),fP.prototype._codeEquals=function(t){return dP(t)===this.code},Object.defineProperty(fP.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),fP);function fP(t,e){return(t=uP.call(this,dP(t),"Firebase Storage: "+e+" ("+dP(t)+")")||this).customData={serverResponse:null},t._baseMessage=t.message,Object.setPrototypeOf(t,fP.prototype),t}function dP(t){return"storage/"+t}function pP(){return new lP("unknown","An unknown error occurred, please check the error payload for server response.")}function mP(){return new lP("canceled","User canceled the upload/download.")}function vP(){return new lP("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function gP(t){return new lP("invalid-argument",t)}function yP(){return new lP("app-deleted","The Firebase app was deleted.")}function bP(t){return new lP("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wP(t,e){return new lP("invalid-format","String does not match format '"+t+"': "+e)}function _P(t){throw new lP("internal-error","Internal error: "+t)}var EP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},SP=function(t,e){this.data=t,this.contentType=e||null};function TP(t,e){switch(t){case EP.RAW:return new SP(IP(e));case EP.BASE64:case EP.BASE64URL:return new SP(MP(t,e));case EP.DATA_URL:return new SP(function(t){return(t=new CP(t)).base64?MP(EP.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw wP(EP.DATA_URL,"Malformed data URL.")}return IP(e)}(t.rest)}(e),new CP(e).contentType)}throw pP()}function IP(t){for(var e=[],n=0;n<t.length;n++){var r,i,o=t.charCodeAt(n);o<=127?e.push(o):o<=2047?e.push(192|o>>6,128|63&o):55296==(64512&o)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=o,i=t.charCodeAt(++n),e.push(240|(o=65536|(1023&r)<<10|1023&i)>>18,128|o>>12&63,128|o>>6&63,128|63&o)):e.push(239,191,189):56320==(64512&o)?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(e)}function MP(t,e){switch(t){case EP.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw wP(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case EP.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw wP(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw wP(t,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var kP,CP=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw wP(EP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=";base64",(e=r).length>=n.length&&e.substring(e.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},AP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OP(t){switch(t){case"running":case"pausing":case"canceling":return AP.RUNNING;case"paused":return AP.PAUSED;case"success":return AP.SUCCESS;case"canceled":return AP.CANCELED;case"error":default:return AP.ERROR}}(H=kP=kP||{})[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT";var RP=(NP.prototype.send=function(t,e,n,r){if(this.sent_)throw _P("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},NP.prototype.getErrorCode=function(){if(!this.sent_)throw _P("cannot .getErrorCode() before sending");return this.errorCode_},NP.prototype.getStatus=function(){if(!this.sent_)throw _P("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},NP.prototype.getResponseText=function(){if(!this.sent_)throw _P("cannot .getResponseText() before sending");return this.xhr_.responseText},NP.prototype.abort=function(){this.xhr_.abort()},NP.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},NP.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},NP.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},NP);function NP(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=kP.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=kP.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=kP.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}var xP=(PP.prototype.createConnection=function(){return new RP},PP);function PP(){}var DP=(Object.defineProperty(jP.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(jP.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),jP.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},jP.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},jP.makeFromBucketSpec=function(t,e){var n;try{n=jP.makeFromUrl(t,e)}catch(e){return new jP(t,"")}if(""===n.path)return n;throw new lP("invalid-default-bucket","Invalid default bucket '"+t+"'.")},jP.makeFromUrl=function(t,e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=e.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(e===cP?"(?:storage.googleapis.com|storage.cloud.google.com)":e)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],h=c.regex.exec(t);if(h){n=new jP(h[c.indices.bucket],h[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new lP("invalid-url","Invalid URL '"+t+"'.");return n},jP);function jP(t,e){this.bucket=t,this.path_=e}var LP=(FP.prototype.getPromise=function(){return this.promise_},FP.prototype.cancel=function(t){},FP);function FP(t){this.promise_=Promise.reject(t)}function UP(t){return"string"==typeof t||t instanceof String}function BP(t){return qP()&&t instanceof Blob}function qP(){return"undefined"!=typeof Blob}function VP(t,e,n,r){if(r<e)throw gP("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n<r)throw gP("Invalid value for '"+t+"'. Expected "+n+" or less.")}function KP(t,e){var n=e.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+e:e)+"/v0"+t}function zP(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r=r.slice(0,-1)}var WP=(HP.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function h(t,e){var n,r=c.resolve_,i=c.reject_,o=e.connection;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(t){i(t)}else null!==o?((n=pP()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?yP:mP)()):i(n=new lP("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function l(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function d(e){i=setTimeout(function(){i=null,t(p,l())},e)}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||l()||o?f.call.apply(f,Ji([null,t],e)):(r<64&&(r*=2),d(1===a?(a=2,0):1e3*(r+Math.random()))))}function m(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),d(0)):t||(a=1)))}this.canceled_?h(0,new GP(!1,null,!0)):this.backoffId_=(t=function(t,e){var n;function r(t){var e=t.loaded,t=t.lengthComputable?t.total:-1;null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new GP(!1,null,!0)):(n=c.pool_.createConnection(),c.pendingConnection_=n,null!==c.progressCallback_&&n.addUploadProgressListener(r),n.send(c.url_,c.method_,c.body_,c.headers_).then(function(){null!==c.progressCallback_&&n.removeUploadProgressListener(r),c.pendingConnection_=null;var e,i=n.getErrorCode()===kP.NO_ERROR,o=n.getStatus();i&&!c.isRetryStatusCode_(o)?(e=-1!==c.successCodes_.indexOf(o),t(!0,new GP(e,n))):(e=n.getErrorCode()===kP.ABORT,t(!1,new GP(!1,null,e)))}))},e=h,n=this.timeout_,i=null,u=s=o=!(r=1),d(a=0),setTimeout(function(){o=!0,m(!0)},n),m)},HP.prototype.getPromise=function(){return this.promise_},HP.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},HP.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t),t=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||t},HP);function HP(t,e,n,r,i,o,a,s,u,c,h){var l=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise(function(t,e){l.resolve_=t,l.reject_=e,l.start_()})}var GP=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n},QP=(YP.prototype.size=function(){return this.size_},YP.prototype.type=function(){return this.type_},YP.prototype.slice=function(t,e){if(BP(this.data_)){var n=this.data_,r=(i=t,r=e,(n=n).webkitSlice?n.webkitSlice(i,r):n.mozSlice?n.mozSlice(i,r):n.slice?n.slice(i,r):null);return null===r?null:new YP(r)}var i;return new YP(new Uint8Array(this.data_.buffer,t,e-t),!0)},YP.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(qP()){var n=t.map(function(t){return t instanceof YP?t.data_:t});return new YP(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(qP())return new Blob(t);throw new lP("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,n))}var n=t.map(function(t){return UP(t)?TP(EP.RAW,t).data:t.data_}),r=0;n.forEach(function(t){r+=t.byteLength});var i=new Uint8Array(r),o=0;return n.forEach(function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]}),new YP(i,!0)},YP.prototype.uploadData=function(){return this.data_},YP);function YP(t,e){var n=0,r="";BP(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}function XP(t){var e;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(t=e)||Array.isArray(t)?null:e}function $P(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function JP(t,e){return e}var ZP=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||JP},tD=null;function eD(){if(tD)return tD;var t=[];t.push(new ZP("bucket")),t.push(new ZP("generation")),t.push(new ZP("metageneration")),t.push(new ZP("name","fullPath",!0));var e=new ZP("name");return e.xform=function(t,e){return!UP(e=e)||e.length<2?e:$P(e)},t.push(e),(e=new ZP("size")).xform=function(t,e){return void 0!==e?Number(e):e},t.push(e),t.push(new ZP("timeCreated")),t.push(new ZP("updated")),t.push(new ZP("md5Hash",null,!0)),t.push(new ZP("cacheControl",null,!0)),t.push(new ZP("contentDisposition",null,!0)),t.push(new ZP("contentEncoding",null,!0)),t.push(new ZP("contentLanguage",null,!0)),t.push(new ZP("contentType",null,!0)),t.push(new ZP("metadata","customMetadata",!0)),tD=t}function nD(t,e,n){return null===(e=XP(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,r=new DP(n,r);return e._makeStorageReference(r)}})}(r,t),r}(t,e,n)}function rD(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var iD="prefixes",oD="items",aD=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function sD(t){if(!t)throw pP()}function uD(t,e){return function(n,r){return sD(null!==(r=nD(t,r,e))),r}}function cD(t,e){return function(n,r){return sD(null!==(r=function(t,e,n){return null===(n=XP(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[iD])for(var i=0,o=n[iD];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new DP(e,a));r.prefixes.push(s)}if(n[oD])for(var u=0,c=n[oD];u<c.length;u++){var h=c[u];s=t._makeStorageReference(new DP(e,h.name)),r.items.push(s)}return r}(t,e,n)}(t,e,r))),r}}function hD(t){return function(e,n){var r,i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new lP("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new lP("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,new lP("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,new lP("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function lD(t){var e=hD(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(n=t.path,i=new lP("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function fD(t,e,n){var r=KP(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,i=new aD(r,"GET",uD(t,n),i);return i.errorHandler=lD(e),i}function dD(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}var pD=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function mD(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){sD(!1)}return sD(!!n&&-1!==(e||["active"]).indexOf(n)),n}var vD=function(t,e,n){"function"==typeof t||null!=e||null!=n?(this.next=t,this.error=e,this.complete=n):(this.next=(t=t).next,this.error=t.error,this.complete=t.complete)};function gD(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var yD=(bD.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},bD.prototype._shouldDoResumable=function(t){return 262144<t.size()},bD.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},bD.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},bD.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=dD(e,r,i),i={name:a.fullPath},o=KP(o,t.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=rD(a,n),t=t.maxUploadRetryTime;return(t=new aD(o,"POST",function(t){var e;mD(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){sD(!1)}return sD(UP(e)),e},t)).urlParams=i,t.headers=r,t.body=n,t.errorHandler=hD(e),t}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),n=t._ref.storage._makeRequest(r,e,n);(t._request=n).getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},bD.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){return t=t.maxUploadRetryTime,(t=new aD(n,"POST",function(t){var e=mD(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){sD(!1)}return n||sD(!1),n=Number(n),sD(!isNaN(n)),new pD(n,r.size(),"final"===e)},t)).headers={"X-Goog-Upload-Command":"query"},t.errorHandler=hD(e),t}(t._ref.storage,t._ref._location,e,t._blob),r=t._ref.storage._makeRequest(i,n,r);(t._request=r).getPromise().then(function(e){t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},bD.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new pD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var u=new pD(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new lP("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,h=c;if(0<i&&(h=Math.min(h,i)),a=u.current,i={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},null===(c=r.slice(a,a+h)))throw vP();return a=e.maxUploadRetryTime,(a=new aD(n,"POST",function(t,n){var i=mD(t,["active","final"]),a=u.current+h,s=r.size();return n="final"===i?uD(e,o)(t,n):null,new pD(a,s,"final"===i,n)},a)).headers=i,a.body=c.uploadData(),a.progressCallback=s||null,a.errorHandler=hD(t),a}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(i){return t._error=i,void t._transition("error")}o=t._ref.storage._makeRequest(a,i,o),(t._request=o).getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},bD.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},bD.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=fD(t._ref.storage,t._ref._location,t._mappings),n=t._ref.storage._makeRequest(r,e,n);(t._request=n).getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},bD.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=dD(e,r,i),i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rD(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n";if(null===(r=QP.getBlob(i,r,"\r\n--"+s+"--")))throw vP();return s={name:u.fullPath},u=KP(o,t.host),o=t.maxUploadRetryTime,(o=new aD(u,"POST",uD(t,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=hD(e),o}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),n=t._ref.storage._makeRequest(r,e,n);(t._request=n).getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},bD.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},bD.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=mP(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},bD.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(bD.prototype,"snapshot",{get:function(){var t=OP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),bD.prototype.on=function(t,e,n,r){var i=this,o=new vD(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},bD.prototype.then=function(t,e){return this._promise.then(t,e)},bD.prototype.catch=function(t){return this.then(null,t)},bD.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},bD.prototype._removeObserver=function(t){-1!==(t=this._observers.indexOf(t))&&this._observers.splice(t,1)},bD.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},bD.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(OP(this._state)){case AP.SUCCESS:gD(this._resolve.bind(null,this.snapshot))();break;case AP.CANCELED:case AP.ERROR:gD(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},bD.prototype._notifyObserver=function(t){switch(OP(this._state)){case AP.RUNNING:case AP.PAUSED:t.next&&gD(t.next.bind(t,this.snapshot))();break;case AP.SUCCESS:t.complete&&gD(t.complete.bind(t))();break;case AP.CANCELED:case AP.ERROR:t.error&&gD(t.error.bind(t,this._error))();break;default:t.error&&gD(t.error.bind(t,this._error))()}},bD.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},bD.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},bD.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},bD);function bD(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=eD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}var wD=(_D.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},_D.prototype._newRef=function(t,e){return new _D(t,e)},Object.defineProperty(_D.prototype,"root",{get:function(){var t=new DP(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(_D.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(_D.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(_D.prototype,"name",{get:function(){return $P(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(_D.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(_D.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);return null===t?null:(t=new DP(this._location.bucket,t),new _D(this._service,t))},enumerable:!1,configurable:!0}),_D.prototype._throwIfRoot=function(t){if(""===this._location.path)throw bP(t)},_D);function _D(t,e){this._service=t,this._location=e instanceof DP?e:DP.makeFromUrl(e,t.host)}function ED(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&VP("options.maxResults",1,1e3,e.maxResults),n=e||{},i=t.storage,o=t._location,a=n.pageToken,s=n.maxResults,u={},o.isRoot?u.prefix="":u.prefix=o.path+"/",0<"/".length&&(u.delimiter="/"),a&&(u.pageToken=a),s&&(u.maxResults=s),a=KP(o.bucketOnlyServerUrl(),i.host),s=i.maxOperationRetryTime,(s=new aD(a,"GET",cD(i,o.bucket),s)).urlParams=u,s.errorHandler=hD(o),[4,t.storage.makeRequestWithTokens(s)];case 1:return[2,r.sent().getPromise()]}var i,o,a,s,u})})}function SD(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return t._throwIfRoot("getDownloadURL"),n=t.storage,r=t._location,i=eD(),o=KP(r.fullServerUrl(),n.host),a=n.maxOperationRetryTime,(a=new aD(o,"GET",function(t,e){return function(n,r){var i=nD(t,r,e);return sD(null!==i),function(t,e,n){if(null===(e=XP(e)))return null;if(!UP(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var r=encodeURIComponent;return e.split(",").map(function(e){var i=t.bucket,o=t.fullPath;return KP("/b/"+r(i)+"/o/"+r(o),n)+zP({alt:"media",token:e})})[0]}(i,r,t.host)}}(n,i),a)).errorHandler=lD(r),[4,t.storage.makeRequestWithTokens(a)];case 1:return[2,e.sent().getPromise().then(function(t){if(null===t)throw new lP("no-download-url","The given file does not have any download URLs.");return t})]}var n,r,i,o,a})})}function TD(t,e){var n,e=(n=t._location.path,e=(e=e).split("/").filter(function(t){return 0<t.length}).join("/"),0===n.length?e:n+"/"+e),e=new DP(t._location.bucket,e);return new wD(t.storage,e)}function ID(t){return/^[A-Za-z]+:\/\//.test(t)}function MD(t,e){if(e&&ID(e)){if(t instanceof CD)return new wD(t,e);throw gP("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof CD){var r=e;if(null==r._bucket)throw new lP("no-default-bucket","No default bucket found. Did you set the '"+hP+"' property when initializing the app?");return r=new wD(r,r._bucket),null!=n?t(r,n):r}return void 0!==n?TD(e,n):e}(t,e)}function kD(t,e){return null==(e=null==e?void 0:e[hP])?null:DP.makeFromBucketSpec(e,t)}var CD=(Object.defineProperty(AD.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=DP.makeFromBucketSpec(this._url,t):this._bucket=kD(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(AD.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){VP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(AD.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){VP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),AD.prototype._getAuthToken=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}})})},AD.prototype._getAppCheckToken=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},AD.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},AD.prototype._makeStorageReference=function(t){return new wD(this,t)},AD.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new LP(yP());var i,o,a,s,u,c,h=(i=t,o=this._appId,a=e,s=n,u=this._pool,c=this._firebaseVersion,t=zP(i.urlParams),e=i.url+t,n=Object.assign({},i.headers),t=n,(o=o)&&(t["X-Firebase-GMPID"]=o),o=n,null!==(a=a)&&0<a.length&&(o.Authorization="Firebase "+a),c=c,n["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager"),c=n,null!==(s=s)&&(c["X-Firebase-AppCheck"]=s),new WP(e,i.method,n,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u));return this._requests.add(h),h.getPromise().then(function(){return r._requests.delete(h)},function(){return r._requests.delete(h)}),h},AD.prototype.makeRequestWithTokens=function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=r.sent(),e=n[0],n=n[1],[2,this._makeRequest(t,e,n)]}})})},AD);function AD(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=cP,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?DP.makeFromBucketSpec(i,this._host):kD(this._host,this.app.options)}function OD(t,e){return MD(t=Jo(t),e)}var RD=(Object.defineProperty(ND.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(ND.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ND.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(ND.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),ND);function ND(t,e,n){this._delegate=t,this.task=e,this.ref=n}var xD=(Object.defineProperty(PD.prototype,"snapshot",{get:function(){return new RD(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),PD.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new RD(e,n,n._ref))},e)},PD.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new RD(t,i,i._ref))}:{next:e.next?function(t){return e.next(new RD(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},PD);function PD(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var DD=(Object.defineProperty(jD.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new LD(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(jD.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new LD(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(jD.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),jD);function jD(t,e){this._delegate=t,this._service=e}var LD=(Object.defineProperty(FD.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(FD.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(FD.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),FD.prototype.toString=function(){return this._delegate.toString()},FD.prototype.child=function(t){return new FD(TD(this._delegate,t),this.storage)},Object.defineProperty(FD.prototype,"root",{get:function(){return new FD(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(FD.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new FD(t,this.storage)},enumerable:!1,configurable:!0}),FD.prototype.put=function(t,e){return this._throwIfRoot("put"),new xD(function(t,e,n){return t=Jo(t),e=e,n=n,(t=t)._throwIfRoot("uploadBytesResumable"),new yD(t,new QP(e),n)}(this._delegate,t,e),this)},FD.prototype.putString=function(t,e,n){return void 0===e&&(e=EP.RAW),this._throwIfRoot("putString"),t=TP(e,t),null==(n=Gi({},n)).contentType&&null!=t.contentType&&(n.contentType=t.contentType),new xD(new yD(this._delegate,new QP(t.data,!0),n),this)},FD.prototype.listAll=function(){var t=this;return function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Qi(this,void 0,void 0,function(){var i,o;return Yi(this,function(a){switch(a.label){case 0:return[4,ED(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(t,e).then(function(){return e})}(Jo(this._delegate)).then(function(e){return new DD(e,t.storage)})},FD.prototype.list=function(t){var e,n=this;return e=this._delegate,t=t||void 0,ED(e=Jo(e),t).then(function(t){return new DD(t,n.storage)})},FD.prototype.getMetadata=function(){return function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=fD(t.storage,t._location,eD()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(Jo(this._delegate))},FD.prototype.updateMetadata=function(t){return function(t,e){return Qi(this,void 0,void 0,function(){return Yi(this,function(n){switch(n.label){case 0:return t._throwIfRoot("updateMetadata"),r=t.storage,i=t._location,o=e,a=eD(),s=KP(i.fullServerUrl(),r.host),u=rD(o,a),o=r.maxOperationRetryTime,(o=new aD(s,"PATCH",uD(r,a),o)).headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=lD(i),[4,t.storage.makeRequestWithTokens(o)];case 1:return[2,n.sent().getPromise()]}var r,i,o,a,s,u})})}(Jo(this._delegate),t)},FD.prototype.getDownloadURL=function(){return SD(Jo(this._delegate))},FD.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Qi(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return t._throwIfRoot("deleteObject"),n=t.storage,r=t._location,i=KP(r.fullServerUrl(),n.host),n=n.maxOperationRetryTime,(n=new aD(i,"DELETE",function(t,e){},n)).successCodes=[200,204],n.errorHandler=lD(r),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise()]}var n,r,i})})}(Jo(this._delegate))},FD.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw bP(t)},FD);function FD(t,e){this._delegate=t,this.storage=e}var UD,BD,qD=(Object.defineProperty(VD.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(VD.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),VD.prototype.ref=function(t){if(ID(t))throw gP("ref() expected a child path but got a URL, use refFromURL instead.");return new LD(OD(this._delegate,t),this)},VD.prototype.refFromURL=function(t){if(!ID(t))throw gP("refFromURL() expected a full URL but got a child path, use ref() instead.");try{DP.makeFromUrl(t,this._delegate.host)}catch(t){throw gP("refFromUrl() expected a valid full URL but got an invalid one.")}return new LD(OD(this._delegate,t),this)},VD.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},VD.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},VD.prototype.useEmulator=function(t,e,n){!function(t,e,n,r){void 0===(r=r=void 0===r?{}:r)&&(r={}),(t=t).host="http://"+e+":"+n,(r=r.mockUserToken)&&(t._overrideAuthToken="string"==typeof r?r:lo(r,t.app.options.projectId))}(this._delegate,t,e,n=void 0===n?{}:n)},VD);function VD(t,e){this.app=t,this._delegate=e}BD={TaskState:AP,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:EP,Storage:CD,Reference:LD},(UD=Ca).INTERNAL.registerComponent(new Zo("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal"),t=t.getProvider("app-check-internal");return new qD(r,new CD(r,e,t,new xP,n,Ca.SDK_VERSION))},"PUBLIC").setServiceProps(BD).setMultipleInstances(!0)),UD.registerVersion("@firebase/storage","0.7.1");var KD,zD,WD="0.4.18",HD="FB-PERF-TRACE-MEASURE",GD="@firebase/performance/config",QD="@firebase/performance/configexpire",G="Performance",H=((H={})["trace started"]="Trace {$traceName} was started before.",H["trace stopped"]="Trace {$traceName} is not running.",H["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",H["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",H["no window"]="Window is not available.",H["no app id"]="App id is not available.",H["no project id"]="Project id is not available.",H["no api key"]="Api key is not available.",H["invalid cc log"]="Attempted to queue invalid cc event",H["FB not default"]="Performance can only start when Firebase app instance is the default one.",H["RC response not ok"]="RC response is not ok",H["invalid attribute name"]="Attribute name {$attributeName} is invalid.",H["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",H["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",H["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",H),YD=new Mo("performance",G,H),XD=new fa(G);XD.logLevel=aa.INFO;var $D,JD=(ZD.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ZD.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},ZD.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},ZD.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},ZD.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},ZD.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ZD.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!bo()||(XD.info("IndexedDB is not supported by current browswer"),!1):(XD.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ZD.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})},ZD.getInstance=function(){return KD=void 0===KD?new ZD(zD):KD},ZD);function ZD(t){if(!(this.window=t))throw YD.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function tj(t,e){var n=t.length-e.length;if(n<0||1<n)throw YD.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var ej,nj,rj=(ij.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw YD.create("no app id");return t},ij.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw YD.create("no project id");return t},ij.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw YD.create("no api key");return t},ij.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ij.getInstance=function(){return $D=void 0===$D?new ij:$D},ij);function ij(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=tj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=tj("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(G=nj=nj||{})[G.UNKNOWN=0]="UNKNOWN",G[G.VISIBLE=1]="VISIBLE",G[G.HIDDEN=2]="HIDDEN";var oj=["firebase_","google_","ga_"],aj=new RegExp("^[a-zA-Z]\\w*$");function sj(){switch(JD.getInstance().document.visibilityState){case"visible":return nj.VISIBLE;case"hidden":return nj.HIDDEN;default:return nj.UNKNOWN}}var uj="0.0.1",cj={loggingEnabled:!0},hj="FIREBASE_INSTALLATIONS_AUTH";function lj(t){var e,n=function(){var t=JD.getInstance().localStorage;if(t){var e=t.getItem(QD);if(e&&function(t){return Number(t)>Date.now()}(e)&&(t=t.getItem(GD)))try{return JSON.parse(t)}catch(t){return}}}();return n?(dj(n),Promise.resolve()):(e=t,function(){var t=rj.getInstance().installationsService.getToken();return t.then(function(t){}),t}().then(function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+rj.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+rj.getInstance().getApiKey(),t=new Request(n,{method:"POST",headers:{Authorization:hj+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:rj.getInstance().getAppId(),app_version:WD,sdk_version:uj})});return fetch(t).then(function(t){if(t.ok)return t.json();throw YD.create("RC response not ok")})}).catch(function(){XD.info(fj)}).then(dj).then(function(t){var e;e=t,t=JD.getInstance().localStorage,e&&t&&(t.setItem(GD,JSON.stringify(e)),t.setItem(QD,String(Date.now()+60*rj.getInstance().configTimeToLive*60*1e3)))},function(){}))}var fj="Could not fetch config, will use default configs";function dj(t){if(!t)return t;var e=rj.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=cj.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=pj(e.tracesSamplingRate),e.logNetworkAfterSampling=pj(e.networkRequestsSamplingRate),t}function pj(t){return Math.random()<=t}var mj,vj=1;function gj(){return vj=2,mj=mj||function(){var t=JD.getInstance().document;return new Promise(function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()})}().then(function(){return(t=rj.getInstance().installationsService.getId()).then(function(t){ej=t}),t;var t}).then(lj).then(yj,yj)}function yj(){vj=3}var bj,wj=1e4,_j=5500,Ej=3,Sj=1e3,Tj=Ej,Ij=[],Mj=!1;function kj(t,e){var n;(bj=bj||(n=Oj,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t){if(!t.eventTime||!t.message)throw YD.create("invalid cc log");Ij=Ji(Ji([],Ij),[t])}({message:n.apply(void 0,t),eventTime:Date.now()})}))(t,e)}function Cj(t){var e=rj.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&JD.getInstance().requiredApisAvailable()&&(t.isAuto&&sj()!==nj.VISIBLE||(3===vj?Aj(t):gj().then(function(){return Aj(t)},function(){return Aj(t)})))}function Aj(t){var e;!ej||(e=rj.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return kj(t,1)},0)}function Oj(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:Rj(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:Rj(),trace_metric:e},JSON.stringify(e)})(t)}function Rj(){return{google_app_id:rj.getInstance().getAppId(),app_instance_id:ej,web_app_info:{sdk_version:WD,page_url:JD.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=JD.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:sj(),effective_connection_type:function(){var t=JD.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var Nj=["_fp","_fcp","_fid"],xj=(Pj.prototype.start=function(){if(1!==this.state)throw YD.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Pj.prototype.stop=function(){if(2!==this.state)throw YD.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Cj(this)},Pj.prototype.record=function(t,e,n){if(t<=0)throw YD.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw YD.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Gi({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Cj(this)},Pj.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},Pj.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<Nj.indexOf(n))&&n.startsWith("_"))throw YD.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&XD.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},Pj.prototype.getMetric=function(t){return this.counters[t]||0},Pj.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length)&&!oj.some(function(t){return n.startsWith(t)})&&!!n.match(aj),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw YD.create("invalid attribute name",{attributeName:t});if(!i)throw YD.create("invalid attribute value",{attributeValue:e})}},Pj.prototype.getAttribute=function(t){return this.customAttributes[t]},Pj.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},Pj.prototype.getAttributes=function(){return Gi({},this.customAttributes)},Pj.prototype.setStartTime=function(t){this.startTimeUs=t},Pj.prototype.setDuration=function(t){this.durationUs=t},Pj.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),t=t&&t[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},Pj.createOobTrace=function(t,e,n){var r,i=JD.getInstance().getUrl();i&&(r=new Pj("_wt_"+i,!0),i=Math.floor(1e3*JD.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find(function(t){return"first-paint"===t.name}))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find(function(t){return"first-contentful-paint"===t.name}))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),Cj(r))},Pj.createUserTimingTrace=function(t){Cj(new Pj(t,!1,t))},Pj);function Pj(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=JD.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||HD+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function Dj(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=JD.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=rj.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout(function(){return kj(e,0)},0)))}var jj=5e3;function Lj(){ej&&(setTimeout(function(){var t,e=JD.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout(function(){xj.createOobTrace(n,r),t=void 0},jj),e.onFirstInputDelay(function(e){t&&(clearTimeout(t),xj.createOobTrace(n,r,e))})):xj.createOobTrace(n,r)},0),setTimeout(function(){for(var t=JD.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++)Dj(r[n]);t.setupObserver("resource",Dj)},0),setTimeout(function(){for(var t=JD.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++)Fj(r[n]);t.setupObserver("measure",Fj)},0))}function Fj(t){(t=t.name).substring(0,HD.length)!==HD&&xj.createUserTimingTrace(t)}var Uj,Bj=(qj.prototype.trace=function(t){return new xj(t)},Object.defineProperty(qj.prototype,"instrumentationEnabled",{get:function(){return rj.getInstance().instrumentationEnabled},set:function(t){rj.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(qj.prototype,"dataCollectionEnabled",{get:function(){return rj.getInstance().dataCollectionEnabled},set:function(t){rj.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),qj);function qj(t){this.app=t,JD.getInstance().requiredApisAvailable()&&wo().then(function(t){t&&(Mj||(function t(e){setTimeout(function(){var e,n;if(0!==Tj)return Ij.length?(e=Ij.splice(0,Sj),n=e.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(e,n){return function(t){var e=rj.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then(function(t){return t.ok||XD.info("Call to Firebase backend failed."),t.json()}).then(function(e){var r=Number(e.nextRequestWaitMillis),i=wj;isNaN(r)||(i=Math.max(r,i)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(Ij=Ji(Ji([],n),Ij),XD.info("Retry transport request later.")),Tj=Ej,t(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:rj.getInstance().logSource,log_event:n},e).catch(function(){Ij=Ji(Ji([],e),Ij),Tj--,XD.info("Tries left: "+Tj+"."),t(wj)})):t(wj)},e)}(_j),Mj=!0),gj().then(Lj,Lj))}).catch(function(t){XD.info("Environment doesn't support IndexedDB: "+t)})}(Uj=Ca).INTERNAL.registerComponent(new Zo("performance",function(t){var e=t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate();return function(t,e){if("[DEFAULT]"!==t.name)throw YD.create("FB not default");if("undefined"==typeof window)throw YD.create("no window");return zD=window,rj.getInstance().firebaseAppInstance=t,rj.getInstance().installationsService=e,new Bj(t)}(e,t)},"PUBLIC")),Uj.registerVersion("@firebase/performance","0.4.18");var Vj,Kj,zj="firebase_id",Wj="origin",Hj=6e4,Gj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qj="https://www.googletagmanager.com/gtag/js";(G=Vj=Vj||{}).EVENT="event",G.SET="set",G.CONFIG="config",(G=Kj=Kj||{}).ADD_SHIPPING_INFO="add_shipping_info",G.ADD_PAYMENT_INFO="add_payment_info",G.ADD_TO_CART="add_to_cart",G.ADD_TO_WISHLIST="add_to_wishlist",G.BEGIN_CHECKOUT="begin_checkout",G.CHECKOUT_PROGRESS="checkout_progress",G.EXCEPTION="exception",G.GENERATE_LEAD="generate_lead",G.LOGIN="login",G.PAGE_VIEW="page_view",G.PURCHASE="purchase",G.REFUND="refund",G.REMOVE_FROM_CART="remove_from_cart",G.SCREEN_VIEW="screen_view",G.SEARCH="search",G.SELECT_CONTENT="select_content",G.SELECT_ITEM="select_item",G.SELECT_PROMOTION="select_promotion",G.SET_CHECKOUT_OPTION="set_checkout_option",G.SHARE="share",G.SIGN_UP="sign_up",G.TIMING_COMPLETE="timing_complete",G.VIEW_CART="view_cart",G.VIEW_ITEM="view_item",G.VIEW_ITEM_LIST="view_item_list",G.VIEW_PROMOTION="view_promotion",G.VIEW_SEARCH_RESULTS="view_search_results";var Yj=new fa("@firebase/analytics"),G=((G={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",G["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",G["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",G["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",G["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",G["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",G["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",G["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',G["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',G),Xj=new Mo("analytics","Analytics",G),$j=30;function Jj(t,e){void 0===e&&(e=1e3),this.throttleMetadata=t=void 0===t?{}:t,this.intervalMillis=e}var Zj=new(Jj.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},Jj.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},Jj.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},Jj);function tL(t){var e;return Qi(this,void 0,void 0,function(){var n,r,i,o;return Yi(this,function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=Gj.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw Xj.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}})})}function eL(t,e,n){return void 0===e&&(e=Zj),Qi(this,void 0,void 0,function(){var r,i,o,a,s,u=this;return Yi(this,function(c){if(a=t.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw Xj.create("no-app-id");if(i)return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new rL,setTimeout(function(){return Qi(u,void 0,void 0,function(){return Yi(this,function(t){return s.abort(),[2]})})},void 0!==n?n:Hj),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=Zj),Qi(this,void 0,void 0,function(){var n,s,u,c,h;return Yi(this,function(l){switch(l.label){case 0:n=e.appId,s=e.measurementId,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,nL(r,o)];case 2:return l.sent(),[3,4];case 3:if(c=l.sent(),s)return Yj.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return l.trys.push([4,6,,7]),[4,tL(e)];case 5:return h=l.sent(),i.deleteThrottleMetadata(n),[2,h];case 6:if(function(t){if(t instanceof To&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(u=l.sent()))return c=503===Number(u.customData.httpStatus)?$o(a,i.intervalMillis,$j):$o(a,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,h),Yj.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,h,r,i)];if(i.deleteThrottleMetadata(n),s)return Yj.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}})})}({appId:r,apiKey:i,measurementId:o},a,s,e)];if(o)return[2,{measurementId:o,appId:r}];throw Xj.create("no-api-key")})})}function nL(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Xj.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var rL=(iL.prototype.addEventListener=function(t){this.listeners.push(t)},iL.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},iL);function iL(){this.listeners=[]}var oL,aL,sL={},uL=[],cL={},hL="dataLayer",lL="gtag",fL=!1;function dL(t,e){i=[],vo()&&i.push("This is a browser extension environment."),_o()||i.push("Cookies are not available."),0<i.length&&(i=i.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),i=Xj.create("invalid-analytics-context",{errorInfo:i}),Yj.warn(i.message));var n,r,i,o=t.options.appId;if(!o)throw Xj.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xj.create("no-api-key");Yj.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=sL[o])throw Xj.create("already-exists",{id:o});return fL||(r=hL,i=[],Array.isArray(window[r])?i=window[r]:window[r]=i,n=hL,r=lL,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[n].push(arguments)},window[r]&&"function"==typeof window[r]&&(i=window[r]),window[r]=function(t,e,n,r){return function(i,o,a){return Qi(this,void 0,void 0,function(){var s;return Yi(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Vj.EVENT?[3,2]:[4,function(t,e,n,r,i){return Qi(this,void 0,void 0,function(){var o,a,s,u,c,h,l;return Yi(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(l=i.send_to,Array.isArray(l)||(l=[l]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(t){var n=a.find(function(e){return e.measurementId===t}),n=n&&e[n.appId];if(!n)return o=[],"break";o.push(n)},u=0,c=l;u<c.length&&(h=c[u],"break"!==s(h));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(Vj.EVENT,r,i||{}),[3,5];case 4:return l=f.sent(),Yj.error(l),[3,5];case 5:return[2]}})})}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Vj.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return Qi(this,void 0,void 0,function(){var a,s;return Yi(this,function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find(function(t){return t.measurementId===i}))?[4,e[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),Yj.error(s),[3,8];case 8:return t(Vj.CONFIG,i,o),[2]}})})}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(Vj.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Yj.error(s),[3,7];case 7:return[2]}})})}}(i,sL,uL,cL),r={gtagCore:i,wrappedGtag:window[r]},aL=r.wrappedGtag,oL=r.gtagCore,fL=!0),sL[o]=function(t,e,n,r,i,o){return Qi(this,void 0,void 0,function(){var a,s,u;return Yi(this,function(c){switch(c.label){case 0:return(a=eL(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Yj.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Yj.error(t)}),e.push(a),s=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return bo()?[3,1]:(Yj.warn(Xj.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,wo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Yj.warn(Xj.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){if(t)return r.getId()}),[4,Promise.all([a,s])];case 1:return u=c.sent(),a=u[0],s=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Qj))return r}}()||(h=o,l=a.measurementId,(f=document.createElement("script")).src=Qj+"?l="+h+"&id="+l,f.async=!0,document.head.appendChild(f)),i("js",new Date),(u={})[Wj]="firebase",u.update=!0,u=u,null!=s&&(u[zj]=s),i(Vj.CONFIG,a.measurementId,u),[2,a.measurementId]}var h,l,f})})}(t,uL,cL,e,oL,hL),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Qi(this,void 0,void 0,function(){var o;return Yi(this,function(a){switch(a.label){case 0:return i&&i.global?(t(Vj.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=Gi(Gi({},r),{send_to:o}),t(Vj.EVENT,n,o),a.label=3;case 3:return[2]}})})})(aL,sL[o],t,e,n).catch(function(t){return Yj.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i;return Yi(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Vj.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vj.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(aL,sL[o],t,e).catch(function(t){return Yj.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i;return Yi(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Vj.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vj.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(aL,sL[o],t,e).catch(function(t){return Yj.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Qi(this,void 0,void 0,function(){var i,o,a,s,u;return Yi(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(Vj.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Vj.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(aL,sL[o],t,e).catch(function(t){return Yj.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Qi(this,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(sL[o],t).catch(function(t){return Yj.error(t)})},INTERNAL:{delete:function(){return delete sL[o],Promise.resolve()}}}}var pL,mL="analytics";(pL=Ca).INTERNAL.registerComponent(new Zo(mL,function(t){return dL(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(fL)throw Xj.create("already-initialized");t.dataLayerName&&(hL=t.dataLayerName),t.gtagName&&(lL=t.gtagName)},EventName:Kj,isSupported:function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:if(vo())return[2,!1];if(!_o())return[2,!1];if(!bo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,wo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}})),pL.INTERNAL.registerComponent(new Zo("analytics-internal",function(t){try{return{logEvent:t.getProvider(mL).getImmediate().logEvent}}catch(t){throw Xj.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pL.registerVersion("@firebase/analytics","0.6.18");var vL=(gL.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,e=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},gL.prototype.fetch=function(t){return Qi(this,void 0,void 0,function(){var e,n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}})})},gL);function gL(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}var G=((G={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",G["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",G["registration-api-key"]="Undefined API key. Check Firebase app initialization.",G["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",G["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",G["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",G["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",G["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",G["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",G["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',G["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',G["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",G["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",G),yL=new Mo("remoteconfig","Remote Config",G),bL=(wL.prototype.fetch=function(t){return Qi(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,h;return Yi(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=l.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(f=void 0===f?navigator:f).languages&&f.languages[0]||f.language},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return l.sent(),[4,i];case 4:return h=l.sent(),[3,6];case 5:throw r=l.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),yL.create(i,{originalErrorMessage:r.message});case 6:if(o=h.status,a=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];c=void 0,l.label=7;case 7:return l.trys.push([7,9,,10]),[4,h.json()];case 8:return c=l.sent(),[3,10];case 9:throw h=l.sent(),yL.create("fetch-client-parse",{originalErrorMessage:h.message});case 10:s=c.entries,u=c.state,l.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw yL.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f})})},wL);function wL(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var _L=(EL.prototype.addEventListener=function(t){this.listeners.push(t)},EL.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},EL);function EL(){this.listeners=[]}var SL=["1","true","t","yes","y","on"],TL=(IL.prototype.asString=function(){return this._value},IL.prototype.asBoolean=function(){return"static"!==this._source&&0<=SL.indexOf(this._value.toLowerCase())},IL.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return t=isNaN(t)?0:t},IL.prototype.getSource=function(){return this._source},IL);function IL(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var ML=(kL.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=aa.DEBUG;break;case"silent":this._logger.logLevel=aa.SILENT;break;default:this._logger.logLevel=aa.ERROR}},Object.defineProperty(kL.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(kL.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),kL.prototype.activate=function(){return Qi(this,void 0,void 0,function(){var t,e;return Yi(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}})})},kL.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},kL.prototype.fetch=function(){return Qi(this,void 0,void 0,function(){var t,e,n,r=this;return Yi(this,function(i){switch(i.label){case 0:t=new _L,setTimeout(function(){return Qi(r,void 0,void 0,function(){return Yi(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof To&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o})})},kL.prototype.fetchAndActivate=function(){return Qi(this,void 0,void 0,function(){return Yi(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},kL.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Gi(Gi({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},kL.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},kL.prototype.getNumber=function(t){return this.getValue(t).asNumber()},kL.prototype.getString=function(t){return this.getValue(t).asString()},kL.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new TL("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new TL("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new TL("static"))},kL);function kL(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function CL(t,e){return t=t.target.error||void 0,yL.create(e,{originalErrorMessage:t&&t.message})}var AL="app_namespace_store",OL="firebase_remote_config",RL=1,NL=(xL.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},xL.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},xL.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},xL.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},xL.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},xL.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},xL.prototype.getActiveConfig=function(){return this.get("active_config")},xL.prototype.setActiveConfig=function(t){return this.set("active_config",t)},xL.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},xL.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},xL.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},xL.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},xL.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},xL.prototype.get=function(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([AL],"readonly").objectStore(AL),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(CL(t,"storage-get"))},s.onsuccess=function(t){t=t.target.result,r(t?t.value:void 0)}}catch(o){i(yL.create("storage-get",{originalErrorMessage:o&&o.message}))}})]}})})},xL.prototype.set=function(t,e){return Qi(this,void 0,void 0,function(){var n,r=this;return Yi(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction([AL],"readwrite").objectStore(AL),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(CL(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(yL.create("storage-set",{originalErrorMessage:i&&i.message}))}})]}})})},xL.prototype.delete=function(t){return Qi(this,void 0,void 0,function(){var e,n=this;return Yi(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([AL],"readwrite").objectStore(AL),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(CL(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(yL.create("storage-delete",{originalErrorMessage:r&&r.message}))}})]}})})},xL.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},xL);function xL(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open(OL,RL);n.onerror=function(t){e(CL(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(AL,{keyPath:"compositeKey"})}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var PL=(DL.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},DL.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},DL.prototype.getActiveConfig=function(){return this.activeConfig},DL.prototype.loadFromStorage=function(){return Qi(this,void 0,void 0,function(){var t,e,n;return Yi(this,function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}})})},DL.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},DL.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},DL.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},DL);function DL(t){this.storage=t}var jL=(LL.prototype.fetch=function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},LL.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Qi(this,void 0,void 0,function(){var e,i;return Yi(this,function(o){switch(o.label){case 0:return[4,(a=t.signal,s=n,new Promise(function(t,e){var n=Math.max(s-Date.now(),0),r=setTimeout(t,n);a.addEventListener(function(){clearTimeout(r),e(yL.create("fetch-throttle",{throttleEndTimeMillis:s}))})}))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof To&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+$o(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var a,s})})},LL);function LL(t,e){this.client=t,this.storage=e}var FL,UL="@firebase/remote-config";(FL=Ca).INTERNAL.registerComponent(new Zo("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw yL.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw yL.create("registration-project-id");if(!s)throw yL.create("registration-api-key");if(!u)throw yL.create("registration-app-id");return n=n||"firebase",e=new NL(u,r.name,n),t=new PL(e),(o=new fa(UL)).logLevel=aa.ERROR,u=new bL(i,FL.SDK_VERSION,n,a,s,u),u=new jL(u,e),u=new vL(u,e,t,o),(o=new ML(r,u,t,e,o)).ensureInitialized(),o},"PUBLIC").setMultipleInstances(!0)),FL.registerVersion(UL,"0.1.43");var G=((G={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",G["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",G["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",G["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",G["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",G["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",G["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",G["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",G["recaptcha-error"]="ReCAPTCHA error.",G),BL=new Mo("appCheck","AppCheck",G),qL=new Map,VL={activated:!1,tokenObservers:[]},KL={enabled:!1};function zL(t){return qL.get(t)||VL}function WL(t,e){qL.set(t,e)}var HL="https://content-firebaseappcheck.googleapis.com/v1beta",GL="exchangeDebugToken",QL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},YL=(XL.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},XL.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},XL.prototype.isRunning=function(){return!!this.pending},XL.prototype.process=function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new co,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new co,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},XL.prototype.getNextRun=function(t){return t?(this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration()):(t=this.nextErrorWaitInterval,this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t)},XL);function XL(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,i<(this.nextErrorWaitInterval=r))throw new Error("Proactive refresh lower bound greater than upper bound!")}function $L(){return self.grecaptcha}function JL(t){if(!zL(t).activated)throw BL.create("use-before-activation",{appName:t.name})}function ZL(t,e){var n=t.url,r=t.body;return Qi(this,void 0,void 0,function(){var t,i,o,a,s;return Yi(this,function(u){switch(u.label){case 0:i={"Content-Type":"application/json"},(t=e.getImmediate({optional:!0}))&&(i["X-Firebase-Client"]=t.getPlatformInfoString()),i={method:"POST",body:JSON.stringify(r),headers:i},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(n,i)];case 2:return s=u.sent(),[3,4];case 3:throw i=u.sent(),BL.create("fetch-network-error",{originalErrorMessage:i.message});case 4:if(200!==s.status)throw BL.create("fetch-status-error",{httpStatus:s.status});u.label=5;case 5:return u.trys.push([5,7,,8]),[4,s.json()];case 6:return o=u.sent(),[3,8];case 7:throw a=u.sent(),BL.create("fetch-parse-error",{originalErrorMessage:a.message});case 8:if(!(s=o.ttl.match(/^([\d.]+)(s)$/))||!s[2]||isNaN(Number(s[1])))throw BL.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+o.ttl});return a=1e3*Number(s[1]),s=Date.now(),[2,{token:o.attestationToken,expireTimeMillis:s+a,issuedAtTimeMillis:s}]}})})}function tF(t,e){var n=t.options,r=n.projectId,t=n.appId,n=n.apiKey;return{url:HL+"/projects/"+r+"/apps/"+t+":"+GL+"?key="+n,body:{debug_token:e}}}var eF="firebase-app-check-database",nF=1,rF="firebase-app-check-store",iF="debug-token",oF=null;function aF(){return oF=oF||new Promise(function(t,e){try{var n=indexedDB.open(eF,nF);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){e(BL.create("storage-open",{originalErrorMessage:null===(t=t.target.error)||void 0===t?void 0:t.message}))},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(rF,{keyPath:"compositeKey"})}}catch(n){e(BL.create("storage-open",{originalErrorMessage:n.message}))}})}function sF(t,e){return Qi(this,void 0,void 0,function(){var n,r,i;return Yi(this,function(o){switch(o.label){case 0:return[4,aF()];case 1:return r=o.sent(),n=r.transaction(rF,"readwrite"),r=n.objectStore(rF),i=r.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){i.onsuccess=function(e){t()},n.onerror=function(t){e(BL.create("storage-set",{originalErrorMessage:null===(t=t.target.error)||void 0===t?void 0:t.message}))}})]}})})}function uF(t){return Qi(this,void 0,void 0,function(){var e,n,r;return Yi(this,function(i){switch(i.label){case 0:return[4,aF()];case 1:return n=i.sent(),e=n.transaction(rF,"readonly"),n=e.objectStore(rF),r=n.get(t),[2,new Promise(function(t,n){r.onsuccess=function(e){e=e.target.result,t(e?e.value:void 0)},e.onerror=function(t){n(BL.create("storage-get",{originalErrorMessage:null===(t=t.target.error)||void 0===t?void 0:t.message}))}})]}})})}function cF(t){return t.options.appId+"-"+t.name}var hF=new fa("@firebase/app-check");function lF(t,e){return bo()?sF(cF(t),e).catch(function(t){hF.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}var fF={error:"UNKNOWN_ERROR"};function dF(t,e,n){return void 0===n&&(n=!1),Qi(this,void 0,void 0,function(){var r,i,o,a,s,u,c,h,l;return Yi(this,function(f){switch(f.label){case 0:return JL(t),r=zL(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(a=f.sent())&&gF(a)&&(i=a,WL(t,Gi(Gi({},r),{token:i})),vF(t,{token:i.token})),f.label=2;case 2:return!n&&i&&gF(i)?[2,{token:i.token}]:KL.enabled?(s=ZL,u=tF,c=[t],[4,function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){if((t=KL).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}()]):[3,6];case 3:return[4,s.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),e])];case 4:return h=f.sent(),[4,lF(t,h)];case 5:return f.sent(),WL(t,Gi(Gi({},r),{token:h})),[2,{token:h.token}];case 6:return f.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=f.sent(),[3,9];case 8:return h=f.sent(),hF.error(h),o=h,[3,9];case 9:return i?[3,10]:(d=o,l={token:function(t){return oo.encodeString(JSON.stringify(t),!1)}(fF),error:d},[3,12]);case 10:return l={token:i.token},WL(t,Gi(Gi({},r),{token:i})),[4,lF(t,i)];case 11:f.sent(),f.label=12;case 12:return vF(t,l),[2,l]}var d})})}function pF(t,e,n,r,i){var o,a=zL(t),n={next:r,error:i,type:n},n=Gi(Gi({},a),{tokenObservers:Ji(Ji([],a.tokenObservers),[n])});n.tokenRefresher||(e=function(t,e){var n=this;return new YL(function(){return Qi(n,void 0,void 0,function(){var n;return Yi(this,function(r){switch(r.label){case 0:return zL(t).token?[3,2]:[4,dF(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,dF(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=zL(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,e=e.token.expireTimeMillis-3e5,n=Math.min(n,e);return Math.max(0,n-Date.now())}return 0},QL.RETRIAL_MIN_WAIT,QL.RETRIAL_MAX_WAIT)}(t,e),n.tokenRefresher=e),!n.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&n.tokenRefresher.start(),a.token&&gF(a.token)?(o=a.token,Promise.resolve().then(function(){return r({token:o.token})}).catch(function(){})):null==a.token&&a.cachedTokenPromise.then(function(t){t&&gF(t)&&r({token:t.token})}).catch(function(){}),WL(t,n)}function mF(t,e){var n=zL(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),WL(t,Gi(Gi({},n),{tokenObservers:r}))}function vF(t,e){for(var n=0,r=zL(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(t){}}}function gF(t){return 0<t.expireTimeMillis-Date.now()}var yF="https://www.google.com/recaptcha/api.js";function bF(t,e,n,r){r=n.render(r,{sitekey:e,size:"invisible"}),e=zL(t),WL(t,Gi(Gi({},e),{reCAPTCHAState:Gi(Gi({},e.reCAPTCHAState),{widgetId:r})}))}var wF=(_F.prototype.getToken=function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw BL.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,function(t){return Qi(this,void 0,void 0,function(){var e;return Yi(this,function(n){switch(n.label){case 0:return JL(t),[4,zL(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=zL(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),BL.create("recaptcha-error");case 4:return[2,ZL((n=this._app,r=(i=n.options).projectId,n=i.appId,i=i.apiKey,{url:HL+"/projects/"+r+"/apps/"+n+":exchangeRecaptchaToken?key="+i,body:{recaptcha_token:t}}),this._platformLoggerProvider)]}var n,r,i})})},_F.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,function(t,e){var n=zL(t),r=new co;WL(t,Gi(Gi({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=$L();return a?a.ready(function(){bF(t,e,a,i),r.resolve(a)}):(n=function(){var n=$L();if(!n)throw new Error("no recaptcha");n.ready(function(){bF(t,e,n,i),r.resolve(n)})},(o=document.createElement("script")).src=""+yF,o.onload=n,document.head.appendChild(o)),r.promise}(t,this._siteKey).catch(function(){})},_F);function _F(t){this._siteKey=t}var EF=(SF.prototype.getToken=function(){return Qi(this,void 0,void 0,function(){var t,e;return Yi(this,function(n){switch(n.label){case 0:if(!this._app)throw BL.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=n.sent(),e=null!==(e=function(t){return"object"==typeof(t=Ro(t).claims)&&t.hasOwnProperty("iat")?t.iat:null}(t.token))&&e<Date.now()&&0<e?1e3*e:Date.now(),[2,Gi(Gi({},t),{issuedAtTimeMillis:e})]}})})},SF.prototype.initialize=function(t){this._app=t},SF);function SF(t){this._customProviderOptions=t}function TF(t,e){return{app:t,activate:function(n,r){return function(t,e,n,r){var i=zL(t);if(i.activated)throw BL.create("already-activated",{appName:t.name});(i=Gi(Gi({},i),{activated:!0})).cachedTokenPromise=function(t){return Qi(this,void 0,void 0,function(){var e,n;return Yi(this,function(r){switch(r.label){case 0:if(!bo())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,uF(cF(t))];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),hF.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}(t).then(function(e){return e&&gF(e)&&WL(t,Gi(Gi({},zL(t)),{token:e})),e}),i.provider="string"==typeof e?new wF(e):e instanceof wF||e instanceof EF?e:new EF({getToken:e.getToken}),i.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,WL(t,i),i.provider.initialize(t,n)}(t,n,e,r)},setTokenAutoRefreshEnabled:function(e){return r=e,(e=zL(n=t)).tokenRefresher&&(!0===r?e.tokenRefresher.start():e.tokenRefresher.stop()),void WL(n,Gi(Gi({},e),{isTokenAutoRefreshEnabled:r}));var n,r},getToken:function(n){return function(t,e,n){return Qi(this,void 0,void 0,function(){var r;return Yi(this,function(i){switch(i.label){case 0:return[4,dF(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(t,e,n)},onTokenChanged:function(n,r,i){return o=t,a=e,s=r,u=function(){},r=function(){},u=null!=(n=n).next?n.next.bind(n):n,null!=n.error?r=n.error.bind(n):s&&(r=s),pF(o,a,"EXTERNAL",u,r),function(){return mF(o,u)};var o,a,s,u},INTERNAL:{delete:function(){for(var e=0,n=zL(t).tokenObservers;e<n.length;e++){var r=n[e];mF(t,r.next)}return Promise.resolve()}}}}var IF,MF,kF,CF,AF="app-check-internal";return(IF=Ca).INTERNAL.registerComponent(new Zo("appCheck",function(t){return TF(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:wF,CustomProvider:EF}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(AF).initialize()})),IF.INTERNAL.registerComponent(new Zo(AF,function(t){var e,n,r=t.getProvider("app").getImmediate(),t=t.getProvider("platform-logger");return e=r,n=t,{getToken:function(t){return dF(e,n,t)},addTokenListener:function(t){return pF(e,n,"INTERNAL",t)},removeTokenListener:function(t){return mF(e,t)}}},"PUBLIC").setInstantiationMode("EXPLICIT")),IF.registerVersion("@firebase/app-check","0.3.2"),"string"!=typeof(CF=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof e)return e;throw new Error("Unable to locate global object.")}()).FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==CF.FIREBASE_APPCHECK_DEBUG_TOKEN||((MF=KL).enabled=!0,kF=new co,MF.token=kF,"string"==typeof CF.FIREBASE_APPCHECK_DEBUG_TOKEN?kF.resolve(CF.FIREBASE_APPCHECK_DEBUG_TOKEN):kF.resolve(function(){return Qi(this,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:t=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,uF(iF)];case 2:return t=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return t?[2,t]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),sF(iF,t).catch(function(t){return hF.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}())),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Ca.registerVersion("firebase","8.10.1","cdn"),Ca}()}).call(this,n(11),n(9))},function(t,e,n){"use strict";n(78)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),h=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[h++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,h=-7,l=n?i-1:0,f=n?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=r;h>0;a=256*a+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*m}},,function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(9))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!==typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(31),e.createHash=e.Hash=n(39),e.createHmac=e.Hmac=n(93);var r=n(202),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=n(96);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=n(204);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var u=n(219);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=n(226);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=n(267);var h=n(270);e.publicEncrypt=h.publicEncrypt,e.privateEncrypt=h.privateEncrypt,e.publicDecrypt=h.publicDecrypt,e.privateDecrypt=h.privateDecrypt;var l=n(274);e.randomFill=l.randomFill,e.randomFillSync=l.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){var r=n(12),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(e=t.exports=n(81)).Stream=e,e.Readable=e,e.Writable=n(85),e.Duplex=n(33),e.Transform=n(86),e.PassThrough=n(184),e.finished=n(52),e.pipeline=n(185)},,function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var u=n(12).Buffer,c=n(181).inspect,h=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,r;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,n,r,i=u.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,u.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0===(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0===(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:h,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},,function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(52),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),h=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[f].read();null!==n&&(t[h]=null,t[a]=null,t[s]=null,e(d(n,!1)))}}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(n,r){e.nextTick(function(){t[u]?r(t[u]):n(d(void 0,!0))})});var r,i=this[h];if(i)r=new Promise(function(t,e){return function(n,r){t.then(function(){e[c]?n(d(void 0,!0)):e[l](n,r)},r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[l])}return this[h]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var t=this;return new Promise(function(e,n){t[f].destroy(null,function(t){t?n(t):e(d(void 0,!0))})})}),r),m);t.exports=function(t){var n,r=Object.create(v,(i(n={},f,{value:t,writable:!0}),i(n,a,{value:null,writable:!0}),i(n,s,{value:null,writable:!0}),i(n,u,{value:null,writable:!0}),i(n,c,{value:t._readableState.endEmitted,writable:!0}),i(n,l,{value:function(t,e){var n=r[f].read();n?(r[h]=null,r[a]=null,r[s]=null,t(d(n,!1))):(r[a]=t,r[s]=e)},writable:!0}),n));return r[h]=null,o(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[h]=null,r[a]=null,r[s]=null,e(t)),void(r[u]=t)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[s]=null,n(d(void 0,!0))),r[c]=!0}),t.on("readable",function(t){e.nextTick(p,t)}.bind(null,r)),r}}).call(this,n(9))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(86);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(4)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(32).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var h,l=function(t){return t.length?"function"!==typeof t[t.length-1]?s:t.pop():s}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var f=e.map(function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",function(){s=!0}),void 0===r&&(r=n(52)),r(t,{readable:e,writable:i},function(t){if(t)return o(t);s=!0,o()});var u=!1;return function(e){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"===typeof t.abort}(t)?t.abort():"function"===typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}(t,o,i>0,function(t){h||(h=t),t&&f.forEach(u),o||(f.forEach(u),l(h))})});return e.reduce(c)}},function(t,e,n){var r=n(4),i=n(34),o=n(5).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function h(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=r)<<5|e>>>27)+h(d,i,o,s)+u+n[f]+a[d];u=s,s=o,o=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,n){var r=n(4),i=n(34),o=n(5).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=(e=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=c(r)+l(p,i,o,s)+u+n[d]+a[p]|0;u=s,s=o,o=h(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,n){var r=n(4),i=n(87),o=n(34),a=n(5).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},function(t,e,n){var r=n(4),i=n(88),o=n(34),a=n(5).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},function(t,e,n){t.exports=i;var r=n(26).EventEmitter;function i(){r.call(this)}n(4)(i,r),i.Readable=n(55),i.Writable=n(197),i.Duplex=n(198),i.Transform=n(199),i.PassThrough=n(200),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function c(t){if(h(),0===r.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",c),t.on("error",c),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},,function(t,e,n){"use strict";var r=n(5).Buffer,i=n(193);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(195),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(11))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){h(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(h,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(11),n(9))},function(t,e,n){"use strict";t.exports=o;var r=n(92),i=Object.create(n(40));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(4),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(56)},function(t,e,n){t.exports=n(28)},function(t,e,n){t.exports=n(55).Transform},function(t,e,n){t.exports=n(55).PassThrough},function(t,e,n){"use strict";var r=n(4),i=n(5).Buffer,o=n(23),a=i.alloc(128),s=64;function u(t,e){o.call(this,"digest"),"string"===typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>s?e=t(e):e.length<s&&(e=i.concat([e,a],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),u=0;u<s;u++)n[u]=54^e[u],r[u]=92^e[u];this._hash=[n]}r(u,o),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},function(t,e,n){t.exports=n(95)},function(t,e,n){(function(e){var r,i,o=n(5).Buffer,a=n(97),s=n(98),u=n(99),c=n(100),h=e.crypto&&e.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function p(t,e,n,r,i){return h.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return h.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)}).then(function(t){return o.from(t)})}t.exports=function(t,n,i,m,v,g){"function"===typeof v&&(g=v,v=void 0);var y=l[(v=v||"sha1").toLowerCase()];if(y&&"function"===typeof e.Promise){if(a(i,m),t=c(t,s,"Password"),n=c(n,s,"Salt"),"function"!==typeof g)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then(function(t){d()(function(){e(null,t)})},function(t){d()(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var n=p(r=r||o.alloc(8),r,10,128,t).then(function(){return!0}).catch(function(){return!1});return f[t]=n,n}(y).then(function(e){return e?p(t,n,i,m,y):u(t,n,i,m,v)}),g)}else d()(function(){var e;try{e=u(t,n,i,m,v)}catch(r){return g(r)}g(null,e)})}}).call(this,n(11))},function(t,e,n){var r=n(205),i=n(58),o=n(59),a=n(218),s=n(46);function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function c(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return c(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(t,e,n){var r=n(23),i=n(206),o=n(4),a=n(5).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(t){r.call(this);var e,n=t.mode.toLowerCase(),i=s[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=t.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:e})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=u,o(u,r),u.prototype._update=function(t){return a.from(this._des.update(t))},u.prototype._final=function(){return a.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(101),e.Cipher=n(57),e.DES=n(102),e.CBC=n(207),e.EDE=n(208)},function(t,e,n){"use strict";var r=n(19),i=n(4),o={};function a(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,t,e,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,n){"use strict";var r=n(19),i=n(4),o=n(57),a=n(102);function s(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function u(t){o.call(this,t);var e=new s(this.type,this.options.key);this._edeState=e}i(u,o),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(t,e,n){var r=n(59),i=n(106),o=n(5).Buffer,a=n(107),s=n(23),u=n(45),c=n(46);function h(t,e,n){s.call(this),this._cache=new f,this._cipher=new u.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(4)(h,s),h.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var l=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(t,e,n){var s=r[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof e&&(e=o.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,e,n):"auth"===s.type?new i(s.module,e,n):new h(s.module,e,n)}h.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(e,!1,n.key,n.iv);return d(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(41);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){var r=n(5).Buffer,i=n(41);function o(t,e,n){var o=e.length,a=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:a]),a}e.encrypt=function(t,e,n){for(var i,a=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){a=r.concat([a,o(t,e,n)]);break}i=t._cache.length,a=r.concat([a,o(t,e.slice(0,i),n)]),e=e.slice(i)}return a}},function(t,e,n){var r=n(5).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){var r=n(5).Buffer;function i(t,e,n){for(var r,i,a=-1,s=0;++a<8;)r=e&1<<7-a?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>a%8,t._prev=o(t._prev,n?r:i);return s}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){(function(t){var r=n(41);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,o)}}).call(this,n(12).Buffer)},function(t,e,n){var r=n(5).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},a.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},a.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=a},function(t,e,n){var r=n(106),i=n(5).Buffer,o=n(59),a=n(107),s=n(23),u=n(45),c=n(46);function h(t,e,n){s.call(this),this._cache=new l,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function f(t,e,n){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof e&&(e=i.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,n,!0):"auth"===s.type?new r(s.module,e,n,!0):new h(s.module,e,n)}n(4)(h,s),h.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},h.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=i.concat([this.cache,t])},l.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(e,!1,n.key,n.iv);return f(t,r.key,r.iv)},e.createDecipheriv=f},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var r=n(108),i=n(224),o=n(225);var a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(i[e].prime,"hex"),r=new t(i[e].gen,"hex");return new o(n,r)},e.createDiffieHellman=e.DiffieHellman=function e(n,i,s,u){return t.isBuffer(i)||void 0===a[i]?e(n,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,u)),"number"===typeof n?new o(r(n,s),s,!0):(t.isBuffer(n)||(n=new t(n,i)),new o(n,s,!0)))}}).call(this,n(12).Buffer)},,function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(222).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},,,function(t){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e,n){(function(e){var r=n(109),i=new(n(110)),o=new r(24),a=new r(11),s=new r(10),u=new r(3),c=new r(7),h=n(108),l=n(31);function f(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new r(t),this}function d(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new r(t),this}t.exports=m;var p={};function m(t,e,n){this.setGenerator(e),this.__prime=new r(t),this._prime=r.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function v(t,n){var r=new e(t.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in p)return p[r];var l,f=0;if(t.isEven()||!h.simpleSieve||!h.fermatTest(t)||!i.test(t))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(i.test(t.shrn(1))||(f+=2),n){case"02":t.mod(o).cmp(a)&&(f+=8);break;case"05":(l=t.mod(s)).cmp(u)&&l.cmp(c)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var n=(t=(t=new r(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new e(o.length-i.length);a.fill(0),i=e.concat([a,i])}return i},m.prototype.getPublicKey=function(t){return v(this._pub,t)},m.prototype.getPrivateKey=function(t){return v(this._priv,t)},m.prototype.getPrime=function(t){return v(this.__prime,t)},m.prototype.getGenerator=function(t){return v(this._gen,t)},m.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new r(t),this}}).call(this,n(12).Buffer)},function(t,e,n){var r=n(61).Buffer,i=n(39),o=n(227),a=n(4),s=n(235),u=n(266),c=n(95);function h(t){o.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){o.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new h(t)}function d(t){return new l(t)}Object.keys(c).forEach(function(t){c[t].id=r.from(c[t].id,"hex"),c[t.toLowerCase()]=c[t]}),a(h,o.Writable),h.prototype._write=function(t,e,n){this._hash.update(t),n()},h.prototype.update=function(t,e){return"string"===typeof t&&(t=r.from(t,e)),this._hash.update(t),this},h.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=s(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},a(l,o.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return"string"===typeof t&&(t=r.from(t,e)),this._hash.update(t),this},l.prototype.verify=function(t,e,n){"string"===typeof e&&(e=r.from(e,n)),this.end();var i=this._hash.digest();return u(e,i,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},function(t,e,n){(e=t.exports=n(111)).Stream=e,e.Readable=e,e.Writable=n(115),e.Duplex=n(36),e.Transform=n(116),e.PassThrough=n(233),e.finished=n(62),e.pipeline=n(234)},,function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var u=n(12).Buffer,c=n(230).inspect,h=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,r;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,n,r,i=u.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,u.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0===(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0===(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:h,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},,function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(62),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),h=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[f].read();null!==n&&(t[h]=null,t[a]=null,t[s]=null,e(d(n,!1)))}}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(n,r){e.nextTick(function(){t[u]?r(t[u]):n(d(void 0,!0))})});var r,i=this[h];if(i)r=new Promise(function(t,e){return function(n,r){t.then(function(){e[c]?n(d(void 0,!0)):e[l](n,r)},r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[l])}return this[h]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var t=this;return new Promise(function(e,n){t[f].destroy(null,function(t){t?n(t):e(d(void 0,!0))})})}),r),m);t.exports=function(t){var n,r=Object.create(v,(i(n={},f,{value:t,writable:!0}),i(n,a,{value:null,writable:!0}),i(n,s,{value:null,writable:!0}),i(n,u,{value:null,writable:!0}),i(n,c,{value:t._readableState.endEmitted,writable:!0}),i(n,l,{value:function(t,e){var n=r[f].read();n?(r[h]=null,r[a]=null,r[s]=null,t(d(n,!1))):(r[a]=t,r[s]=e)},writable:!0}),n));return r[h]=null,o(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[h]=null,r[a]=null,r[s]=null,e(t)),void(r[u]=t)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[s]=null,n(d(void 0,!0))),r[c]=!0}),t.on("readable",function(t){e.nextTick(p,t)}.bind(null,r)),r}}).call(this,n(9))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(116);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(4)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(35).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var h,l=function(t){return t.length?"function"!==typeof t[t.length-1]?s:t.pop():s}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var f=e.map(function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",function(){s=!0}),void 0===r&&(r=n(62)),r(t,{readable:e,writable:i},function(t){if(t)return o(t);s=!0,o()});var u=!1;return function(e){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"===typeof t.abort}(t)?t.abort():"function"===typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}(t,o,i>0,function(t){h||(h=t),t&&f.forEach(u),o||(f.forEach(u),l(h))})});return e.reduce(c)}},function(t,e,n){var r=n(61).Buffer,i=n(93),o=n(63),a=n(65).ec,s=n(64),u=n(48),c=n(128);function h(t,e,n,o){if((t=r.from(t.toArray())).length<e.byteLength()){var a=r.alloc(e.byteLength()-t.length);t=r.concat([a,t])}var s=n.length,u=function(t,e){t=(t=l(t,e)).mod(e);var n=r.from(t.toArray());if(n.length<e.byteLength()){var i=r.alloc(e.byteLength()-n.length);n=r.concat([i,n])}return n}(n,e),c=r.alloc(s);c.fill(1);var h=r.alloc(s);return h=i(o,h).update(c).update(r.from([0])).update(t).update(u).digest(),c=i(o,h).update(c).digest(),{k:h=i(o,h).update(c).update(r.from([1])).update(t).update(u).digest(),v:c=i(o,h).update(c).digest()}}function l(t,e){var n=new s(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function f(t,e,n){var o,a;do{for(o=r.alloc(0);8*o.length<t.bitLength();)e.v=i(n,e.k).update(e.v).digest(),o=r.concat([o,e.v]);a=l(o,t),e.k=i(n,e.k).update(e.v).update(r.from([0])).digest(),e.v=i(n,e.k).update(e.v).digest()}while(-1!==a.cmp(t));return a}function d(t,e,n,r){return t.toRed(s.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,e,n,i,p){var m=u(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var n=c[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var i=new a(n).keyFromPrivate(e.privateKey).sign(t);return r.from(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,n){for(var i,o=e.params.priv_key,a=e.params.p,u=e.params.q,c=e.params.g,p=new s(0),m=l(t,u).mod(u),v=!1,g=h(o,u,t,n);!1===v;)i=f(u,g,n),p=d(c,i,a,u),0===(v=i.invm(u).imul(m.add(o.mul(p))).mod(u)).cmpn(0)&&(v=!1,p=new s(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),r.from(n)}(p,v)}(t,m,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=r.concat([p,t]);for(var v=m.modulus.byteLength(),g=[0,1];t.length+g.length+1<v;)g.push(255);g.push(0);for(var y=-1;++y<t.length;)g.push(t[y]);return o(g,m)},t.exports.getKey=h,t.exports.makeKey=f},,function(t){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},,function(t,e,n){"use strict";var r=n(20),i=n(22),o=n(4),a=n(47),s=r.assert;function u(t){a.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,n,r){a.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(t,e,n,r){a.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map(function(t){return{a:new i(t.a,16),b:new i(t.b,16)}}):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,n,r,o,a,s,u,c,h,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),g=new i(1),y=0;0!==f.cmpn(0);){var b=d.div(f);c=d.sub(b.mul(f)),h=v.sub(b.mul(p));var w=g.sub(b.mul(m));if(!r&&c.cmp(l)<0)e=u.neg(),n=p,r=c.neg(),o=h;else if(r&&2===++y)break;u=c,d=f,f=c,v=p,p=h,g=m,m=w}a=c.neg(),s=h;var _=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=e,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),h=0;h<2*o;h++)r[h]=null,i[h]=null;return c},o(c,a.BasePoint),u.prototype.point=function(t,e,n){return new c(this,t,e,n)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,n){"string"===typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,a.BasePoint),u.prototype.jpoint=function(t,e,n){return new h(this,t,e,n)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),l=r.redMul(c),f=u.redSqr().redIAdd(h).redISub(l).redISub(l),d=u.redMul(l.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},h.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),l=s.redSqr().redIAdd(c).redISub(h).redISub(h),f=s.redMul(h.redISub(l)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(l,f,d)},h.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),l=c.redSqr(),f=l.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(u)),p=o.redMul(l),m=d.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=d.redMul(v);g=g.redIAdd(g).redISub(f);var y=c.redMul(s);e+1<t&&(u=u.redMul(f)),o=m,s=y,c=g}return this.curve.jpoint(o,c.redMul(i),s)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),v=f.redIAdd(f);v=(v=v.redIAdd(v)).redIAdd(v),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},h.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),l=this.y.redSqr(),f=this.x.redMul(l),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(h);var v=l.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),e=d.redMul(p.redISub(t)).redISub(v)}return this.curve.jpoint(t,e,n)},h.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(a),h=s.redSqr().redISub(c.redAdd(c)),l=c.redISub(h),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(l).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(h,d,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),h=e.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.x.redMul(s).redISub(h);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(l,f,d)},h.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},h.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},h.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var r=n(22),i=n(4),o=n(47),a=n(20);function s(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),t.exports=s,s.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(u,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new u(this,t,e)},s.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),a=i.redMul(r),s=e.z.redMul(o.redAdd(a).redSqr()),u=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var r=n(20),i=n(22),o=n(4),a=n(47),s=r.assert;function u(t){this.twisted=1!==(0|t.a),this.mOneA=this.twisted&&-1===(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|t.c)}function c(t,e,n,r,o){a.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(e&&!u||!e&&u)&&(s=s.redNeg()),this.point(t,s)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(c,a.BasePoint),u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},u.prototype.point=function(t,e,n,r){return new c(this,t,e,n,r)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),a=o.redSub(n),s=r.redSub(e),u=i.redMul(a),c=o.redMul(s),h=i.redMul(s),l=a.redMul(o);return this.curve.point(u,c,l,h)},c.prototype._projDbl=function(){var t,e,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(t=a.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(r.redSub(u)),n=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),t=a.redSub(s).redISub(u).redMul(o),e=c.redMul(r.redSub(u)),n=c.redMul(o))}else r=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),t=this.curve._mulC(a.redISub(r)).redMul(o),e=this.curve._mulC(r).redMul(s.redISub(u)),n=r.redMul(o);return this.curve.point(t,e,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(e),c=o.redMul(a),h=s.redMul(u),l=o.redMul(u),f=a.redMul(s);return this.curve.point(c,h,f,l)},c.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),h=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),l=r.redMul(u).redMul(h);return this.curve.twisted?(e=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(c)):(e=r.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,n)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},c.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(t,e,n){"use strict";e.sha1=n(243),e.sha224=n(244),e.sha256=n(120),e.sha384=n(245),e.sha512=n(121)},function(t,e,n){"use strict";var r=n(21),i=n(42),o=n(119),a=r.rotl32,s=r.sum32,u=r.sum32_5,c=o.ft_1,h=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,h),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],h=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=u(a(i,5),c(p,o,h,f),d,n[r],l[p]);d=f,f=h,h=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],h),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(21),i=n(120);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(21),i=n(121);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(21),i=n(42),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(h,c),e.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],h=this.h[4],y=n,b=r,w=i,_=c,E=h,S=0;S<80;S++){var T=a(o(u(n,l(S,r,i,c),t[p[S]+e],f(S)),v[S]),h);n=h,h=c,c=o(i,10),i=r,r=T,T=a(o(u(y,l(79-S,b,w,_),t[m[S]+e],d(S)),g[S]),E),y=E,E=_,_=o(w,10),w=b,b=T}T=s(this.h[1],i,_),this.h[1]=s(this.h[2],c,E),this.h[2]=s(this.h[3],h,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,w),this.h[0]=T},h.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(21),i=n(19);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var r=n(22),i=n(250),o=n(20),a=n(66),s=n(60),u=o.assert,c=n(251),h=n(252);function l(t){if(!(this instanceof l))return new l(t);"string"===typeof t&&(u(Object.prototype.hasOwnProperty.call(a,t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=l,l.prototype.keyPair=function(t){return new c(this,t)},l.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},l.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},l.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(e.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},l.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},l.prototype.sign=function(t,e,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),u=t.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new r(1)),f=0;;f++){var d=o.k?o.k(f):new r(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(l)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=d.invm(this.n).mul(v.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new h({r:v,s:g,recoveryParam:y})}}}}}},l.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new h(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),c=u.mul(t).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),l)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(t,e,n,i){u((3&n)===n,"The recovery param is more than two bits"),e=new h(e,i);var o=this.n,a=new r(t),s=e.r,c=e.s,l=1&n,f=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var d=e.r.invm(o),p=o.sub(a).mul(d).umod(o),m=c.mul(d).umod(o);return this.g.mulAdd(p,s,m)},l.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new h(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var r=n(67),i=n(117),o=n(19);function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=a,a.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,r){"string"!==typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,i.encode(a,e)}},function(t,e,n){"use strict";var r=n(22),i=n(20).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(22),i=n(20),o=i.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function u(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function c(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function h(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=a,a.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new s;if(48!==t[n.place++])return!1;var o=u(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var a=u(t,n);if(!1===a)return!1;var c=t.slice(n.place,a+n.place);if(n.place+=a,2!==t[n.place++])return!1;var h=u(t,n);if(!1===h)return!1;if(t.length!==h+n.place)return!1;var l=t.slice(n.place,h+n.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new r(c),this.s=new r(l),this.recoveryParam=null,!0},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=c(e),n=c(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];h(r,e.length),(r=r.concat(e)).push(2),h(r,n.length);var o=r.concat(n),a=[48];return h(a,o.length),a=a.concat(o),i.encode(a,t)}},function(t,e,n){"use strict";var r=n(67),i=n(66),o=n(20),a=o.assert,s=o.parseBytes,u=n(254),c=n(255);function h(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof h))return new h(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=h,h.prototype.sign=function(t,e){t=s(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},h.prototype.verify=function(t,e,n){t=s(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},h.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},h.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},h.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},h.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},h.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!==(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},h.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(t){return o.intFromLE(t)},h.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var r=n(20),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}s.fromPublic=function(t,e){return e instanceof s?e:new s(t,{pub:e})},s.fromSecret=function(t,e){return e instanceof s?e:new s(t,{secret:e})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},s.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},s.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},s.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=s},function(t,e,n){"use strict";var r=n(22),i=n(20),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(t,e){this.eddsa=t,"object"!==typeof e&&(e=s(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},function(t,e,n){"use strict";var r=n(122);e.certificate=n(263);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});e.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});e.PrivateKey=u;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=c;var h=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=h,e.DSAparam=r.define("DSAparam",function(){this.int()});var l=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=l;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},,function(t,e,n){"use strict";var r=n(124),i=n(126),o=n(4);function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(t){var e=this.name;function n(t){this._initNamed(t,e)}return o(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},a.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},a.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},a.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r[t])),this.encoders[t]},a.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(t,e,n){"use strict";var r=n(4),i=n(125);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";var r=n(4),i=n(68).Buffer,o=n(127);function a(t){o.call(this,t),this.enc="pem"}r(a,o),t.exports=a,a.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<n.length;c++){var h=n[c].match(a);if(null!==h&&h[2]===r){if(-1!==s){if("END"!==h[1])break;u=c;break}if("BEGIN"!==h[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var l=n.slice(s+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");var f=i.from(l,"base64");return o.prototype.decode.call(this,f,e)}},function(t,e,n){"use strict";var r=e;r.Reporter=n(70).Reporter,r.DecoderBuffer=n(43).DecoderBuffer,r.EncoderBuffer=n(43).EncoderBuffer,r.Node=n(69)},function(t,e,n){"use strict";var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n}),e},r.der=n(71)},function(t,e,n){"use strict";var r=n(122),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),c=r.define("RDNSequence",function(){this.seqof(u)}),h=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),l=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(h),this.key("validity").use(l),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});t.exports=p},function(t){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(46),s=n(58),u=n(5).Buffer;t.exports=function(t,e){var n,c=t.toString(),h=c.match(r);if(h){var l="aes"+h[1],f=u.from(h[2],"hex"),d=u.from(h[3].replace(/[\r\n]/g,""),"base64"),p=a(e,f.slice(0,8),parseInt(h[1],10)).key,m=[],v=s.createDecipheriv(l,p,f);m.push(v.update(d)),m.push(v.final()),n=u.concat(m)}else{var g=c.match(o);n=u.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:n}}},function(t,e,n){var r=n(61).Buffer,i=n(64),o=n(65).ec,a=n(48),s=n(128);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,n,c,h){var l=a(n);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(t,e,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(e,t,a)}(t,e,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,o=n.data.q,s=n.data.g,c=n.data.pub_key,h=a.signature.decode(t,"der"),l=h.s,f=h.r;u(l,o),u(f,o);var d=i.mont(r),p=l.invm(o);return 0===s.toRed(d).redPow(new i(e).mul(p).mod(o)).fromRed().mul(c.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}(t,e,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");e=r.concat([h,e]);for(var f=l.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=r.from(d);var v=i.mont(l.modulus);t=(t=new i(t).toRed(v)).redPow(new i(l.publicExponent)),t=r.from(t.fromRed().toArray());var g=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(g=1),m=-1;++m<f;)g|=t[m]^d[m];return 0===g}},function(t,e,n){(function(e){var r=n(65),i=n(268);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(12).Buffer)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(269).Buffer}catch(I){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,h=n;h<s;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var l=1;for(u=c(t,h,t.length,e),h=0;h<a;h++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,h=0|a[0],l=8191&h,f=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,I=0|a[5],M=8191&I,k=I>>>13,C=0|a[6],A=8191&C,O=C>>>13,R=0|a[7],N=8191&R,x=R>>>13,P=0|a[8],D=8191&P,j=P>>>13,L=0|a[9],F=8191&L,U=L>>>13,B=0|s[0],q=8191&B,V=B>>>13,K=0|s[1],z=8191&K,W=K>>>13,H=0|s[2],G=8191&H,Q=H>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ht=0|s[8],lt=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(m,q)|0,o=Math.imul(m,V);var gt=(c+(r=r+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(y,q)|0,o=Math.imul(y,V),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var yt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var bt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(w,z)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var wt=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,V))+Math.imul(k,q)|0,o=Math.imul(k,V),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(r=r+Math.imul(l,nt)|0)|0)+((8191&(i=(i=i+Math.imul(l,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(O,q)|0,o=Math.imul(O,V),r=r+Math.imul(M,z)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(c+(r=r+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(A,z)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(r=r+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Tt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(U,q)|0,o=Math.imul(U,V),r=r+Math.imul(D,z)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ft)|0;var It=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(U,z)|0,o=Math.imul(U,W),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(g,lt)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ft)|0;var kt=(c+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,$))+Math.imul(U,X)|0,o=Math.imul(U,$),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ft)|0;var Ct=(c+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,tt))+Math.imul(U,Z)|0,o=Math.imul(U,tt),r=r+Math.imul(D,nt)|0,i=(i=i+Math.imul(D,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var At=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(F,nt),i=(i=Math.imul(F,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(F,ot),i=(i=Math.imul(F,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var Rt=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(F,ut),i=(i=Math.imul(F,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),r=r+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(j,lt)|0,o=o+Math.imul(j,ft)|0;var Nt=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(F,lt),i=(i=Math.imul(F,ft))+Math.imul(U,lt)|0,o=Math.imul(U,ft);var xt=(c+(r=r+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Pt=(c+(r=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=It,u[10]=Mt,u[11]=kt,u[12]=Ct,u[13]=At,u[14]=Ot,u[15]=Rt,u[16]=Nt,u[17]=xt,u[18]=Pt,0!==c&&(u[19]=c,n.length++),n};function m(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var l=u,f=c,d=0;d<a;d++){var p=n[h+d],m=r[h+d],v=n[h+d+a],g=r[h+d+a],y=l*v-f*g;g=l*g+f*v,v=y,n[h+d]=p+v,r[h+d]=m+g,n[h+d+a]=p-v,r[h+d+a]=m-g,d!==s&&(y=u*l-c*f,f=u*f+c*l,l=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),l=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,h,l,r,i);for(var d=0;d<r;d++){var p=s[d]*h[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-o|l>>>o,h=l&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var f=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0===(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var l=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===h)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(this,n(29)(t))},,function(t,e,n){e.publicEncrypt=n(271),e.privateDecrypt=n(273),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var r=n(48),i=n(31),o=n(39),a=n(129),s=n(130),u=n(72),c=n(131),h=n(63),l=n(5).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var d,p=r(t);if(4===f)d=function(t,e){var n=t.modulus.byteLength(),r=e.length,c=o("sha1").update(l.alloc(0)).digest(),h=c.length,f=2*h;if(r>n-f-2)throw new Error("message too long");var d=l.alloc(n-r-f-2),p=n-h-1,m=i(h),v=s(l.concat([c,d,l.alloc(1,1),e],p),a(m,p)),g=s(m,a(v,h));return new u(l.concat([l.alloc(1),g,v],n))}(p,e);else if(1===f)d=function(t,e,n){var r,o=e.length,a=t.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?l.alloc(a-o-3,255):function(t){var e,n=l.allocUnsafe(t),r=0,o=i(2*t),a=0;for(;r<t;)a===o.length&&(o=i(2*t),a=0),(e=o[a++])&&(n[r++]=e);return n}(a-o-3);return new u(l.concat([l.from([0,n?1:2]),r,l.alloc(1),e],a))}(p,e,n);else{if(3!==f)throw new Error("unknown padding");if((d=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?h(d,p):c(d,p)}},,function(t,e,n){var r=n(48),i=n(129),o=n(130),a=n(72),s=n(63),u=n(39),c=n(131),h=n(5).Buffer;t.exports=function(t,e,n){var l;l=t.padding?t.padding:n?1:4;var f,d=r(t),p=d.modulus.byteLength();if(e.length>p||new a(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=n?c(new a(e),d):s(e,d);var m=h.alloc(p-f.length);if(f=h.concat([m,f],p),4===l)return function(t,e){var n=t.modulus.byteLength(),r=u("sha1").update(h.alloc(0)).digest(),a=r.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,a+1),c=e.slice(a+1),l=o(s,i(c,a)),f=o(c,i(l,n-a-1));if(function(t,e){t=h.from(t),e=h.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,f.slice(0,a)))throw new Error("decryption error");var d=a;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===l)return function(t,e,n){var r=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,f,n);if(3===l)return f;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(5),a=n(31),s=o.Buffer,u=o.kMaxLength,c=t.crypto||t.msCrypto,h=Math.pow(2,32)-1;function l(t,e){if("number"!==typeof t||t!==t)throw new TypeError("offset must be a number");if(t>h||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function f(t,e,n){if("number"!==typeof t||t!==t)throw new TypeError("size must be a number");if(t>h||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>u)throw new RangeError("buffer too small")}function d(t,e,n,i){if(r.browser){var o=t.buffer,s=new Uint8Array(o,e,n);return c.getRandomValues(s),i?void r.nextTick(function(){i(null,t)}):t}if(!i)return a(n).copy(t,e),t;a(n,function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)})}c&&c.getRandomValues||!r.browser?(e.randomFill=function(e,n,r,i){if(!s.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=e.length;else if("function"===typeof r)i=r,r=e.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return l(n,e.length),f(r,n,e.length),d(e,n,r,i)},e.randomFillSync=function(e,n,r){"undefined"===typeof n&&(n=0);if(!s.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(n,e.length),void 0===r&&(r=e.length-n);return f(r,n,e.length),d(e,n,r)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,n(11),n(9))},function(t){t.exports={name:"dotenv",version:"16.3.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}]]);
//# sourceMappingURL=1.39b542fe.chunk.js.map